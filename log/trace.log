2025-02-16 17:01:15.831 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.2.0.Final
2025-02-16 17:01:15.871 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 18252 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 17:01:15.872 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 17:01:15.922 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-16 17:01:15.923 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-16 17:01:17.081 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 17:01:17.084 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 17:01:17.115 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-02-16 17:01:17.384 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$225b7b2f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.396 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.472 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.473 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$f42531dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.474 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.475 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.477 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.477 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.480 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.482 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.483 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.485 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.486 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.489 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.490 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.502 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.739 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:17.740 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:01:18.302 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 17:01:18.311 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 17:01:18.312 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 17:01:18.312 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 17:01:18.393 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 17:01:18.394 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 2471 ms
2025-02-16 17:01:18.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:01:18.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:01:20.148 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 17:01:20.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:01:20.255 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:01:20.256 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 17:01:20.264 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 17:01:20.267 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:01:20.277 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 17:01:20.290 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 5.072 seconds (JVM running for 6.618)
2025-02-16 17:01:20.291 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 17:01:20.293 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 17:01:20.293 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 17:01:20.293 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 17:01:35.019 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546254807418146816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:01:35.037 WARN  com.zaxxer.hikari.HikariConfig                    :1084 [32m546254807418146816[0;39m HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2025-02-16 17:01:35.037 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m546254807418146816[0;39m HikariPool-1 - Starting...
2025-02-16 17:01:35.479 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m546254807418146816[0;39m HikariPool-1 - Start completed.
2025-02-16 17:01:35.486 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546254807418146816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:01:35.503 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546254807418146816[0;39m ==> Parameters: 
2025-02-16 17:01:35.522 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546254807418146816[0;39m <==    Updates: 2
2025-02-16 17:01:35.524 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546254807418146816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š505æ¯«ç§’
2025-02-16 17:01:40.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:01:48.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:01:48.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:02:00.310 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:02:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546254933205323776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:02:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546254933205323776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:02:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546254933205323776[0;39m ==> Parameters: 
2025-02-16 17:02:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546254933205323776[0;39m <==    Updates: 2
2025-02-16 17:02:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546254933205323776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 17:02:18.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:02:18.743 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:02:20.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:02:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546255059034443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:02:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255059034443776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:02:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255059034443776[0;39m ==> Parameters: 
2025-02-16 17:02:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255059034443776[0;39m <==    Updates: 2
2025-02-16 17:02:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546255059034443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:02:40.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:02:48.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:02:48.751 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:03:00.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:03:04.091 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 17:03:04.092 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2025-02-16 17:03:04.093 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2025-02-16 17:03:04.132 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šeBaOnECO4Gï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:03:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546255184859369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:03:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255184859369472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:03:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255184859369472[0;39m ==> Parameters: 
2025-02-16 17:03:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255184859369472[0;39m <==    Updates: 2
2025-02-16 17:03:05.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546255184859369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 17:03:18.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:03:18.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:03:20.380 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:03:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546255310688489472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:03:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255310688489472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:03:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255310688489472[0;39m ==> Parameters: 
2025-02-16 17:03:35.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255310688489472[0;39m <==    Updates: 2
2025-02-16 17:03:35.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546255310688489472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 17:03:40.241 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šiCSkvDRxb1ï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š2
2025-02-16 17:03:40.402 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:03:41.606 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šiCSkvDRxb1ï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:03:48.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:03:48.740 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:00.414 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:04:04.619 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-02-16 17:04:04.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:04.644 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šeBaOnECO4Gï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 17:04:04.648 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:04:04.651 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2025-02-16 17:04:04.880 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2025-02-16 17:04:04.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:04.892 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:04.893 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 17:04:04.894 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:04.895 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:04.895 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 17:04:04.999 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 18252 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 17:04:05.000 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 17:04:05.178 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 17:04:05.178 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 17:04:05.199 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-02-16 17:04:05.243 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$225b7b2f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.246 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.272 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.272 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$f42531dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.273 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.274 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.275 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.275 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.276 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.276 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.276 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.277 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.277 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.277 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.278 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.281 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.338 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.338 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:05.402 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 17:04:05.403 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 17:04:05.403 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 17:04:05.403 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 17:04:05.421 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 17:04:05.421 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 418 ms
2025-02-16 17:04:05.898 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 17:04:05.958 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:04:05.959 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:05.959 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 17:04:05.961 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 17:04:05.967 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 17:04:05.970 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 1.032 seconds (JVM running for 172.299)
2025-02-16 17:04:05.971 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 17:04:05.972 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-02-16 17:04:05.972 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 17:04:05.972 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 17:04:05.973 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 17:04:05.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:04:06.313 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:06.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:07.815 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-02-16 17:04:07.816 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:07.838 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:04:07.842 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:07.843 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:07.844 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 17:04:07.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:07.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 17:04:07.953 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 18252 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 17:04:07.953 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 17:04:08.134 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 17:04:08.135 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 17:04:08.155 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-02-16 17:04:08.197 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$225b7b2f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.199 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.226 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.227 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$f42531dd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.227 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.228 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.229 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.229 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.230 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.230 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.230 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.231 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.231 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.231 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.232 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.234 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.290 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.290 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:08.351 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 17:04:08.351 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 17:04:08.352 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 17:04:08.352 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 17:04:08.369 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 17:04:08.369 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 413 ms
2025-02-16 17:04:08.910 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 17:04:08.963 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:04:08.963 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:08.963 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 17:04:08.966 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 17:04:08.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:04:08.981 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 17:04:08.984 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 1.093 seconds (JVM running for 175.312)
2025-02-16 17:04:08.984 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 17:04:08.985 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-02-16 17:04:08.985 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 17:04:08.985 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 17:04:08.985 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 17:04:09.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:09.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:23.978 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.2.0.Final
2025-02-16 17:04:23.985 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 22892 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 17:04:23.990 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 17:04:24.031 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-16 17:04:24.031 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-16 17:04:24.564 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 17:04:24.567 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 17:04:24.603 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-02-16 17:04:24.823 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$174369c4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.833 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.890 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.892 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$e90d2072] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.893 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.895 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.899 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.900 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.903 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.905 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.905 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.907 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.908 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.910 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.911 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:24.923 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:25.169 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:25.170 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:04:25.652 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 17:04:25.660 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 17:04:25.661 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 17:04:25.661 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 17:04:25.726 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 17:04:25.726 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1694 ms
2025-02-16 17:04:26.162 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:26.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:27.061 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 17:04:27.224 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:04:27.224 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:27.224 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 17:04:27.231 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 17:04:27.234 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:04:27.245 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 17:04:27.260 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 3.654 seconds (JVM running for 4.324)
2025-02-16 17:04:27.261 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 17:04:27.264 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 17:04:27.264 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 17:04:27.264 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 17:04:35.020 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546255562397061120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:04:35.039 WARN  com.zaxxer.hikari.HikariConfig                    :1084 [32m546255562397061120[0;39m HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2025-02-16 17:04:35.039 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m546255562397061120[0;39m HikariPool-1 - Starting...
2025-02-16 17:04:35.464 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m546255562397061120[0;39m HikariPool-1 - Start completed.
2025-02-16 17:04:35.470 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255562397061120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:04:35.488 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255562397061120[0;39m ==> Parameters: 
2025-02-16 17:04:35.503 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255562397061120[0;39m <==    Updates: 2
2025-02-16 17:04:35.504 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546255562397061120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š483æ¯«ç§’
2025-02-16 17:04:47.251 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:04:56.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:04:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:05:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546255688180043776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:05:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255688180043776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:05:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255688180043776[0;39m ==> Parameters: 
2025-02-16 17:05:05.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255688180043776[0;39m <==    Updates: 2
2025-02-16 17:05:05.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546255688180043776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 17:05:07.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:05:16.094 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 17:05:16.095 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2025-02-16 17:05:16.095 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 0 ms
2025-02-16 17:05:16.144 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šI3GGJvSHX1ï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:05:16.233 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546255735277883392[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:05:16.233 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546255735277883394[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:05:16.233 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546255735277883393[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:05:16.234 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546255735277883393[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 17:05:16.234 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546255735277883394[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 17:05:16.234 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546255735277883392[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 17:05:16.234 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546255735277883392[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 17:05:16.234 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546255735277883393[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 17:05:16.234 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546255735277883394[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 17:05:16.235 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546255735277883392[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:05:16.235 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546255735277883393[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:05:16.235 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546255735277883394[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:05:16.237 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546255735277883392[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:05:16.237 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546255735277883393[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:05:16.237 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546255735277883394[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:05:16.255 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546255735277883392[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 17:05:16.257 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546255735277883392[0;39m ==> Parameters: 
2025-02-16 17:05:16.263 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546255735277883394[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 17:05:16.264 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546255735277883394[0;39m ==> Parameters: 
2025-02-16 17:05:16.281 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546255735277883394[0;39m <==      Total: 0
2025-02-16 17:05:16.281 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546255735277883392[0;39m <==      Total: 0
2025-02-16 17:05:16.289 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546255735277883393[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-02-16 17:05:16.289 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546255735277883393[0;39m ==> Parameters: 
2025-02-16 17:05:16.290 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546255735277883392[0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2025-02-16 17:05:16.290 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546255735277883394[0;39m è¿”å›žç»“æžœ: {"content":[],"success":true}
2025-02-16 17:05:16.290 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546255735277883394[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š59 ms -------------
2025-02-16 17:05:16.290 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546255735277883392[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š59 ms -------------
2025-02-16 17:05:16.299 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==    Columns: id, parent, name, sort
2025-02-16 17:05:16.300 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 543797670435753984, 0, nayiæ‰¾å·¥ä½œæƒ…å†µ, 90
2025-02-16 17:05:16.301 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 100, 0, å°±ä¸šè¾…å¯¼, 100
2025-02-16 17:05:16.302 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 101, 100, Vue, 101
2025-02-16 17:05:16.303 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-02-16 17:05:16.303 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 200, 0, å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„, 200
2025-02-16 17:05:16.303 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2025-02-16 17:05:16.304 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2025-02-16 17:05:16.304 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 300, 0, Python, 300
2025-02-16 17:05:16.306 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2025-02-16 17:05:16.306 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2025-02-16 17:05:16.307 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2025-02-16 17:05:16.307 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 401, 400, MySQL, 401
2025-02-16 17:05:16.308 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2025-02-16 17:05:16.308 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2025-02-16 17:05:16.309 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2025-02-16 17:05:16.310 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546255735277883393[0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2025-02-16 17:05:16.314 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546255735277883393[0;39m <==      Total: 16
2025-02-16 17:05:16.330 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546255735277883393[0;39m è¿”å›žç»“æžœ: {"content":[{"id":543797670435753984,"name":"nayiæ‰¾å·¥ä½œæƒ…å†µ","parent":0,"sort":90},{"id":100,"name":"å°±ä¸šè¾…å¯¼","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2025-02-16 17:05:16.330 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546255735277883393[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š99 ms -------------
2025-02-16 17:05:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:05:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:05:27.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:05:35.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546255814055301120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:05:35.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255814055301120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:05:35.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255814055301120[0;39m ==> Parameters: 
2025-02-16 17:05:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255814055301120[0;39m <==    Updates: 2
2025-02-16 17:05:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546255814055301120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 17:05:47.288 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:05:56.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:05:56.172 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:06:05.014 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546255939888615424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:06:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255939888615424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:06:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255939888615424[0;39m ==> Parameters: 
2025-02-16 17:06:05.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546255939888615424[0;39m <==    Updates: 2
2025-02-16 17:06:05.045 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546255939888615424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:06:07.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:06:26.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:06:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:06:27.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:06:35.015 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546256065721929728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:06:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256065721929728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:06:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256065721929728[0;39m ==> Parameters: 
2025-02-16 17:06:35.048 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256065721929728[0;39m <==    Updates: 2
2025-02-16 17:06:35.049 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546256065721929728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 17:06:47.332 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:06:56.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:06:56.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:07:05.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546256191525883904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:07:05.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256191525883904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:07:05.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256191525883904[0;39m ==> Parameters: 
2025-02-16 17:07:05.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256191525883904[0;39m <==    Updates: 2
2025-02-16 17:07:05.039 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546256191525883904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 17:07:07.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:07:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:07:26.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:07:27.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:07:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546256317321449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:07:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256317321449472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:07:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256317321449472[0;39m ==> Parameters: 
2025-02-16 17:07:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256317321449472[0;39m <==    Updates: 2
2025-02-16 17:07:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546256317321449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 17:07:47.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:07:56.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:07:56.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:08:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546256443154763776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:08:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256443154763776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:08:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256443154763776[0;39m ==> Parameters: 
2025-02-16 17:08:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256443154763776[0;39m <==    Updates: 2
2025-02-16 17:08:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546256443154763776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:08:07.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:08:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:08:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:08:27.411 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:08:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546256568979689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:08:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256568979689472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:08:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256568979689472[0;39m ==> Parameters: 
2025-02-16 17:08:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256568979689472[0;39m <==    Updates: 2
2025-02-16 17:08:35.085 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546256568979689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š84æ¯«ç§’
2025-02-16 17:08:47.421 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:08:56.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:08:56.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:09:05.010 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546256694846558208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:09:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256694846558208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:09:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256694846558208[0;39m ==> Parameters: 
2025-02-16 17:09:05.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256694846558208[0;39m <==    Updates: 2
2025-02-16 17:09:05.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546256694846558208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:09:07.431 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:09:26.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:09:26.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:09:27.474 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:09:35.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546256820679872512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:09:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256820679872512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:09:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256820679872512[0;39m ==> Parameters: 
2025-02-16 17:09:35.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256820679872512[0;39m <==    Updates: 2
2025-02-16 17:09:35.043 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546256820679872512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:09:47.483 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:09:56.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:09:56.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:10:05.006 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546256946488020992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:10:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256946488020992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:10:05.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256946488020992[0;39m ==> Parameters: 
2025-02-16 17:10:05.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546256946488020992[0;39m <==    Updates: 2
2025-02-16 17:10:05.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546256946488020992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:10:07.493 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:10:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:10:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:10:27.506 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:10:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546257072300363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:10:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257072300363776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:10:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257072300363776[0;39m ==> Parameters: 
2025-02-16 17:10:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257072300363776[0;39m <==    Updates: 2
2025-02-16 17:10:35.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546257072300363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 17:10:47.516 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:10:56.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:10:56.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:11:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546257198125289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:11:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257198125289472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:11:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257198125289472[0;39m ==> Parameters: 
2025-02-16 17:11:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257198125289472[0;39m <==    Updates: 2
2025-02-16 17:11:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546257198125289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:11:07.526 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:11:26.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:11:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:11:27.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:11:35.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546257323966992384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:11:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257323966992384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:11:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257323966992384[0;39m ==> Parameters: 
2025-02-16 17:11:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257323966992384[0;39m <==    Updates: 2
2025-02-16 17:11:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546257323966992384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 17:11:47.547 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:11:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:11:56.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:12:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546257449787723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:12:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257449787723776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:12:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257449787723776[0;39m ==> Parameters: 
2025-02-16 17:12:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257449787723776[0;39m <==    Updates: 2
2025-02-16 17:12:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546257449787723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:12:07.559 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:12:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:12:26.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:12:27.583 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:12:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546257575612649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:12:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257575612649472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:12:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257575612649472[0;39m ==> Parameters: 
2025-02-16 17:12:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257575612649472[0;39m <==    Updates: 2
2025-02-16 17:12:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546257575612649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 17:12:47.608 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:12:56.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:12:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:13:05.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546257701487906816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:13:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257701487906816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:13:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257701487906816[0;39m ==> Parameters: 
2025-02-16 17:13:05.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257701487906816[0;39m <==    Updates: 2
2025-02-16 17:13:05.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546257701487906816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:13:07.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:13:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:13:26.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:13:27.630 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:13:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546257827270889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:13:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257827270889472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:13:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257827270889472[0;39m ==> Parameters: 
2025-02-16 17:13:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257827270889472[0;39m <==    Updates: 2
2025-02-16 17:13:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546257827270889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:13:47.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:13:56.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:13:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:14:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546257953095815168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:14:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257953095815168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:14:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257953095815168[0;39m ==> Parameters: 
2025-02-16 17:14:05.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546257953095815168[0;39m <==    Updates: 2
2025-02-16 17:14:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546257953095815168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:14:07.650 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:14:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:14:26.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:14:27.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:14:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546258078929129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:14:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258078929129472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:14:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258078929129472[0;39m ==> Parameters: 
2025-02-16 17:14:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258078929129472[0;39m <==    Updates: 2
2025-02-16 17:14:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546258078929129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 17:14:47.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:14:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:14:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:15:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546258204762443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:15:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258204762443776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:15:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258204762443776[0;39m ==> Parameters: 
2025-02-16 17:15:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258204762443776[0;39m <==    Updates: 2
2025-02-16 17:15:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546258204762443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:15:07.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:15:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:15:26.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:15:27.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:15:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546258330591563776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:15:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258330591563776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:15:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258330591563776[0;39m ==> Parameters: 
2025-02-16 17:15:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258330591563776[0;39m <==    Updates: 2
2025-02-16 17:15:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546258330591563776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 17:15:47.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:15:56.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:15:56.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:16:05.007 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546258456441655296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:16:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258456441655296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:16:05.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258456441655296[0;39m ==> Parameters: 
2025-02-16 17:16:05.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258456441655296[0;39m <==    Updates: 2
2025-02-16 17:16:05.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546258456441655296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:16:07.739 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:16:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:16:26.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:16:27.752 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:16:35.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546258582274969600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:16:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258582274969600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:16:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258582274969600[0;39m ==> Parameters: 
2025-02-16 17:16:35.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258582274969600[0;39m <==    Updates: 2
2025-02-16 17:16:35.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546258582274969600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:16:47.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:16:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:16:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:17:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546258708078923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:17:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258708078923776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:17:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258708078923776[0;39m ==> Parameters: 
2025-02-16 17:17:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258708078923776[0;39m <==    Updates: 2
2025-02-16 17:17:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546258708078923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:17:07.775 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:17:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:17:26.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:17:27.786 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:17:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546258833903849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:17:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258833903849472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:17:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258833903849472[0;39m ==> Parameters: 
2025-02-16 17:17:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258833903849472[0;39m <==    Updates: 2
2025-02-16 17:17:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546258833903849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:17:47.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:17:56.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:17:56.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:18:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546258959732969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:18:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258959732969472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:18:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258959732969472[0;39m ==> Parameters: 
2025-02-16 17:18:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546258959732969472[0;39m <==    Updates: 2
2025-02-16 17:18:05.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546258959732969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 17:18:07.846 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:18:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:18:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:18:27.866 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:18:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546259085562089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:18:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259085562089472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:18:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259085562089472[0;39m ==> Parameters: 
2025-02-16 17:18:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259085562089472[0;39m <==    Updates: 2
2025-02-16 17:18:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546259085562089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:18:47.908 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:18:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:18:56.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:19:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546259211391209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:19:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259211391209472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:19:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259211391209472[0;39m ==> Parameters: 
2025-02-16 17:19:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259211391209472[0;39m <==    Updates: 2
2025-02-16 17:19:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546259211391209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:19:07.924 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:19:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:19:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:19:27.934 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:19:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546259337224523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:19:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259337224523776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:19:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259337224523776[0;39m ==> Parameters: 
2025-02-16 17:19:35.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259337224523776[0;39m <==    Updates: 2
2025-02-16 17:19:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546259337224523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 17:19:47.948 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:19:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:19:56.179 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:20:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546259463053643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:20:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259463053643776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:20:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259463053643776[0;39m ==> Parameters: 
2025-02-16 17:20:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259463053643776[0;39m <==    Updates: 2
2025-02-16 17:20:05.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546259463053643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 17:20:07.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:20:26.149 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:20:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:20:28.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:20:35.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546259588874375168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:20:35.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259588874375168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:20:35.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259588874375168[0;39m ==> Parameters: 
2025-02-16 17:20:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259588874375168[0;39m <==    Updates: 2
2025-02-16 17:20:35.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546259588874375168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 17:20:48.028 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:20:56.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:20:56.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:21:05.015 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546259714766409728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:21:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259714766409728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:21:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259714766409728[0;39m ==> Parameters: 
2025-02-16 17:21:05.046 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259714766409728[0;39m <==    Updates: 2
2025-02-16 17:21:05.046 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546259714766409728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:21:08.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:21:26.160 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:21:26.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:21:28.069 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:21:35.010 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546259840574558208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:21:35.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259840574558208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:21:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259840574558208[0;39m ==> Parameters: 
2025-02-16 17:21:35.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259840574558208[0;39m <==    Updates: 2
2025-02-16 17:21:35.039 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546259840574558208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 17:21:48.091 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:21:56.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:21:56.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:22:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546259966370123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:22:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259966370123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:22:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259966370123776[0;39m ==> Parameters: 
2025-02-16 17:22:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546259966370123776[0;39m <==    Updates: 2
2025-02-16 17:22:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546259966370123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:22:08.102 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:22:26.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:22:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:22:28.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:22:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546260092195049472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:22:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260092195049472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:22:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260092195049472[0;39m ==> Parameters: 
2025-02-16 17:22:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260092195049472[0;39m <==    Updates: 2
2025-02-16 17:22:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546260092195049472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 17:22:48.127 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:22:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:22:56.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:23:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546260218028363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:23:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260218028363776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:23:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260218028363776[0;39m ==> Parameters: 
2025-02-16 17:23:05.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260218028363776[0;39m <==    Updates: 2
2025-02-16 17:23:05.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546260218028363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 17:23:08.137 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:23:26.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:23:26.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:23:28.147 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:23:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546260343857483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:23:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260343857483776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:23:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260343857483776[0;39m ==> Parameters: 
2025-02-16 17:23:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260343857483776[0;39m <==    Updates: 2
2025-02-16 17:23:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546260343857483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 17:23:48.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:23:56.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:23:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:24:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546260469682409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:24:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260469682409472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:24:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260469682409472[0;39m ==> Parameters: 
2025-02-16 17:24:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260469682409472[0;39m <==    Updates: 2
2025-02-16 17:24:05.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546260469682409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 17:24:08.189 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:24:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:24:26.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:24:28.201 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:24:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546260595515723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:24:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260595515723776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:24:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260595515723776[0;39m ==> Parameters: 
2025-02-16 17:24:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260595515723776[0;39m <==    Updates: 2
2025-02-16 17:24:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546260595515723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:24:48.218 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:24:56.146 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:24:56.177 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:25:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546260721344843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:25:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260721344843776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:25:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260721344843776[0;39m ==> Parameters: 
2025-02-16 17:25:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260721344843776[0;39m <==    Updates: 2
2025-02-16 17:25:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546260721344843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:25:08.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:25:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:25:26.183 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:25:28.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:25:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546260847173963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:25:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260847173963776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:25:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260847173963776[0;39m ==> Parameters: 
2025-02-16 17:25:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260847173963776[0;39m <==    Updates: 2
2025-02-16 17:25:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546260847173963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:25:48.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:25:56.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:25:56.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:26:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546260973003083776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:26:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260973003083776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:26:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260973003083776[0;39m ==> Parameters: 
2025-02-16 17:26:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546260973003083776[0;39m <==    Updates: 2
2025-02-16 17:26:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546260973003083776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:26:08.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:26:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:26:26.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:26:28.300 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:26:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546261098828009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:26:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261098828009472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:26:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261098828009472[0;39m ==> Parameters: 
2025-02-16 17:26:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261098828009472[0;39m <==    Updates: 2
2025-02-16 17:26:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546261098828009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 17:26:48.324 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:26:56.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:26:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:27:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546261224661323776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:27:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261224661323776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:27:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261224661323776[0;39m ==> Parameters: 
2025-02-16 17:27:05.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261224661323776[0;39m <==    Updates: 2
2025-02-16 17:27:05.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546261224661323776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 17:27:08.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:27:26.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:27:26.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:27:28.344 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:27:35.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546261350532386816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:27:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261350532386816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:27:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261350532386816[0;39m ==> Parameters: 
2025-02-16 17:27:35.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261350532386816[0;39m <==    Updates: 2
2025-02-16 17:27:35.043 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546261350532386816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:27:48.357 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:27:56.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:27:56.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:28:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546261476315369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:28:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261476315369472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:28:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261476315369472[0;39m ==> Parameters: 
2025-02-16 17:28:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261476315369472[0;39m <==    Updates: 2
2025-02-16 17:28:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546261476315369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:28:08.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:28:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:28:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:28:28.398 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:28:35.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546261602161266688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:28:35.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261602161266688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:28:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261602161266688[0;39m ==> Parameters: 
2025-02-16 17:28:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261602161266688[0;39m <==    Updates: 2
2025-02-16 17:28:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546261602161266688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:28:48.433 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:28:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:28:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:29:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546261727981998080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:29:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261727981998080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:29:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261727981998080[0;39m ==> Parameters: 
2025-02-16 17:29:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261727981998080[0;39m <==    Updates: 2
2025-02-16 17:29:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546261727981998080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:29:08.450 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:29:26.140 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:29:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:29:28.459 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:29:35.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546261853848866816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:29:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261853848866816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:29:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261853848866816[0;39m ==> Parameters: 
2025-02-16 17:29:35.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261853848866816[0;39m <==    Updates: 2
2025-02-16 17:29:35.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546261853848866816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:29:48.479 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:29:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:29:56.171 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:30:05.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546261979673792512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:30:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261979673792512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:30:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261979673792512[0;39m ==> Parameters: 
2025-02-16 17:30:05.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546261979673792512[0;39m <==    Updates: 2
2025-02-16 17:30:05.043 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546261979673792512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:30:08.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:30:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:30:26.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:30:28.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:30:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546262105460969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:30:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262105460969472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:30:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262105460969472[0;39m ==> Parameters: 
2025-02-16 17:30:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262105460969472[0;39m <==    Updates: 2
2025-02-16 17:30:35.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546262105460969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:30:48.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:30:56.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:30:56.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:31:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546262231298478080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:31:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262231298478080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:31:05.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262231298478080[0;39m ==> Parameters: 
2025-02-16 17:31:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262231298478080[0;39m <==    Updates: 2
2025-02-16 17:31:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546262231298478080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 17:31:08.560 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:31:26.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:31:26.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:31:28.593 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:31:35.007 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546262357144375296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:31:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262357144375296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:31:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262357144375296[0;39m ==> Parameters: 
2025-02-16 17:31:35.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262357144375296[0;39m <==    Updates: 2
2025-02-16 17:31:35.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546262357144375296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:31:48.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:31:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:31:56.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:32:05.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546262482977689600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:32:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262482977689600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:32:05.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262482977689600[0;39m ==> Parameters: 
2025-02-16 17:32:05.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262482977689600[0;39m <==    Updates: 2
2025-02-16 17:32:05.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546262482977689600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:32:08.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:32:26.148 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:32:26.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:32:28.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:32:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546262608777449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:32:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262608777449472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:32:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262608777449472[0;39m ==> Parameters: 
2025-02-16 17:32:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262608777449472[0;39m <==    Updates: 2
2025-02-16 17:32:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546262608777449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 17:32:48.651 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:32:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:32:56.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:33:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546262734602375168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:33:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262734602375168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:33:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262734602375168[0;39m ==> Parameters: 
2025-02-16 17:33:05.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262734602375168[0;39m <==    Updates: 2
2025-02-16 17:33:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546262734602375168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:33:08.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:33:26.138 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:33:26.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:33:28.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:33:35.014 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546262860490215424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:33:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262860490215424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:33:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262860490215424[0;39m ==> Parameters: 
2025-02-16 17:33:35.046 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262860490215424[0;39m <==    Updates: 2
2025-02-16 17:33:35.047 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546262860490215424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:33:48.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:33:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:33:56.181 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:34:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546262986269003776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:34:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262986269003776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:34:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262986269003776[0;39m ==> Parameters: 
2025-02-16 17:34:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546262986269003776[0;39m <==    Updates: 2
2025-02-16 17:34:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546262986269003776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:34:08.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:34:26.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:34:26.169 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:34:28.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:34:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546263112098123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:34:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263112098123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:34:35.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263112098123776[0;39m ==> Parameters: 
2025-02-16 17:34:35.048 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263112098123776[0;39m <==    Updates: 2
2025-02-16 17:34:35.053 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546263112098123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š51æ¯«ç§’
2025-02-16 17:34:48.743 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:34:56.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:34:56.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546263237923049472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:35:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263237923049472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:35:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263237923049472[0;39m ==> Parameters: 
2025-02-16 17:35:05.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263237923049472[0;39m <==    Updates: 2
2025-02-16 17:35:05.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546263237923049472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 17:35:08.765 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:35:11.576 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-02-16 17:35:11.580 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:11.606 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šI3GGJvSHX1ï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 17:35:11.609 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:35:11.613 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2025-02-16 17:35:21.615 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2025-02-16 17:35:21.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:21.627 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:21.628 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 17:35:21.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:21.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:21.629 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 17:35:21.741 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 22892 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 17:35:21.742 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 17:35:21.946 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 17:35:21.947 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 17:35:21.968 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-02-16 17:35:22.020 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$174369c4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.024 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.051 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.051 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$e90d2072] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.052 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.052 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.054 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.054 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.055 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.055 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.056 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.057 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.057 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.057 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.058 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.062 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.120 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.121 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:22.198 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 17:35:22.198 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 17:35:22.198 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 17:35:22.199 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 17:35:22.218 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 17:35:22.218 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 474 ms
2025-02-16 17:35:22.743 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 17:35:22.804 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:22.804 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:35:22.804 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 17:35:22.806 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 17:35:22.810 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 17:35:22.813 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 1.14 seconds (JVM running for 1859.878)
2025-02-16 17:35:22.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:35:22.814 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 17:35:22.815 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-02-16 17:35:22.815 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 17:35:22.815 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 17:35:22.815 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 17:35:23.119 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:23.134 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:24.227 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-02-16 17:35:24.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:24.254 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:35:24.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:24.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:24.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 17:35:24.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:24.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:24.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 17:35:24.358 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 22892 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 17:35:24.358 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 17:35:24.540 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 17:35:24.540 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 17:35:24.561 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-02-16 17:35:24.604 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$174369c4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.607 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.633 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.633 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$e90d2072] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.634 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.634 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.636 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.636 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.636 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.636 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.636 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.638 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.638 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.638 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.638 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.641 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.696 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.696 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 17:35:24.762 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 17:35:24.762 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 17:35:24.762 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 17:35:24.762 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 17:35:24.781 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 17:35:24.781 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 420 ms
2025-02-16 17:35:25.320 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 17:35:25.388 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:25.388 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 17:35:25.388 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 17:35:25.390 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 17:35:25.394 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 17:35:25.397 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 1.092 seconds (JVM running for 1862.462)
2025-02-16 17:35:25.398 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 17:35:25.399 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-02-16 17:35:25.399 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 17:35:25.399 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 17:35:25.399 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 17:35:25.400 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:35:25.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:25.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:35.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546263363798306816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:35:35.015 WARN  com.zaxxer.hikari.HikariConfig                    :1084 [32m546263363798306816[0;39m HikariPool-2 - idleTimeout is close to or more than maxLifetime, disabling it.
2025-02-16 17:35:35.015 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m546263363798306816[0;39m HikariPool-2 - Starting...
2025-02-16 17:35:35.135 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m546263363798306816[0;39m HikariPool-2 - Start completed.
2025-02-16 17:35:35.135 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263363798306816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:35:35.136 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263363798306816[0;39m ==> Parameters: 
2025-02-16 17:35:35.152 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263363798306816[0;39m <==    Updates: 2
2025-02-16 17:35:35.152 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546263363798306816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š139æ¯«ç§’
2025-02-16 17:35:45.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:35:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:35:55.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:36:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546263468613963776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:36:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546263468613963776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:36:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546263468613963776[0;39m ==> Parameters: 
2025-02-16 17:36:00.066 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546263468613963776[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.genSnapshot(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.juege.tech_doc.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at jdk.internal.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2025-02-16 17:36:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546263489581289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:36:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263489581289472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:36:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263489581289472[0;39m ==> Parameters: 
2025-02-16 17:36:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263489581289472[0;39m <==    Updates: 2
2025-02-16 17:36:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546263489581289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:36:05.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:36:25.495 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:36:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:36:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:36:35.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546263615422992384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:36:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263615422992384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:36:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263615422992384[0;39m ==> Parameters: 
2025-02-16 17:36:35.038 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263615422992384[0;39m <==    Updates: 2
2025-02-16 17:36:35.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546263615422992384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 17:36:45.519 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:36:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:36:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:37:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546263720268009472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:37:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546263720268009472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:37:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546263720268009472[0;39m ==> Parameters: 
2025-02-16 17:37:00.037 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546263720268009472[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.genSnapshot(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.juege.tech_doc.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at jdk.internal.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2025-02-16 17:37:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546263741239529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:37:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263741239529472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:37:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263741239529472[0;39m ==> Parameters: 
2025-02-16 17:37:05.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263741239529472[0;39m <==    Updates: 2
2025-02-16 17:37:05.045 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546263741239529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š44æ¯«ç§’
2025-02-16 17:37:05.530 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:37:25.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:37:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:37:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:37:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546263867068649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:37:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263867068649472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:37:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263867068649472[0;39m ==> Parameters: 
2025-02-16 17:37:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263867068649472[0;39m <==    Updates: 2
2025-02-16 17:37:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546263867068649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:37:45.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:37:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:37:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:38:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546263971926249472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:38:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546263971926249472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:38:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546263971926249472[0;39m ==> Parameters: 
2025-02-16 17:38:00.038 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546263971926249472[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.genSnapshot(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.juege.tech_doc.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at jdk.internal.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2025-02-16 17:38:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546263992901963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:38:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263992901963776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:38:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263992901963776[0;39m ==> Parameters: 
2025-02-16 17:38:05.044 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546263992901963776[0;39m <==    Updates: 2
2025-02-16 17:38:05.045 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546263992901963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š43æ¯«ç§’
2025-02-16 17:38:05.606 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:38:25.631 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:38:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:38:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:38:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546264118726889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:38:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264118726889472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:38:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264118726889472[0;39m ==> Parameters: 
2025-02-16 17:38:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264118726889472[0;39m <==    Updates: 2
2025-02-16 17:38:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546264118726889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 17:38:45.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:38:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:38:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:39:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546264223580295168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:39:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546264223580295168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:39:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546264223580295168[0;39m ==> Parameters: 
2025-02-16 17:39:00.036 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546264223580295168[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.genSnapshot(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.juege.tech_doc.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at jdk.internal.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2025-02-16 17:39:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546264244551815168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:39:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264244551815168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:39:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264244551815168[0;39m ==> Parameters: 
2025-02-16 17:39:05.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264244551815168[0;39m <==    Updates: 2
2025-02-16 17:39:05.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546264244551815168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š42æ¯«ç§’
2025-02-16 17:39:05.664 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:39:25.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:39:25.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:39:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:39:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546264370385129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:39:35.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264370385129472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:39:35.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264370385129472[0;39m ==> Parameters: 
2025-02-16 17:39:35.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264370385129472[0;39m <==    Updates: 2
2025-02-16 17:39:35.045 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546264370385129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š44æ¯«ç§’
2025-02-16 17:39:45.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:39:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:39:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:40:00.009 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546264475276283904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:40:00.021 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546264475276283904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:40:00.021 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546264475276283904[0;39m ==> Parameters: 
2025-02-16 17:40:00.046 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546264475276283904[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.genSnapshot(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.juege.tech_doc.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at jdk.internal.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2025-02-16 17:40:05.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546264496260386816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:40:05.044 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264496260386816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:40:05.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264496260386816[0;39m ==> Parameters: 
2025-02-16 17:40:05.061 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264496260386816[0;39m <==    Updates: 2
2025-02-16 17:40:05.061 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546264496260386816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:40:05.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:40:25.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:40:25.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:40:25.734 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:40:35.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546264622055952384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:40:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264622055952384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:40:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264622055952384[0;39m ==> Parameters: 
2025-02-16 17:40:35.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264622055952384[0;39m <==    Updates: 2
2025-02-16 17:40:35.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546264622055952384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 17:40:45.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:40:55.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:40:55.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:41:00.011 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546264726942912512[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:41:00.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546264726942912512[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:41:00.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546264726942912512[0;39m ==> Parameters: 
2025-02-16 17:41:00.042 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546264726942912512[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.genSnapshot(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.juege.tech_doc.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at jdk.internal.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2025-02-16 17:41:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546264747876683776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:41:05.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264747876683776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:41:05.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264747876683776[0;39m ==> Parameters: 
2025-02-16 17:41:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264747876683776[0;39m <==    Updates: 2
2025-02-16 17:41:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546264747876683776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:41:05.760 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:41:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:41:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:41:25.780 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:41:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546264873709998080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:41:35.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264873709998080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:41:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264873709998080[0;39m ==> Parameters: 
2025-02-16 17:41:35.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264873709998080[0;39m <==    Updates: 2
2025-02-16 17:41:35.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546264873709998080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š37æ¯«ç§’
2025-02-16 17:41:45.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:41:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:41:55.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:42:00.013 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546264978609541120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:42:00.025 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546264978609541120[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:42:00.025 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546264978609541120[0;39m ==> Parameters: 
2025-02-16 17:42:00.047 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546264978609541120[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.genSnapshot(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.juege.tech_doc.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at jdk.internal.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2025-02-16 17:42:05.014 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546264999585255424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:42:05.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264999585255424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:42:05.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264999585255424[0;39m ==> Parameters: 
2025-02-16 17:42:05.046 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546264999585255424[0;39m <==    Updates: 2
2025-02-16 17:42:05.046 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546264999585255424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:42:05.800 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:42:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:42:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:42:25.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:42:35.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546265125410181120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:42:35.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265125410181120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:42:35.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265125410181120[0;39m ==> Parameters: 
2025-02-16 17:42:35.046 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265125410181120[0;39m <==    Updates: 2
2025-02-16 17:42:35.046 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546265125410181120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:42:45.821 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:42:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:42:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:43:00.012 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546265230263586816[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:43:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265230263586816[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:43:00.021 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265230263586816[0;39m ==> Parameters: 
2025-02-16 17:43:00.041 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546265230263586816[0;39m Unexpected error occurred in scheduled task
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase)         select t1.id, curdate(), 0, 0, 0, 0         from ebook t1         where not exists(select 1                          from ebook_snapshot t2                          where t1.id = t2.ebook_id                            and t2.`date` = curdate());          update ebook_snapshot t1, ebook t2         set t1.view_count = t2.view_count,             t1.vote_count = t2.vote_count         where t1.`date` = curdate()           and t1.ebook_id = t2.id;          update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count                                             from ebook_snapshot                                             where `date` = date_sub(curdate(), interval 1 day)) t2             on t1.ebook_id = t2.ebook_id         set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)),             t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0))         where t1.`date` = curdate();
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
; Column 'view_count' cannot be null; nested exception is java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:87)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:79)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.genSnapshot(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.genSnapshot(EbookSnapshotService.java:17)
	at com.juege.tech_doc.job.EbookSnapshotJob.doSnapshot(EbookSnapshotJob.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'view_count' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at jdk.internal.reflect.GeneratedMethodAccessor84.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at jdk.proxy4/jdk.proxy4.$Proxy134.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at jdk.internal.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 22 common frames omitted
2025-02-16 17:43:05.007 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546265251214135296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:43:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265251214135296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:43:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265251214135296[0;39m ==> Parameters: 
2025-02-16 17:43:05.049 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265251214135296[0;39m <==    Updates: 2
2025-02-16 17:43:05.050 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546265251214135296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š43æ¯«ç§’
2025-02-16 17:43:05.841 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:43:25.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:43:25.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:43:25.849 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:43:35.015 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546265377076809728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:43:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265377076809728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:43:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265377076809728[0;39m ==> Parameters: 
2025-02-16 17:43:35.050 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265377076809728[0;39m <==    Updates: 2
2025-02-16 17:43:35.050 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546265377076809728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 17:43:45.860 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:43:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:43:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:44:00.010 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546265481913438208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:44:00.021 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265481913438208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:44:00.022 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265481913438208[0;39m ==> Parameters: 
2025-02-16 17:44:00.040 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265481913438208[0;39m <==    Updates: 0
2025-02-16 17:44:00.040 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546265481913438208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 17:44:05.014 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546265502901735424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:44:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265502901735424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:44:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265502901735424[0;39m ==> Parameters: 
2025-02-16 17:44:05.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265502901735424[0;39m <==    Updates: 2
2025-02-16 17:44:05.039 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546265502901735424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:44:05.881 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:44:25.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:44:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:44:25.889 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:44:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546265628680523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:44:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265628680523776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:44:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265628680523776[0;39m ==> Parameters: 
2025-02-16 17:44:35.059 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265628680523776[0;39m <==    Updates: 2
2025-02-16 17:44:35.059 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546265628680523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š57æ¯«ç§’
2025-02-16 17:44:36.054 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 17:44:36.054 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2025-02-16 17:44:36.055 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2025-02-16 17:44:36.056 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šoqWFQNXYe3ï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:44:36.143 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546265633466224640[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:44:36.143 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546265633466224641[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546265633466224640[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546265633466224641[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546265633466224640[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546265633466224641[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546265633470418944[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546265633466224640[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546265633466224641[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546265633470418944[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 17:44:36.144 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546265633470418944[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 17:44:36.145 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546265633470418944[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:44:36.145 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546265633466224641[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:44:36.145 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546265633466224640[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:44:36.145 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546265633470418944[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:44:36.160 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546265633466224640[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 17:44:36.161 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546265633466224640[0;39m ==> Parameters: 
2025-02-16 17:44:36.171 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546265633466224640[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 17:44:36.172 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546265633466224640[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 17:44:36.173 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546265633466224640[0;39m <==      Total: 1
2025-02-16 17:44:36.178 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546265633466224640[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 17:44:36.178 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546265633466224640[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2025-02-16 17:44:42.153 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546265633466224641[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@654b1509 (Communications link failure

The last packet successfully received from the server was 546,809 milliseconds ago. The last packet sent successfully to the server was 546,822 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:44:42.153 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546265633470418944[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@45bbf746 (Communications link failure

The last packet successfully received from the server was 546,715 milliseconds ago. The last packet sent successfully to the server was 546,722 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:44:42.155 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546265633470418944[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6001ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6001ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6001ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6001ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6001ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 546,715 milliseconds ago. The last packet sent successfully to the server was 546,722 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 106 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 546,715 milliseconds ago. The last packet sent successfully to the server was 546,722 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:44:42.174 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546265633470418944[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6001ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6001ms.]
2025-02-16 17:44:42.155 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546265633466224641[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6003ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6003ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.get30Statistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6003ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6003ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6003ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6003ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 546,715 milliseconds ago. The last packet sent successfully to the server was 546,722 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	... 50 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 546,715 milliseconds ago. The last packet sent successfully to the server was 546,722 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:44:42.175 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546265633466224641[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6003ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6003ms.]
2025-02-16 17:44:45.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:44:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:44:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:45:00.005 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546265733550706688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:45:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265733550706688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:45:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265733550706688[0;39m ==> Parameters: 
2025-02-16 17:45:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265733550706688[0;39m <==    Updates: 0
2025-02-16 17:45:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546265733550706688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 17:45:05.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546265754522226688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:45:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265754522226688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:45:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265754522226688[0;39m ==> Parameters: 
2025-02-16 17:45:05.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265754522226688[0;39m <==    Updates: 2
2025-02-16 17:45:05.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546265754522226688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:45:05.922 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:45:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:45:25.718 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:45:25.933 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:45:32.978 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šoqWFQNXYe3ï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 17:45:35.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546265880380706816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:45:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265880380706816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:45:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265880380706816[0;39m ==> Parameters: 
2025-02-16 17:45:35.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546265880380706816[0;39m <==    Updates: 2
2025-02-16 17:45:35.045 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546265880380706816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:45:45.952 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:45:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:45:55.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:46:00.003 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546265985200558080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:46:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265985200558080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:46:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265985200558080[0;39m ==> Parameters: 
2025-02-16 17:46:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546265985200558080[0;39m <==    Updates: 0
2025-02-16 17:46:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546265985200558080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 17:46:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546266006167883776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:46:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266006167883776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:46:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266006167883776[0;39m ==> Parameters: 
2025-02-16 17:46:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266006167883776[0;39m <==    Updates: 2
2025-02-16 17:46:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546266006167883776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:46:05.965 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:46:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:46:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:46:25.974 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:46:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546266131992809472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:46:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266131992809472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:46:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266131992809472[0;39m ==> Parameters: 
2025-02-16 17:46:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266131992809472[0;39m <==    Updates: 2
2025-02-16 17:46:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546266131992809472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:46:45.985 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:46:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:46:55.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:47:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546266236854603776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:47:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266236854603776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:47:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266236854603776[0;39m ==> Parameters: 
2025-02-16 17:47:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266236854603776[0;39m <==    Updates: 0
2025-02-16 17:47:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546266236854603776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 17:47:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546266257830318080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:47:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266257830318080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:47:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266257830318080[0;39m ==> Parameters: 
2025-02-16 17:47:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266257830318080[0;39m <==    Updates: 2
2025-02-16 17:47:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546266257830318080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:47:05.995 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:47:25.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:47:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:47:26.016 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:47:35.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546266383684603904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:47:35.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266383684603904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:47:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266383684603904[0;39m ==> Parameters: 
2025-02-16 17:47:35.044 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266383684603904[0;39m <==    Updates: 2
2025-02-16 17:47:35.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546266383684603904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 17:47:46.040 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:47:55.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:47:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:48:00.007 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546266488533815296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:48:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266488533815296[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:48:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266488533815296[0;39m ==> Parameters: 
2025-02-16 17:48:00.034 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266488533815296[0;39m <==    Updates: 0
2025-02-16 17:48:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546266488533815296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 17:48:05.010 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546266509517918208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:48:05.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266509517918208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:48:05.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266509517918208[0;39m ==> Parameters: 
2025-02-16 17:48:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266509517918208[0;39m <==    Updates: 2
2025-02-16 17:48:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546266509517918208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:48:06.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:48:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:48:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:48:26.084 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:48:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546266635309289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:48:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266635309289472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:48:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266635309289472[0;39m ==> Parameters: 
2025-02-16 17:48:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266635309289472[0;39m <==    Updates: 2
2025-02-16 17:48:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546266635309289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 17:48:46.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:48:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:48:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:49:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546266740162695168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:49:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266740162695168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:49:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266740162695168[0;39m ==> Parameters: 
2025-02-16 17:49:00.035 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266740162695168[0;39m <==    Updates: 0
2025-02-16 17:49:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546266740162695168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 17:49:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546266761134215168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:49:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266761134215168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:49:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266761134215168[0;39m ==> Parameters: 
2025-02-16 17:49:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266761134215168[0;39m <==    Updates: 2
2025-02-16 17:49:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546266761134215168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 17:49:06.113 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:49:25.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:49:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:49:26.123 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:49:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546266886971723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:49:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266886971723776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:49:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266886971723776[0;39m ==> Parameters: 
2025-02-16 17:49:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546266886971723776[0;39m <==    Updates: 2
2025-02-16 17:49:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546266886971723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 17:49:46.135 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:49:55.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:49:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:50:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546266991825129472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:50:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266991825129472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:50:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266991825129472[0;39m ==> Parameters: 
2025-02-16 17:50:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546266991825129472[0;39m <==    Updates: 0
2025-02-16 17:50:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546266991825129472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 17:50:01.923 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šndLOZctDaxï¼Œsession idï¼š2ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:50:02.019 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267000289234944[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267000289234944[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267000293429248[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267000289234944[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267000293429248[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267000289234944[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267000293429248[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267000293429248[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267000289234944[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267000293429248[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267000293429249[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267000293429249[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 17:50:02.020 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267000293429249[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 17:50:02.021 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267000293429249[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:50:02.021 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267000293429249[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:50:02.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267000289234944[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 17:50:02.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267000289234944[0;39m ==> Parameters: 
2025-02-16 17:50:02.039 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546267000289234944[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 17:50:02.039 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546267000289234944[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 17:50:02.039 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267000289234944[0;39m <==      Total: 1
2025-02-16 17:50:02.039 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546267000289234944[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 17:50:02.040 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546267000289234944[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š21 ms -------------
2025-02-16 17:50:05.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546267012813426688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:50:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267012813426688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:50:05.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267012813426688[0;39m ==> Parameters: 
2025-02-16 17:50:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267012813426688[0;39m <==    Updates: 2
2025-02-16 17:50:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546267012813426688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 17:50:06.145 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:50:08.048 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546267000293429248[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@aa971cf (Communications link failure

The last packet successfully received from the server was 872,512 milliseconds ago. The last packet sent successfully to the server was 872,519 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:50:08.048 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546267000293429249[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5717b55e (Communications link failure

The last packet successfully received from the server was 872,418 milliseconds ago. The last packet sent successfully to the server was 872,425 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:50:08.049 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546267000293429249[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6027ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6027ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6027ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6027ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6027ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6027ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 872,418 milliseconds ago. The last packet sent successfully to the server was 872,425 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 106 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 872,418 milliseconds ago. The last packet sent successfully to the server was 872,425 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:50:08.049 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546267000293429248[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6028ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6028ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.get30Statistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6028ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6028ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6028ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6028ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 872,418 milliseconds ago. The last packet sent successfully to the server was 872,425 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	... 50 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 872,418 milliseconds ago. The last packet sent successfully to the server was 872,425 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:50:08.064 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546267000293429249[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6027ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6027ms.]
2025-02-16 17:50:08.064 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546267000293429248[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6028ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6028ms.]
2025-02-16 17:50:25.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:50:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:50:26.154 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:50:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546267138634158080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:50:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267138634158080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:50:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267138634158080[0;39m ==> Parameters: 
2025-02-16 17:50:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267138634158080[0;39m <==    Updates: 2
2025-02-16 17:50:35.051 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546267138634158080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š48æ¯«ç§’
2025-02-16 17:50:46.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:50:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:50:55.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:51:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546267243487563776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:51:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267243487563776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:51:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267243487563776[0;39m ==> Parameters: 
2025-02-16 17:51:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267243487563776[0;39m <==    Updates: 0
2025-02-16 17:51:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546267243487563776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 17:51:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546267264459083776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:51:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267264459083776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:51:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267264459083776[0;39m ==> Parameters: 
2025-02-16 17:51:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267264459083776[0;39m <==    Updates: 2
2025-02-16 17:51:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546267264459083776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 17:51:06.173 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:51:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:51:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:51:26.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:51:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546267390292398080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:51:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267390292398080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:51:35.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267390292398080[0;39m ==> Parameters: 
2025-02-16 17:51:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267390292398080[0;39m <==    Updates: 2
2025-02-16 17:51:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546267390292398080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:51:46.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:51:46.466 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šsQk4nw9KWGï¼Œsession idï¼š3ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š2
2025-02-16 17:51:46.618 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267439009239040[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:51:46.627 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267439046987776[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:51:46.627 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267439046987777[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267439046987777[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267439009239040[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267439046987776[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267439046987777[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267439009239040[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267439046987776[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267439046987777[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267439009239040[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267439046987776[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267439046987777[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267439009239040[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:51:46.642 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267439046987776[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:51:46.652 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267439009239040[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 17:51:46.652 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267439009239040[0;39m ==> Parameters: 
2025-02-16 17:51:46.661 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546267439009239040[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 17:51:46.661 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546267439009239040[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 17:51:46.661 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267439009239040[0;39m <==      Total: 1
2025-02-16 17:51:46.662 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546267439009239040[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 17:51:46.662 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546267439009239040[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š44 ms -------------
2025-02-16 17:51:50.433 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546267000289234944[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šsQk4nw9KWGï¼Œsession idï¼š3ï¼å½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:51:52.654 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546267439046987777[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@ce18cb6 (Communications link failure

The last packet successfully received from the server was 976,825 milliseconds ago. The last packet sent successfully to the server was 976,831 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:51:52.654 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546267439046987776[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7eb5faa (Communications link failure

The last packet successfully received from the server was 976,928 milliseconds ago. The last packet sent successfully to the server was 976,934 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:51:52.655 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546267439046987777[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 976,825 milliseconds ago. The last packet sent successfully to the server was 976,831 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 106 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 976,825 milliseconds ago. The last packet sent successfully to the server was 976,831 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:51:52.669 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546267439046987777[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.]
2025-02-16 17:51:52.655 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546267439046987776[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.get30Statistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 976,825 milliseconds ago. The last packet sent successfully to the server was 976,831 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	... 50 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 976,825 milliseconds ago. The last packet sent successfully to the server was 976,831 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:51:52.679 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546267439046987776[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6011ms.]
2025-02-16 17:51:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:51:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:52:00.010 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546267495179358208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:52:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267495179358208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:52:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267495179358208[0;39m ==> Parameters: 
2025-02-16 17:52:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267495179358208[0;39m <==    Updates: 0
2025-02-16 17:52:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546267495179358208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 17:52:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546267516113129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:52:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267516113129472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:52:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267516113129472[0;39m ==> Parameters: 
2025-02-16 17:52:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267516113129472[0;39m <==    Updates: 2
2025-02-16 17:52:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546267516113129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:52:06.205 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:52:25.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:52:25.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:52:26.214 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:52:26.657 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546267000293429249[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šndLOZctDaxï¼Œsession idï¼š2ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 17:52:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546267641942249472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:52:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267641942249472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:52:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267641942249472[0;39m ==> Parameters: 
2025-02-16 17:52:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267641942249472[0;39m <==    Updates: 2
2025-02-16 17:52:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546267641942249472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 17:52:36.174 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m546265633470418944[0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šPAPdoExy28ï¼Œsession idï¼š4ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:52:36.270 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267647264821248[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:52:36.270 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267647264821249[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:52:36.270 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267647264821248[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 17:52:36.270 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267647264821249[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 17:52:36.270 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267647264821248[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546267647269015552[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267647264821249[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267647264821249[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267647264821248[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546267647269015552[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267647264821249[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546267647269015552[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267647264821248[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546267647269015552[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:52:36.271 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546267647269015552[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:52:36.288 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267647264821248[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 17:52:36.289 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267647264821248[0;39m ==> Parameters: 
2025-02-16 17:52:36.298 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546267647264821248[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 17:52:36.299 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546267647264821248[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 17:52:36.299 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546267647264821248[0;39m <==      Total: 1
2025-02-16 17:52:36.299 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546267647264821248[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 17:52:36.300 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546267647264821248[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š30 ms -------------
2025-02-16 17:52:42.273 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546267647269015552[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@4d996a08 (Communications link failure

The last packet successfully received from the server was 1,026,253 milliseconds ago. The last packet sent successfully to the server was 1,026,261 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:52:42.273 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546267647264821249[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@76768436 (Communications link failure

The last packet successfully received from the server was 1,026,352 milliseconds ago. The last packet sent successfully to the server was 1,026,359 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:52:42.275 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546267647264821249[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.get30Statistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,026,352 milliseconds ago. The last packet sent successfully to the server was 1,026,359 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 106 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 1,026,352 milliseconds ago. The last packet sent successfully to the server was 1,026,359 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:52:42.294 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546267647264821249[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.]
2025-02-16 17:52:42.275 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546267647269015552[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,026,352 milliseconds ago. The last packet sent successfully to the server was 1,026,359 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.get30Statistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.get30Statistic(<generated>)
	... 50 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 1,026,352 milliseconds ago. The last packet sent successfully to the server was 1,026,359 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:52:42.306 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546267647269015552[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.]
2025-02-16 17:52:46.238 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:52:55.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:52:55.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:53:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546267746804043776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:53:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267746804043776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:53:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267746804043776[0;39m ==> Parameters: 
2025-02-16 17:53:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267746804043776[0;39m <==    Updates: 0
2025-02-16 17:53:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546267746804043776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 17:53:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546267767771369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:53:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267767771369472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:53:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267767771369472[0;39m ==> Parameters: 
2025-02-16 17:53:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267767771369472[0;39m <==    Updates: 2
2025-02-16 17:53:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546267767771369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:53:06.262 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:53:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:53:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:53:26.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:53:35.007 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546267893625655296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:53:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267893625655296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:53:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267893625655296[0;39m ==> Parameters: 
2025-02-16 17:53:35.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546267893625655296[0;39m <==    Updates: 2
2025-02-16 17:53:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546267893625655296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 17:53:46.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:53:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:53:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:54:00.004 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546267998470672384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:54:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267998470672384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:54:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267998470672384[0;39m ==> Parameters: 
2025-02-16 17:54:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546267998470672384[0;39m <==    Updates: 0
2025-02-16 17:54:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546267998470672384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 17:54:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546268019433803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:54:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268019433803776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:54:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268019433803776[0;39m ==> Parameters: 
2025-02-16 17:54:05.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268019433803776[0;39m <==    Updates: 2
2025-02-16 17:54:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546268019433803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 17:54:06.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:54:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:54:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:54:26.326 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:54:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546268145258729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:54:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268145258729472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:54:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268145258729472[0;39m ==> Parameters: 
2025-02-16 17:54:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268145258729472[0;39m <==    Updates: 2
2025-02-16 17:54:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546268145258729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 17:54:46.334 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:54:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:54:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:55:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546268250120523776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:55:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268250120523776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:55:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268250120523776[0;39m ==> Parameters: 
2025-02-16 17:55:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268250120523776[0;39m <==    Updates: 0
2025-02-16 17:55:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546268250120523776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 17:55:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546268271087849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:55:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268271087849472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:55:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268271087849472[0;39m ==> Parameters: 
2025-02-16 17:55:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268271087849472[0;39m <==    Updates: 2
2025-02-16 17:55:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546268271087849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:55:06.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:55:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:55:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:55:26.366 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:55:35.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546268396933746688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:55:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268396933746688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:55:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268396933746688[0;39m ==> Parameters: 
2025-02-16 17:55:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268396933746688[0;39m <==    Updates: 2
2025-02-16 17:55:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546268396933746688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:55:46.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:55:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:55:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:56:00.008 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546268501803929600[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:56:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268501803929600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:56:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268501803929600[0;39m ==> Parameters: 
2025-02-16 17:56:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268501803929600[0;39m <==    Updates: 0
2025-02-16 17:56:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546268501803929600[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:56:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546268522746089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:56:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268522746089472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:56:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268522746089472[0;39m ==> Parameters: 
2025-02-16 17:56:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268522746089472[0;39m <==    Updates: 2
2025-02-16 17:56:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546268522746089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 17:56:06.396 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:56:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:56:25.723 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:56:26.405 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:56:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546268648575209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:56:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268648575209472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:56:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268648575209472[0;39m ==> Parameters: 
2025-02-16 17:56:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268648575209472[0;39m <==    Updates: 2
2025-02-16 17:56:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546268648575209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 17:56:46.415 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:56:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:56:55.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:57:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546268753437003776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:57:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268753437003776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:57:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268753437003776[0;39m ==> Parameters: 
2025-02-16 17:57:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546268753437003776[0;39m <==    Updates: 0
2025-02-16 17:57:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546268753437003776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 17:57:05.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546268774421106688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:57:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268774421106688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:57:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268774421106688[0;39m ==> Parameters: 
2025-02-16 17:57:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268774421106688[0;39m <==    Updates: 2
2025-02-16 17:57:05.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546268774421106688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 17:57:06.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:57:25.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:57:25.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:57:26.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:57:35.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546268900275392512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:57:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268900275392512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:57:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268900275392512[0;39m ==> Parameters: 
2025-02-16 17:57:35.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546268900275392512[0;39m <==    Updates: 2
2025-02-16 17:57:35.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546268900275392512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 17:57:46.444 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:57:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:57:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:58:00.014 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546269005145575424[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:58:00.022 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269005145575424[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:58:00.022 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269005145575424[0;39m ==> Parameters: 
2025-02-16 17:58:00.040 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269005145575424[0;39m <==    Updates: 0
2025-02-16 17:58:00.041 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546269005145575424[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 17:58:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546269026062569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:58:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269026062569472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:58:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269026062569472[0;39m ==> Parameters: 
2025-02-16 17:58:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269026062569472[0;39m <==    Updates: 2
2025-02-16 17:58:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546269026062569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:58:06.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:58:11.661 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546267439046987777[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šPAPdoExy28ï¼Œsession idï¼š4ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 17:58:18.311 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m546267439046987776[0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š5WEoC7aeEcï¼Œsession idï¼š5ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546269082245271552[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546269082245271554[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546269082245271553[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546269082245271552[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546269082245271554[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546269082245271552[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546269082245271553[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546269082245271554[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546269082245271552[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546269082245271553[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 17:58:18.396 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546269082245271554[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:58:18.397 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546269082245271553[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:58:18.397 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546269082245271552[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:58:18.397 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546269082245271553[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:58:18.397 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546269082245271554[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:58:18.419 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546269082245271552[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 17:58:18.419 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546269082245271552[0;39m ==> Parameters: 
2025-02-16 17:58:18.429 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546269082245271552[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-02-16 17:58:18.430 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546269082245271552[0;39m <==        Row: 2025-02-15, 0, 0
2025-02-16 17:58:18.430 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546269082245271552[0;39m <==      Total: 1
2025-02-16 17:58:18.431 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546269082245271552[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2025-02-16 17:58:18.431 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546269082245271552[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2025-02-16 17:58:24.411 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546269082245271553[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@26a6c839 (Communications link failure

The last packet successfully received from the server was 1,368,288 milliseconds ago. The last packet sent successfully to the server was 1,368,296 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:58:24.411 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546269082245271554[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6137c2b0 (Communications link failure

The last packet successfully received from the server was 1,368,198 milliseconds ago. The last packet sent successfully to the server was 1,368,204 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:58:24.412 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546269082245271554[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6013ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6013ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.getStatistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.getStatistic(EbookSnapshotService.java:24)
	at com.juege.tech_doc.controller.EbookSnapshotController.getStatistic(EbookSnapshotController.java:22)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.getStatistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6013ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6013ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6013ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6013ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,368,198 milliseconds ago. The last packet sent successfully to the server was 1,368,204 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 106 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 1,368,198 milliseconds ago. The last packet sent successfully to the server was 1,368,204 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:58:24.432 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546269082245271554[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6013ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.getStatistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6013ms.]
2025-02-16 17:58:24.412 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546269082245271553[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6014ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6014ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6014ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6014ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6014ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 89 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6014ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 101 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,368,198 milliseconds ago. The last packet sent successfully to the server was 1,368,204 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.getStatistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.getStatistic(EbookSnapshotService.java:24)
	at com.juege.tech_doc.controller.EbookSnapshotController.getStatistic(EbookSnapshotController.java:22)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.getStatistic(<generated>)
	... 50 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 1,368,198 milliseconds ago. The last packet sent successfully to the server was 1,368,204 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 109 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 115 common frames omitted
2025-02-16 17:58:24.444 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546269082245271553[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6014ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6014ms.]
2025-02-16 17:58:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:58:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:58:26.476 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:58:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546269151891689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:58:35.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269151891689472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:58:35.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269151891689472[0;39m ==> Parameters: 
2025-02-16 17:58:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269151891689472[0;39m <==    Updates: 2
2025-02-16 17:58:35.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546269151891689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 17:58:46.487 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:58:55.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:58:55.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:59:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546269256749289472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 17:59:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269256749289472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 17:59:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269256749289472[0;39m ==> Parameters: 
2025-02-16 17:59:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269256749289472[0;39m <==    Updates: 0
2025-02-16 17:59:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546269256749289472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 17:59:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546269277725003776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:59:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269277725003776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:59:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269277725003776[0;39m ==> Parameters: 
2025-02-16 17:59:05.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269277725003776[0;39m <==    Updates: 2
2025-02-16 17:59:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546269277725003776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 17:59:06.509 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:59:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:59:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:59:26.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:59:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546269403554123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 17:59:35.015 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546267000293429248[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š5WEoC7aeEcï¼Œsession idï¼š5ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 17:59:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269403554123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 17:59:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269403554123776[0;39m ==> Parameters: 
2025-02-16 17:59:35.059 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269403554123776[0;39m <==    Updates: 2
2025-02-16 17:59:35.059 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546269403554123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š57æ¯«ç§’
2025-02-16 17:59:40.868 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m546267000289234944[0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š9CHDsGU91qï¼Œsession idï¼š6ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 17:59:40.958 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546269428535398400[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:59:40.958 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546269428535398401[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:59:40.958 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546269428535398400[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 17:59:40.958 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546269428535398401[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 17:59:40.958 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546269428535398400[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 17:59:40.958 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546269428535398401[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 17:59:40.958 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546269428535398402[0;39m ------------- å¼€å§‹ -------------
2025-02-16 17:59:40.958 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546269428535398400[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:59:40.959 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546269428535398401[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:59:40.959 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546269428535398400[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:59:40.959 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546269428535398402[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 17:59:40.959 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546269428535398401[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:59:40.959 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546269428535398402[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 17:59:40.959 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546269428535398402[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 17:59:40.959 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546269428535398402[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 17:59:40.970 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546269428535398400[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 17:59:40.970 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546269428535398400[0;39m ==> Parameters: 
2025-02-16 17:59:40.981 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546269428535398400[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 17:59:40.981 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546269428535398400[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 17:59:40.981 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546269428535398400[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 17:59:40.982 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546269428535398400[0;39m <==      Total: 2
2025-02-16 17:59:40.982 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546269428535398400[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 17:59:40.982 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546269428535398400[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š24 ms -------------
2025-02-16 17:59:46.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 17:59:46.961 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546269428535398401[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@283e5453 (Communications link failure

The last packet successfully received from the server was 1,450,653 milliseconds ago. The last packet sent successfully to the server was 1,450,660 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:59:46.962 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546269428535398402[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3052a830 (Communications link failure

The last packet successfully received from the server was 1,450,553 milliseconds ago. The last packet sent successfully to the server was 1,450,561 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 17:59:46.962 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546269428535398401[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.get30Statistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 83 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 88 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 100 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,450,653 milliseconds ago. The last packet sent successfully to the server was 1,450,660 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 105 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 1,450,653 milliseconds ago. The last packet sent successfully to the server was 1,450,660 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 108 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 114 common frames omitted
2025-02-16 17:59:46.975 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546269428535398401[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.]
2025-02-16 17:59:46.963 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546269428535398402[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at jdk.internal.reflect.GeneratedMethodAccessor172.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 1,450,553 milliseconds ago. The last packet sent successfully to the server was 1,450,561 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 104 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 1,450,553 milliseconds ago. The last packet sent successfully to the server was 1,450,561 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 107 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 113 common frames omitted
2025-02-16 17:59:46.987 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546269428535398402[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6002ms.]
2025-02-16 17:59:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 17:59:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:00:00.004 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546269508420112384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:00:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269508420112384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:00:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269508420112384[0;39m ==> Parameters: 
2025-02-16 18:00:00.034 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269508420112384[0;39m <==    Updates: 0
2025-02-16 18:00:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546269508420112384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 18:00:05.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546269529429381120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:00:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269529429381120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:00:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269529429381120[0;39m ==> Parameters: 
2025-02-16 18:00:05.038 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269529429381120[0;39m <==    Updates: 2
2025-02-16 18:00:05.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546269529429381120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:00:06.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:00:17.916 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m546267439009239040[0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šJCF1c1Vd1Gï¼Œsession idï¼š7ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š2
2025-02-16 18:00:21.421 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546267647269015552[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šJCF1c1Vd1Gï¼Œsession idï¼š7ï¼å½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 18:00:25.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:00:25.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:00:26.585 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:00:35.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546269655241723904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:00:35.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269655241723904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:00:35.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269655241723904[0;39m ==> Parameters: 
2025-02-16 18:00:35.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269655241723904[0;39m <==    Updates: 2
2025-02-16 18:00:35.043 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546269655241723904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:00:46.607 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:00:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:00:55.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:01:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546269760065769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:01:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269760065769472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:01:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269760065769472[0;39m ==> Parameters: 
2025-02-16 18:01:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546269760065769472[0;39m <==    Updates: 0
2025-02-16 18:01:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546269760065769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 18:01:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546269781037289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:01:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269781037289472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:01:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269781037289472[0;39m ==> Parameters: 
2025-02-16 18:01:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269781037289472[0;39m <==    Updates: 2
2025-02-16 18:01:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546269781037289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:01:06.617 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:01:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:01:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:01:26.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:01:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546269906866409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:01:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269906866409472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:01:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269906866409472[0;39m ==> Parameters: 
2025-02-16 18:01:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546269906866409472[0;39m <==    Updates: 2
2025-02-16 18:01:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546269906866409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:01:46.639 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:01:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:01:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:02:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546270011724009472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:02:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270011724009472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:02:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270011724009472[0;39m ==> Parameters: 
2025-02-16 18:02:00.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270011724009472[0;39m <==    Updates: 0
2025-02-16 18:02:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546270011724009472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 18:02:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546270032695529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:02:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270032695529472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:02:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270032695529472[0;39m ==> Parameters: 
2025-02-16 18:02:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270032695529472[0;39m <==    Updates: 2
2025-02-16 18:02:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546270032695529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:02:06.650 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:02:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:02:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:02:26.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:02:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546270158528843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:02:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270158528843776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:02:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270158528843776[0;39m ==> Parameters: 
2025-02-16 18:02:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270158528843776[0;39m <==    Updates: 2
2025-02-16 18:02:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546270158528843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:02:46.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:02:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:02:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:03:00.005 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546270263399026688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:03:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270263399026688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:03:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270263399026688[0;39m ==> Parameters: 
2025-02-16 18:03:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270263399026688[0;39m <==    Updates: 0
2025-02-16 18:03:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546270263399026688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 18:03:05.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546270284366352384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:03:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270284366352384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:03:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270284366352384[0;39m ==> Parameters: 
2025-02-16 18:03:05.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270284366352384[0;39m <==    Updates: 2
2025-02-16 18:03:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546270284366352384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:03:06.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:03:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:03:25.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:03:26.714 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:03:35.014 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546270410237415424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:03:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270410237415424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:03:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270410237415424[0;39m ==> Parameters: 
2025-02-16 18:03:35.048 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270410237415424[0;39m <==    Updates: 2
2025-02-16 18:03:35.048 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546270410237415424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:03:46.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:03:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:03:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:04:00.008 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546270515069849600[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:04:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270515069849600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:04:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270515069849600[0;39m ==> Parameters: 
2025-02-16 18:04:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270515069849600[0;39m <==    Updates: 0
2025-02-16 18:04:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546270515069849600[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:04:05.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546270536028786688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:04:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270536028786688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:04:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270536028786688[0;39m ==> Parameters: 
2025-02-16 18:04:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270536028786688[0;39m <==    Updates: 2
2025-02-16 18:04:05.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546270536028786688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:04:06.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:04:25.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:04:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:04:26.780 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:04:35.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546270661870489600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:04:35.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270661870489600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:04:35.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270661870489600[0;39m ==> Parameters: 
2025-02-16 18:04:35.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270661870489600[0;39m <==    Updates: 2
2025-02-16 18:04:35.039 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546270661870489600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:04:46.795 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:04:55.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:04:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:05:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546270766702923776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:05:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270766702923776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:05:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270766702923776[0;39m ==> Parameters: 
2025-02-16 18:05:00.046 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546270766702923776[0;39m <==    Updates: 0
2025-02-16 18:05:00.046 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546270766702923776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š44æ¯«ç§’
2025-02-16 18:05:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546270787670249472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:05:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270787670249472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:05:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270787670249472[0;39m ==> Parameters: 
2025-02-16 18:05:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270787670249472[0;39m <==    Updates: 2
2025-02-16 18:05:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546270787670249472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:05:06.809 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:05:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:05:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:05:26.829 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:05:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546270913499369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:05:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270913499369472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:05:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270913499369472[0;39m ==> Parameters: 
2025-02-16 18:05:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546270913499369472[0;39m <==    Updates: 2
2025-02-16 18:05:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546270913499369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 18:05:46.837 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:05:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:05:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:06:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546271018356969472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:06:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271018356969472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:06:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271018356969472[0;39m ==> Parameters: 
2025-02-16 18:06:00.024 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271018356969472[0;39m <==    Updates: 0
2025-02-16 18:06:00.024 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546271018356969472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 18:06:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546271039332683776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:06:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271039332683776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:06:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271039332683776[0;39m ==> Parameters: 
2025-02-16 18:06:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271039332683776[0;39m <==    Updates: 2
2025-02-16 18:06:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546271039332683776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:06:06.858 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:06:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:06:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:06:26.882 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:06:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546271165161803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:06:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271165161803776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:06:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271165161803776[0;39m ==> Parameters: 
2025-02-16 18:06:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271165161803776[0;39m <==    Updates: 2
2025-02-16 18:06:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546271165161803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:06:46.920 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:06:55.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:06:55.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:07:00.003 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546271270023598080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:07:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271270023598080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:07:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271270023598080[0;39m ==> Parameters: 
2025-02-16 18:07:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271270023598080[0;39m <==    Updates: 0
2025-02-16 18:07:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546271270023598080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:07:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546271290986729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:07:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271290986729472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:07:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271290986729472[0;39m ==> Parameters: 
2025-02-16 18:07:05.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271290986729472[0;39m <==    Updates: 2
2025-02-16 18:07:05.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546271290986729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:07:06.938 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:07:25.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:07:25.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:07:26.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:07:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546271416815849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:07:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271416815849472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:07:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271416815849472[0;39m ==> Parameters: 
2025-02-16 18:07:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271416815849472[0;39m <==    Updates: 2
2025-02-16 18:07:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546271416815849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:07:47.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:07:55.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:07:55.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:08:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546271521677643776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:08:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271521677643776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:08:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271521677643776[0;39m ==> Parameters: 
2025-02-16 18:08:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271521677643776[0;39m <==    Updates: 0
2025-02-16 18:08:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546271521677643776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:08:05.010 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546271542682718208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:08:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271542682718208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:08:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271542682718208[0;39m ==> Parameters: 
2025-02-16 18:08:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271542682718208[0;39m <==    Updates: 2
2025-02-16 18:08:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546271542682718208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:08:07.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:08:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:08:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:08:27.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:08:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546271668482478080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:08:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271668482478080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:08:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271668482478080[0;39m ==> Parameters: 
2025-02-16 18:08:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271668482478080[0;39m <==    Updates: 2
2025-02-16 18:08:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546271668482478080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:08:47.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:08:55.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:08:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:09:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546271773335883776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:09:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271773335883776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:09:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271773335883776[0;39m ==> Parameters: 
2025-02-16 18:09:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546271773335883776[0;39m <==    Updates: 0
2025-02-16 18:09:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546271773335883776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:09:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546271794307403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:09:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271794307403776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:09:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271794307403776[0;39m ==> Parameters: 
2025-02-16 18:09:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271794307403776[0;39m <==    Updates: 2
2025-02-16 18:09:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546271794307403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:09:07.080 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:09:25.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:09:25.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:09:27.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:09:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546271920136523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:09:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271920136523776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:09:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271920136523776[0;39m ==> Parameters: 
2025-02-16 18:09:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546271920136523776[0;39m <==    Updates: 2
2025-02-16 18:09:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546271920136523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:09:47.120 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:09:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:09:55.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:10:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546272024989929472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:10:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272024989929472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:10:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272024989929472[0;39m ==> Parameters: 
2025-02-16 18:10:00.038 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272024989929472[0;39m <==    Updates: 0
2025-02-16 18:10:00.038 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546272024989929472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š37æ¯«ç§’
2025-02-16 18:10:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546272045961449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:10:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272045961449472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:10:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272045961449472[0;39m ==> Parameters: 
2025-02-16 18:10:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272045961449472[0;39m <==    Updates: 2
2025-02-16 18:10:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546272045961449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:10:07.141 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:10:25.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:10:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:10:27.151 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:10:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546272171790569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:10:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272171790569472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:10:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272171790569472[0;39m ==> Parameters: 
2025-02-16 18:10:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272171790569472[0;39m <==    Updates: 2
2025-02-16 18:10:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546272171790569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:10:47.164 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:10:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:10:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:11:00.008 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546272276677529600[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:11:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272276677529600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:11:00.021 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272276677529600[0;39m ==> Parameters: 
2025-02-16 18:11:00.043 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272276677529600[0;39m <==    Updates: 0
2025-02-16 18:11:00.044 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546272276677529600[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 18:11:05.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546272297632272384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:11:05.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272297632272384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:11:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272297632272384[0;39m ==> Parameters: 
2025-02-16 18:11:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272297632272384[0;39m <==    Updates: 2
2025-02-16 18:11:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546272297632272384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:11:07.175 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:11:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:11:25.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:11:27.197 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:11:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546272423457198080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:11:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272423457198080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:11:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272423457198080[0;39m ==> Parameters: 
2025-02-16 18:11:35.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272423457198080[0;39m <==    Updates: 2
2025-02-16 18:11:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546272423457198080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š38æ¯«ç§’
2025-02-16 18:11:47.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:11:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:11:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:12:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546272528306409472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:12:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272528306409472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:12:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272528306409472[0;39m ==> Parameters: 
2025-02-16 18:12:00.042 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272528306409472[0;39m <==    Updates: 0
2025-02-16 18:12:00.042 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546272528306409472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š41æ¯«ç§’
2025-02-16 18:12:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546272549277929472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:12:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272549277929472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:12:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272549277929472[0;39m ==> Parameters: 
2025-02-16 18:12:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272549277929472[0;39m <==    Updates: 2
2025-02-16 18:12:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546272549277929472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:12:07.240 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:12:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:12:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:12:27.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:12:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546272675111243776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:12:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272675111243776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:12:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272675111243776[0;39m ==> Parameters: 
2025-02-16 18:12:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272675111243776[0;39m <==    Updates: 2
2025-02-16 18:12:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546272675111243776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:12:47.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:12:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:12:55.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:13:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546272779968843776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:13:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272779968843776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:13:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272779968843776[0;39m ==> Parameters: 
2025-02-16 18:13:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546272779968843776[0;39m <==    Updates: 0
2025-02-16 18:13:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546272779968843776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:13:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546272800936169472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:13:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272800936169472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:13:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272800936169472[0;39m ==> Parameters: 
2025-02-16 18:13:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272800936169472[0;39m <==    Updates: 2
2025-02-16 18:13:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546272800936169472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:13:07.286 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:13:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:13:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:13:27.296 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:13:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546272926769483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:13:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272926769483776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:13:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272926769483776[0;39m ==> Parameters: 
2025-02-16 18:13:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546272926769483776[0;39m <==    Updates: 2
2025-02-16 18:13:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546272926769483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:13:47.308 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:13:55.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:13:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:14:00.003 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546273031631278080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:14:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273031631278080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:14:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273031631278080[0;39m ==> Parameters: 
2025-02-16 18:14:00.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273031631278080[0;39m <==    Updates: 0
2025-02-16 18:14:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546273031631278080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:14:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546273052594409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:14:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273052594409472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:14:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273052594409472[0;39m ==> Parameters: 
2025-02-16 18:14:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273052594409472[0;39m <==    Updates: 2
2025-02-16 18:14:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546273052594409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:14:07.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:14:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:14:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:14:27.327 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:14:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546273178423529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:14:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273178423529472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:14:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273178423529472[0;39m ==> Parameters: 
2025-02-16 18:14:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273178423529472[0;39m <==    Updates: 2
2025-02-16 18:14:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546273178423529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 18:14:47.362 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:14:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:14:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:15:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546273283281129472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:15:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273283281129472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:15:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273283281129472[0;39m ==> Parameters: 
2025-02-16 18:15:00.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273283281129472[0;39m <==    Updates: 0
2025-02-16 18:15:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546273283281129472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 18:15:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546273304256843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:15:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273304256843776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:15:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273304256843776[0;39m ==> Parameters: 
2025-02-16 18:15:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273304256843776[0;39m <==    Updates: 2
2025-02-16 18:15:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546273304256843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 18:15:07.376 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:15:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:15:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:15:27.386 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:15:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546273430085963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:15:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273430085963776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:15:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273430085963776[0;39m ==> Parameters: 
2025-02-16 18:15:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273430085963776[0;39m <==    Updates: 2
2025-02-16 18:15:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546273430085963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:15:47.399 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:15:55.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:15:55.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:16:00.006 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546273534960340992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:16:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273534960340992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:16:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273534960340992[0;39m ==> Parameters: 
2025-02-16 18:16:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273534960340992[0;39m <==    Updates: 0
2025-02-16 18:16:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546273534960340992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:16:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546273555910889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:16:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273555910889472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:16:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273555910889472[0;39m ==> Parameters: 
2025-02-16 18:16:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273555910889472[0;39m <==    Updates: 2
2025-02-16 18:16:05.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546273555910889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 18:16:07.423 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:16:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:16:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:16:27.446 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:16:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546273681740009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:16:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273681740009472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:16:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273681740009472[0;39m ==> Parameters: 
2025-02-16 18:16:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273681740009472[0;39m <==    Updates: 2
2025-02-16 18:16:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546273681740009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:16:47.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:16:55.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:16:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:17:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546273786601803776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:17:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273786601803776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:17:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273786601803776[0;39m ==> Parameters: 
2025-02-16 18:17:00.027 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546273786601803776[0;39m <==    Updates: 0
2025-02-16 18:17:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546273786601803776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:17:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546273807569129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:17:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273807569129472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:17:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273807569129472[0;39m ==> Parameters: 
2025-02-16 18:17:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273807569129472[0;39m <==    Updates: 2
2025-02-16 18:17:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546273807569129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:17:07.482 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:17:25.685 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:17:25.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:17:27.499 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:17:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546273933402443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:17:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273933402443776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:17:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273933402443776[0;39m ==> Parameters: 
2025-02-16 18:17:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546273933402443776[0;39m <==    Updates: 2
2025-02-16 18:17:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546273933402443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:17:47.523 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:17:55.685 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:17:55.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:18:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546274038255849472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:18:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274038255849472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:18:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274038255849472[0;39m ==> Parameters: 
2025-02-16 18:18:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274038255849472[0;39m <==    Updates: 0
2025-02-16 18:18:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546274038255849472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 18:18:05.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546274059239952384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:18:05.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274059239952384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:18:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274059239952384[0;39m ==> Parameters: 
2025-02-16 18:18:05.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274059239952384[0;39m <==    Updates: 2
2025-02-16 18:18:05.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546274059239952384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:18:07.544 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:18:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:18:25.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:18:27.577 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:18:35.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546274185098432512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:18:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274185098432512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:18:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274185098432512[0;39m ==> Parameters: 
2025-02-16 18:18:35.046 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274185098432512[0;39m <==    Updates: 2
2025-02-16 18:18:35.046 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546274185098432512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:18:47.615 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:18:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:18:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:19:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546274289918283776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:19:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274289918283776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:19:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274289918283776[0;39m ==> Parameters: 
2025-02-16 18:19:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274289918283776[0;39m <==    Updates: 0
2025-02-16 18:19:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546274289918283776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:19:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546274310889803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:19:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274310889803776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:19:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274310889803776[0;39m ==> Parameters: 
2025-02-16 18:19:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274310889803776[0;39m <==    Updates: 2
2025-02-16 18:19:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546274310889803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:19:07.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:19:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:19:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:19:27.643 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:19:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546274436718923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:19:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274436718923776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:19:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274436718923776[0;39m ==> Parameters: 
2025-02-16 18:19:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274436718923776[0;39m <==    Updates: 2
2025-02-16 18:19:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546274436718923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:19:47.655 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:19:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:19:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:20:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546274541576523776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:20:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274541576523776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:20:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274541576523776[0;39m ==> Parameters: 
2025-02-16 18:20:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274541576523776[0;39m <==    Updates: 0
2025-02-16 18:20:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546274541576523776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:20:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546274562548043776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:20:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274562548043776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:20:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274562548043776[0;39m ==> Parameters: 
2025-02-16 18:20:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274562548043776[0;39m <==    Updates: 2
2025-02-16 18:20:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546274562548043776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:20:07.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:20:25.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:20:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:20:27.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:20:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546274688372969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:20:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274688372969472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:20:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274688372969472[0;39m ==> Parameters: 
2025-02-16 18:20:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274688372969472[0;39m <==    Updates: 2
2025-02-16 18:20:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546274688372969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:20:47.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:20:55.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:20:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:21:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546274793234763776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:21:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274793234763776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:21:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274793234763776[0;39m ==> Parameters: 
2025-02-16 18:21:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546274793234763776[0;39m <==    Updates: 0
2025-02-16 18:21:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546274793234763776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:21:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546274814202089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:21:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274814202089472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:21:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274814202089472[0;39m ==> Parameters: 
2025-02-16 18:21:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274814202089472[0;39m <==    Updates: 2
2025-02-16 18:21:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546274814202089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 18:21:07.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:21:25.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:21:25.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:21:27.728 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:21:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546274940031209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:21:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274940031209472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:21:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274940031209472[0;39m ==> Parameters: 
2025-02-16 18:21:35.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546274940031209472[0;39m <==    Updates: 2
2025-02-16 18:21:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546274940031209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:21:47.747 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:21:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:21:55.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:22:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546275044893003776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:22:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275044893003776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:22:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275044893003776[0;39m ==> Parameters: 
2025-02-16 18:22:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275044893003776[0;39m <==    Updates: 0
2025-02-16 18:22:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546275044893003776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:22:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546275065868718080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:22:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275065868718080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:22:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275065868718080[0;39m ==> Parameters: 
2025-02-16 18:22:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275065868718080[0;39m <==    Updates: 2
2025-02-16 18:22:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546275065868718080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 18:22:07.757 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:22:25.688 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:22:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:22:27.778 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:22:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546275191693643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:22:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275191693643776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:22:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275191693643776[0;39m ==> Parameters: 
2025-02-16 18:22:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275191693643776[0;39m <==    Updates: 2
2025-02-16 18:22:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546275191693643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:22:47.788 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:22:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:22:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:23:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546275296551243776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:23:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275296551243776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:23:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275296551243776[0;39m ==> Parameters: 
2025-02-16 18:23:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275296551243776[0;39m <==    Updates: 0
2025-02-16 18:23:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546275296551243776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:23:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546275317522763776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:23:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275317522763776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:23:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275317522763776[0;39m ==> Parameters: 
2025-02-16 18:23:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275317522763776[0;39m <==    Updates: 2
2025-02-16 18:23:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546275317522763776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:23:07.807 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:23:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:23:25.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:23:27.816 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:23:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546275443351883776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:23:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275443351883776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:23:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275443351883776[0;39m ==> Parameters: 
2025-02-16 18:23:35.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275443351883776[0;39m <==    Updates: 2
2025-02-16 18:23:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546275443351883776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 18:23:47.840 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:23:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:23:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:24:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546275548205289472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:24:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275548205289472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:24:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275548205289472[0;39m ==> Parameters: 
2025-02-16 18:24:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275548205289472[0;39m <==    Updates: 0
2025-02-16 18:24:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546275548205289472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:24:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546275569181003776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:24:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275569181003776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:24:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275569181003776[0;39m ==> Parameters: 
2025-02-16 18:24:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275569181003776[0;39m <==    Updates: 2
2025-02-16 18:24:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546275569181003776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:24:07.859 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:24:25.694 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:24:25.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:24:27.870 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:24:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546275695010123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:24:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275695010123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:24:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275695010123776[0;39m ==> Parameters: 
2025-02-16 18:24:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275695010123776[0;39m <==    Updates: 2
2025-02-16 18:24:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546275695010123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:24:47.884 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:24:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:24:55.726 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:25:00.012 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546275799909666816[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:25:00.024 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275799909666816[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:25:00.024 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275799909666816[0;39m ==> Parameters: 
2025-02-16 18:25:00.043 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546275799909666816[0;39m <==    Updates: 0
2025-02-16 18:25:00.043 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546275799909666816[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:25:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546275820843438080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:25:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275820843438080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:25:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275820843438080[0;39m ==> Parameters: 
2025-02-16 18:25:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275820843438080[0;39m <==    Updates: 2
2025-02-16 18:25:05.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546275820843438080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:25:07.904 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:25:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:25:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:25:27.913 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:25:35.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546275946693529600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:25:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275946693529600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:25:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275946693529600[0;39m ==> Parameters: 
2025-02-16 18:25:35.044 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546275946693529600[0;39m <==    Updates: 2
2025-02-16 18:25:35.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546275946693529600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 18:25:47.934 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:25:55.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:25:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:26:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546276051521769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:26:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276051521769472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:26:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276051521769472[0;39m ==> Parameters: 
2025-02-16 18:26:00.035 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276051521769472[0;39m <==    Updates: 0
2025-02-16 18:26:00.035 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546276051521769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:26:05.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546276072526843904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:26:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276072526843904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:26:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276072526843904[0;39m ==> Parameters: 
2025-02-16 18:26:05.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276072526843904[0;39m <==    Updates: 2
2025-02-16 18:26:05.043 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546276072526843904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:26:07.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:26:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:26:25.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:26:27.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:26:35.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546276198364352512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:26:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276198364352512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:26:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276198364352512[0;39m ==> Parameters: 
2025-02-16 18:26:35.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276198364352512[0;39m <==    Updates: 2
2025-02-16 18:26:35.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546276198364352512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:26:48.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:26:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:26:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:27:00.008 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546276303209369600[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:27:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276303209369600[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:27:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276303209369600[0;39m ==> Parameters: 
2025-02-16 18:27:00.035 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276303209369600[0;39m <==    Updates: 0
2025-02-16 18:27:00.035 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546276303209369600[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:27:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546276324155723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:27:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276324155723776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:27:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276324155723776[0;39m ==> Parameters: 
2025-02-16 18:27:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276324155723776[0;39m <==    Updates: 2
2025-02-16 18:27:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546276324155723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:27:08.012 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:27:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:27:25.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:27:28.032 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:27:35.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546276450014203904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:27:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276450014203904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:27:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276450014203904[0;39m ==> Parameters: 
2025-02-16 18:27:35.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276450014203904[0;39m <==    Updates: 2
2025-02-16 18:27:35.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546276450014203904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:27:48.046 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:27:55.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:27:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:28:00.004 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546276554850832384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:28:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276554850832384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:28:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276554850832384[0;39m ==> Parameters: 
2025-02-16 18:28:00.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276554850832384[0;39m <==    Updates: 0
2025-02-16 18:28:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546276554850832384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:28:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546276575813963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:28:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276575813963776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:28:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276575813963776[0;39m ==> Parameters: 
2025-02-16 18:28:05.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276575813963776[0;39m <==    Updates: 2
2025-02-16 18:28:05.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546276575813963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:28:08.068 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:28:25.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:28:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:28:28.077 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:28:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546276701643083776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:28:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276701643083776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:28:35.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276701643083776[0;39m ==> Parameters: 
2025-02-16 18:28:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276701643083776[0;39m <==    Updates: 2
2025-02-16 18:28:35.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546276701643083776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 18:28:48.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:28:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:28:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:29:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546276806496489472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:29:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276806496489472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:29:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276806496489472[0;39m ==> Parameters: 
2025-02-16 18:29:00.034 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546276806496489472[0;39m <==    Updates: 0
2025-02-16 18:29:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546276806496489472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:29:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546276827468009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:29:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276827468009472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:29:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276827468009472[0;39m ==> Parameters: 
2025-02-16 18:29:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276827468009472[0;39m <==    Updates: 2
2025-02-16 18:29:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546276827468009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:29:08.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:29:25.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:29:25.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:29:28.130 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:29:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546276953297129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:29:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276953297129472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:29:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276953297129472[0;39m ==> Parameters: 
2025-02-16 18:29:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546276953297129472[0;39m <==    Updates: 2
2025-02-16 18:29:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546276953297129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:29:48.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:29:55.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:29:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:30:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546277058158923776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:30:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277058158923776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:30:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277058158923776[0;39m ==> Parameters: 
2025-02-16 18:30:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277058158923776[0;39m <==    Updates: 0
2025-02-16 18:30:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546277058158923776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:30:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546277079130443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:30:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277079130443776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:30:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277079130443776[0;39m ==> Parameters: 
2025-02-16 18:30:05.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277079130443776[0;39m <==    Updates: 2
2025-02-16 18:30:05.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546277079130443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:30:08.150 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:30:25.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:30:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:30:28.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:30:35.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546277204967952384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:30:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277204967952384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:30:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277204967952384[0;39m ==> Parameters: 
2025-02-16 18:30:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277204967952384[0;39m <==    Updates: 2
2025-02-16 18:30:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546277204967952384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:30:48.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:30:55.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:30:55.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:31:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546277309812969472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:31:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277309812969472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:31:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277309812969472[0;39m ==> Parameters: 
2025-02-16 18:31:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277309812969472[0;39m <==    Updates: 0
2025-02-16 18:31:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546277309812969472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 18:31:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546277330784489472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:31:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277330784489472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:31:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277330784489472[0;39m ==> Parameters: 
2025-02-16 18:31:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277330784489472[0;39m <==    Updates: 2
2025-02-16 18:31:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546277330784489472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:31:08.202 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:31:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:31:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:31:28.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:31:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546277456613609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:31:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277456613609472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:31:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277456613609472[0;39m ==> Parameters: 
2025-02-16 18:31:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277456613609472[0;39m <==    Updates: 2
2025-02-16 18:31:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546277456613609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:31:48.247 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:31:55.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:31:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:32:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546277561471209472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:32:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277561471209472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:32:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277561471209472[0;39m ==> Parameters: 
2025-02-16 18:32:00.035 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277561471209472[0;39m <==    Updates: 0
2025-02-16 18:32:00.035 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546277561471209472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:32:05.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546277582472089600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:32:05.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277582472089600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:32:05.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277582472089600[0;39m ==> Parameters: 
2025-02-16 18:32:05.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277582472089600[0;39m <==    Updates: 2
2025-02-16 18:32:05.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546277582472089600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:32:08.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:32:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:32:25.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:32:28.282 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:32:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546277708280238080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:32:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277708280238080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:32:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277708280238080[0;39m ==> Parameters: 
2025-02-16 18:32:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277708280238080[0;39m <==    Updates: 2
2025-02-16 18:32:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546277708280238080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:32:48.303 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:32:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:32:55.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:33:00.003 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546277813137838080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:33:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277813137838080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:33:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277813137838080[0;39m ==> Parameters: 
2025-02-16 18:33:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546277813137838080[0;39m <==    Updates: 0
2025-02-16 18:33:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546277813137838080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:33:05.007 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546277834126135296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:33:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277834126135296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:33:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277834126135296[0;39m ==> Parameters: 
2025-02-16 18:33:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277834126135296[0;39m <==    Updates: 2
2025-02-16 18:33:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546277834126135296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:33:08.335 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:33:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:33:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:33:28.374 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:33:35.016 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546277959993004032[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:33:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277959993004032[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:33:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277959993004032[0;39m ==> Parameters: 
2025-02-16 18:33:35.048 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546277959993004032[0;39m <==    Updates: 2
2025-02-16 18:33:35.050 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546277959993004032[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:33:48.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:33:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:33:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:34:00.010 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546278064825438208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:34:00.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278064825438208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:34:00.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278064825438208[0;39m ==> Parameters: 
2025-02-16 18:34:00.041 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278064825438208[0;39m <==    Updates: 0
2025-02-16 18:34:00.041 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546278064825438208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:34:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546278085755015168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:34:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278085755015168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:34:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278085755015168[0;39m ==> Parameters: 
2025-02-16 18:34:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278085755015168[0;39m <==    Updates: 2
2025-02-16 18:34:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546278085755015168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:34:08.406 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:34:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:34:25.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:34:28.425 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:34:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546278211592523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:34:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278211592523776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:34:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278211592523776[0;39m ==> Parameters: 
2025-02-16 18:34:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278211592523776[0;39m <==    Updates: 2
2025-02-16 18:34:35.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546278211592523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 18:34:48.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:34:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:34:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:35:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546278316450123776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:35:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278316450123776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:35:00.053 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278316450123776[0;39m ==> Parameters: 
2025-02-16 18:35:00.070 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278316450123776[0;39m <==    Updates: 0
2025-02-16 18:35:00.070 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546278316450123776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š68æ¯«ç§’
2025-02-16 18:35:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546278337421643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:35:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278337421643776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:35:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278337421643776[0;39m ==> Parameters: 
2025-02-16 18:35:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278337421643776[0;39m <==    Updates: 2
2025-02-16 18:35:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546278337421643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:35:08.458 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:35:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:35:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:35:28.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:35:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546278463250763776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:35:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278463250763776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:35:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278463250763776[0;39m ==> Parameters: 
2025-02-16 18:35:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278463250763776[0;39m <==    Updates: 2
2025-02-16 18:35:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546278463250763776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 18:35:48.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:35:55.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:35:55.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:36:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546278568104169472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:36:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278568104169472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:36:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278568104169472[0;39m ==> Parameters: 
2025-02-16 18:36:00.035 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278568104169472[0;39m <==    Updates: 0
2025-02-16 18:36:00.035 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546278568104169472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:36:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546278589075689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:36:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278589075689472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:36:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278589075689472[0;39m ==> Parameters: 
2025-02-16 18:36:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278589075689472[0;39m <==    Updates: 2
2025-02-16 18:36:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546278589075689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:36:08.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:36:25.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:36:25.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:36:28.526 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:36:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546278714904809472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:36:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278714904809472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:36:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278714904809472[0;39m ==> Parameters: 
2025-02-16 18:36:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278714904809472[0;39m <==    Updates: 2
2025-02-16 18:36:35.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546278714904809472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:36:48.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:36:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:36:55.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:37:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546278819766603776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:37:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278819766603776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:37:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278819766603776[0;39m ==> Parameters: 
2025-02-16 18:37:00.025 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546278819766603776[0;39m <==    Updates: 0
2025-02-16 18:37:00.026 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546278819766603776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:37:05.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546278840784261120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:37:05.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278840784261120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:37:05.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278840784261120[0;39m ==> Parameters: 
2025-02-16 18:37:05.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278840784261120[0;39m <==    Updates: 2
2025-02-16 18:37:05.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546278840784261120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:37:08.552 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:37:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:37:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:37:28.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:37:35.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546278966575632384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:37:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278966575632384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:37:35.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278966575632384[0;39m ==> Parameters: 
2025-02-16 18:37:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546278966575632384[0;39m <==    Updates: 2
2025-02-16 18:37:35.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546278966575632384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:37:48.591 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:37:55.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:37:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:38:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546279071424843776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:38:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279071424843776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:38:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279071424843776[0;39m ==> Parameters: 
2025-02-16 18:38:00.027 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279071424843776[0;39m <==    Updates: 0
2025-02-16 18:38:00.027 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546279071424843776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:38:05.014 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546279092446695424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:38:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279092446695424[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:38:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279092446695424[0;39m ==> Parameters: 
2025-02-16 18:38:05.038 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279092446695424[0;39m <==    Updates: 2
2025-02-16 18:38:05.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546279092446695424[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:38:08.612 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:38:25.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:38:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:38:28.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:38:35.006 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546279218242260992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:38:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279218242260992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:38:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279218242260992[0;39m ==> Parameters: 
2025-02-16 18:38:35.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279218242260992[0;39m <==    Updates: 2
2025-02-16 18:38:35.039 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546279218242260992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:38:48.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:38:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:38:55.718 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:39:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546279323083083776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:39:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279323083083776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:39:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279323083083776[0;39m ==> Parameters: 
2025-02-16 18:39:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279323083083776[0;39m <==    Updates: 0
2025-02-16 18:39:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546279323083083776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 18:39:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546279344050409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:39:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279344050409472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:39:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279344050409472[0;39m ==> Parameters: 
2025-02-16 18:39:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279344050409472[0;39m <==    Updates: 2
2025-02-16 18:39:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546279344050409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:39:08.659 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:39:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:39:25.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:39:28.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:39:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546279469883723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:39:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279469883723776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:39:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279469883723776[0;39m ==> Parameters: 
2025-02-16 18:39:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279469883723776[0;39m <==    Updates: 2
2025-02-16 18:39:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546279469883723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:39:48.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:39:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:39:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:40:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546279574737129472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:40:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279574737129472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:40:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279574737129472[0;39m ==> Parameters: 
2025-02-16 18:40:00.027 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279574737129472[0;39m <==    Updates: 0
2025-02-16 18:40:00.027 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546279574737129472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:40:05.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546279595738009600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:40:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279595738009600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:40:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279595738009600[0;39m ==> Parameters: 
2025-02-16 18:40:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279595738009600[0;39m <==    Updates: 2
2025-02-16 18:40:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546279595738009600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:40:08.693 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:40:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:40:25.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:40:28.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:40:35.016 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546279721600684032[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:40:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279721600684032[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:40:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279721600684032[0;39m ==> Parameters: 
2025-02-16 18:40:35.049 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279721600684032[0;39m <==    Updates: 2
2025-02-16 18:40:35.050 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546279721600684032[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:40:48.748 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:40:55.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:40:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:41:00.014 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546279826449895424[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:41:00.025 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279826449895424[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:41:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279826449895424[0;39m ==> Parameters: 
2025-02-16 18:41:00.046 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546279826449895424[0;39m <==    Updates: 0
2025-02-16 18:41:00.047 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546279826449895424[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:41:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546279847366889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:41:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279847366889472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:41:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279847366889472[0;39m ==> Parameters: 
2025-02-16 18:41:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279847366889472[0;39m <==    Updates: 2
2025-02-16 18:41:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546279847366889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:41:08.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:41:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:41:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:41:28.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:41:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546279973196009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:41:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279973196009472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:41:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279973196009472[0;39m ==> Parameters: 
2025-02-16 18:41:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546279973196009472[0;39m <==    Updates: 2
2025-02-16 18:41:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546279973196009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:41:48.854 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:41:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:41:55.717 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:42:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546280078053609472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:42:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280078053609472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:42:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280078053609472[0;39m ==> Parameters: 
2025-02-16 18:42:00.034 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280078053609472[0;39m <==    Updates: 0
2025-02-16 18:42:00.035 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546280078053609472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:42:05.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546280099054489600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:42:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280099054489600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:42:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280099054489600[0;39m ==> Parameters: 
2025-02-16 18:42:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280099054489600[0;39m <==    Updates: 2
2025-02-16 18:42:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546280099054489600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:42:08.876 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:42:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:42:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:42:28.895 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:42:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546280224858443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:42:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280224858443776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:42:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280224858443776[0;39m ==> Parameters: 
2025-02-16 18:42:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280224858443776[0;39m <==    Updates: 2
2025-02-16 18:42:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546280224858443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:42:48.942 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:42:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:42:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:43:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546280329711849472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:43:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280329711849472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:43:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280329711849472[0;39m ==> Parameters: 
2025-02-16 18:43:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280329711849472[0;39m <==    Updates: 0
2025-02-16 18:43:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546280329711849472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 18:43:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546280350687563776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:43:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280350687563776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:43:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280350687563776[0;39m ==> Parameters: 
2025-02-16 18:43:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280350687563776[0;39m <==    Updates: 2
2025-02-16 18:43:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546280350687563776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:43:08.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:43:25.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:43:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:43:28.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:43:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546280476512489472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:43:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280476512489472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:43:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280476512489472[0;39m ==> Parameters: 
2025-02-16 18:43:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280476512489472[0;39m <==    Updates: 2
2025-02-16 18:43:35.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546280476512489472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:43:49.003 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:43:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:43:55.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:44:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546280581374283776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:44:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280581374283776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:44:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280581374283776[0;39m ==> Parameters: 
2025-02-16 18:44:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280581374283776[0;39m <==    Updates: 0
2025-02-16 18:44:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546280581374283776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:44:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546280602345803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:44:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280602345803776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:44:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280602345803776[0;39m ==> Parameters: 
2025-02-16 18:44:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280602345803776[0;39m <==    Updates: 2
2025-02-16 18:44:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546280602345803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 18:44:09.015 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:44:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:44:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:44:29.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:44:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546280728174923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:44:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280728174923776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:44:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280728174923776[0;39m ==> Parameters: 
2025-02-16 18:44:35.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280728174923776[0;39m <==    Updates: 2
2025-02-16 18:44:35.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546280728174923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š40æ¯«ç§’
2025-02-16 18:44:49.054 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:44:55.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:44:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:45:00.013 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546280833078661120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:45:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280833078661120[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:45:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280833078661120[0;39m ==> Parameters: 
2025-02-16 18:45:00.049 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546280833078661120[0;39m <==    Updates: 0
2025-02-16 18:45:00.049 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546280833078661120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 18:45:05.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546280854029209600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:45:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280854029209600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:45:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280854029209600[0;39m ==> Parameters: 
2025-02-16 18:45:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280854029209600[0;39m <==    Updates: 2
2025-02-16 18:45:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546280854029209600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:45:09.097 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:45:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:45:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:45:29.111 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:45:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546280979828969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:45:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280979828969472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:45:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280979828969472[0;39m ==> Parameters: 
2025-02-16 18:45:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546280979828969472[0;39m <==    Updates: 2
2025-02-16 18:45:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546280979828969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:45:49.126 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:45:55.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:45:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:46:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546281084686569472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:46:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281084686569472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:46:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281084686569472[0;39m ==> Parameters: 
2025-02-16 18:46:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281084686569472[0;39m <==    Updates: 0
2025-02-16 18:46:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546281084686569472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:46:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546281105662283776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:46:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281105662283776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:46:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281105662283776[0;39m ==> Parameters: 
2025-02-16 18:46:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281105662283776[0;39m <==    Updates: 2
2025-02-16 18:46:05.024 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546281105662283776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2025-02-16 18:46:09.144 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:46:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:46:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:46:29.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:46:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546281231491403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:46:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281231491403776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:46:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281231491403776[0;39m ==> Parameters: 
2025-02-16 18:46:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281231491403776[0;39m <==    Updates: 2
2025-02-16 18:46:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546281231491403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 18:46:49.180 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:46:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:46:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:47:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546281336344809472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:47:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281336344809472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:47:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281336344809472[0;39m ==> Parameters: 
2025-02-16 18:47:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281336344809472[0;39m <==    Updates: 0
2025-02-16 18:47:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546281336344809472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:47:05.006 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546281357337300992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:47:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281357337300992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:47:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281357337300992[0;39m ==> Parameters: 
2025-02-16 18:47:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281357337300992[0;39m <==    Updates: 2
2025-02-16 18:47:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546281357337300992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:47:09.208 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:47:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:47:25.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:47:29.237 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:47:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546281483149643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:47:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281483149643776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:47:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281483149643776[0;39m ==> Parameters: 
2025-02-16 18:47:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281483149643776[0;39m <==    Updates: 2
2025-02-16 18:47:35.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546281483149643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:47:49.248 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:47:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:47:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:48:00.003 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546281588011438080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:48:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281588011438080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:48:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281588011438080[0;39m ==> Parameters: 
2025-02-16 18:48:00.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281588011438080[0;39m <==    Updates: 0
2025-02-16 18:48:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546281588011438080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:48:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546281608970375168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:48:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281608970375168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:48:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281608970375168[0;39m ==> Parameters: 
2025-02-16 18:48:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281608970375168[0;39m <==    Updates: 2
2025-02-16 18:48:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546281608970375168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:48:09.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:48:25.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:48:25.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:48:29.297 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:48:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546281734803689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:48:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281734803689472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:48:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281734803689472[0;39m ==> Parameters: 
2025-02-16 18:48:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281734803689472[0;39m <==    Updates: 2
2025-02-16 18:48:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546281734803689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:48:49.316 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:48:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:48:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:49:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546281839657095168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:49:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281839657095168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:49:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281839657095168[0;39m ==> Parameters: 
2025-02-16 18:49:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546281839657095168[0;39m <==    Updates: 0
2025-02-16 18:49:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546281839657095168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:49:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546281860637003776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:49:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281860637003776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:49:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281860637003776[0;39m ==> Parameters: 
2025-02-16 18:49:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281860637003776[0;39m <==    Updates: 2
2025-02-16 18:49:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546281860637003776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:49:09.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:49:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:49:25.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:49:29.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:49:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546281986466123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:49:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281986466123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:49:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281986466123776[0;39m ==> Parameters: 
2025-02-16 18:49:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546281986466123776[0;39m <==    Updates: 2
2025-02-16 18:49:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546281986466123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:49:49.367 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:49:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:49:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:50:00.013 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546282091369861120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:50:00.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282091369861120[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:50:00.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282091369861120[0;39m ==> Parameters: 
2025-02-16 18:50:00.039 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282091369861120[0;39m <==    Updates: 0
2025-02-16 18:50:00.040 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546282091369861120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:50:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546282112299438080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:50:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282112299438080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:50:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282112299438080[0;39m ==> Parameters: 
2025-02-16 18:50:05.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282112299438080[0;39m <==    Updates: 2
2025-02-16 18:50:05.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546282112299438080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:50:09.387 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:50:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:50:25.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:50:29.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:50:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546282238120169472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:50:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282238120169472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:50:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282238120169472[0;39m ==> Parameters: 
2025-02-16 18:50:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282238120169472[0;39m <==    Updates: 2
2025-02-16 18:50:35.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546282238120169472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:50:49.421 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:50:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:50:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:51:00.007 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546282343002935296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:51:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282343002935296[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:51:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282343002935296[0;39m ==> Parameters: 
2025-02-16 18:51:00.040 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282343002935296[0;39m <==    Updates: 0
2025-02-16 18:51:00.040 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546282343002935296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:51:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546282363953483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:51:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282363953483776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:51:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282363953483776[0;39m ==> Parameters: 
2025-02-16 18:51:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282363953483776[0;39m <==    Updates: 2
2025-02-16 18:51:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546282363953483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:51:09.466 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:51:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:51:25.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:51:29.486 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:51:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546282489778409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:51:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282489778409472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:51:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282489778409472[0;39m ==> Parameters: 
2025-02-16 18:51:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282489778409472[0;39m <==    Updates: 2
2025-02-16 18:51:35.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546282489778409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:51:49.507 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:51:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:51:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:52:00.009 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546282594669563904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:52:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282594669563904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:52:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282594669563904[0;39m ==> Parameters: 
2025-02-16 18:52:00.038 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282594669563904[0;39m <==    Updates: 0
2025-02-16 18:52:00.038 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546282594669563904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:52:05.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546282615641083904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:52:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282615641083904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:52:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282615641083904[0;39m ==> Parameters: 
2025-02-16 18:52:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282615641083904[0;39m <==    Updates: 2
2025-02-16 18:52:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546282615641083904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:52:09.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:52:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:52:25.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:52:29.554 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:52:35.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546282741432455168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:52:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282741432455168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:52:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282741432455168[0;39m ==> Parameters: 
2025-02-16 18:52:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282741432455168[0;39m <==    Updates: 2
2025-02-16 18:52:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546282741432455168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:52:49.597 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:52:55.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:52:55.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:53:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546282846294249472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:53:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282846294249472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:53:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282846294249472[0;39m ==> Parameters: 
2025-02-16 18:53:00.035 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546282846294249472[0;39m <==    Updates: 0
2025-02-16 18:53:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546282846294249472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:53:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546282867265769472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:53:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282867265769472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:53:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282867265769472[0;39m ==> Parameters: 
2025-02-16 18:53:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282867265769472[0;39m <==    Updates: 2
2025-02-16 18:53:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546282867265769472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 18:53:09.619 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:53:25.685 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:53:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:53:29.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:53:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546282993099083776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:53:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282993099083776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:53:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282993099083776[0;39m ==> Parameters: 
2025-02-16 18:53:35.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546282993099083776[0;39m <==    Updates: 2
2025-02-16 18:53:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546282993099083776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 18:53:49.646 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:53:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:53:55.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:54:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546283097952489472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:54:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283097952489472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:54:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283097952489472[0;39m ==> Parameters: 
2025-02-16 18:54:00.044 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283097952489472[0;39m <==    Updates: 0
2025-02-16 18:54:00.045 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546283097952489472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š44æ¯«ç§’
2025-02-16 18:54:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546283118924009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:54:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283118924009472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:54:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283118924009472[0;39m ==> Parameters: 
2025-02-16 18:54:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283118924009472[0;39m <==    Updates: 2
2025-02-16 18:54:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546283118924009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:54:09.665 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:54:25.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:54:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:54:29.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:54:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546283244753129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:54:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283244753129472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:54:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283244753129472[0;39m ==> Parameters: 
2025-02-16 18:54:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283244753129472[0;39m <==    Updates: 2
2025-02-16 18:54:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546283244753129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 18:54:49.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:54:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:54:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:55:00.007 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546283349635895296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:55:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283349635895296[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:55:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283349635895296[0;39m ==> Parameters: 
2025-02-16 18:55:00.038 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283349635895296[0;39m <==    Updates: 0
2025-02-16 18:55:00.038 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546283349635895296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:55:05.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546283370599026688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:55:05.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283370599026688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:55:05.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283370599026688[0;39m ==> Parameters: 
2025-02-16 18:55:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283370599026688[0;39m <==    Updates: 2
2025-02-16 18:55:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546283370599026688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:55:09.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:55:25.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:55:25.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:55:29.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:55:35.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546283496407175168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:55:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283496407175168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:55:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283496407175168[0;39m ==> Parameters: 
2025-02-16 18:55:35.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283496407175168[0;39m <==    Updates: 2
2025-02-16 18:55:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546283496407175168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:55:49.749 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:55:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:55:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:56:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546283601264775168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:56:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283601264775168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:56:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283601264775168[0;39m ==> Parameters: 
2025-02-16 18:56:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283601264775168[0;39m <==    Updates: 0
2025-02-16 18:56:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546283601264775168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:56:05.015 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546283622299209728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:56:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283622299209728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:56:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283622299209728[0;39m ==> Parameters: 
2025-02-16 18:56:05.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283622299209728[0;39m <==    Updates: 2
2025-02-16 18:56:05.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546283622299209728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 18:56:09.759 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:56:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:56:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:56:29.775 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:56:35.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546283748086386688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:56:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283748086386688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:56:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283748086386688[0;39m ==> Parameters: 
2025-02-16 18:56:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283748086386688[0;39m <==    Updates: 2
2025-02-16 18:56:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546283748086386688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 18:56:49.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:56:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:56:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:57:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546283852923015168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:57:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283852923015168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:57:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283852923015168[0;39m ==> Parameters: 
2025-02-16 18:57:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546283852923015168[0;39m <==    Updates: 0
2025-02-16 18:57:00.027 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546283852923015168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 18:57:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546283873902923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:57:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283873902923776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:57:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283873902923776[0;39m ==> Parameters: 
2025-02-16 18:57:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283873902923776[0;39m <==    Updates: 2
2025-02-16 18:57:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546283873902923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 18:57:09.818 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:57:25.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:57:25.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:57:29.828 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:57:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546283999727849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:57:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283999727849472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:57:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283999727849472[0;39m ==> Parameters: 
2025-02-16 18:57:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546283999727849472[0;39m <==    Updates: 2
2025-02-16 18:57:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546283999727849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 18:57:49.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:57:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:57:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:58:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546284104585449472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:58:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284104585449472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:58:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284104585449472[0;39m ==> Parameters: 
2025-02-16 18:58:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284104585449472[0;39m <==    Updates: 0
2025-02-16 18:58:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546284104585449472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 18:58:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546284125561163776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:58:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284125561163776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:58:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284125561163776[0;39m ==> Parameters: 
2025-02-16 18:58:05.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284125561163776[0;39m <==    Updates: 2
2025-02-16 18:58:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546284125561163776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:58:09.891 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:58:25.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:58:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:58:29.925 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:58:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546284251386089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:58:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284251386089472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:58:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284251386089472[0;39m ==> Parameters: 
2025-02-16 18:58:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284251386089472[0;39m <==    Updates: 2
2025-02-16 18:58:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546284251386089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 18:58:49.957 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:58:55.685 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:58:55.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:59:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546284356247883776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 18:59:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284356247883776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 18:59:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284356247883776[0;39m ==> Parameters: 
2025-02-16 18:59:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284356247883776[0;39m <==    Updates: 0
2025-02-16 18:59:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546284356247883776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:59:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546284377211015168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:59:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284377211015168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:59:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284377211015168[0;39m ==> Parameters: 
2025-02-16 18:59:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284377211015168[0;39m <==    Updates: 2
2025-02-16 18:59:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546284377211015168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 18:59:09.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:59:25.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:59:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:59:29.994 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:59:35.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546284503056912384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 18:59:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284503056912384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 18:59:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284503056912384[0;39m ==> Parameters: 
2025-02-16 18:59:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284503056912384[0;39m <==    Updates: 2
2025-02-16 18:59:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546284503056912384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 18:59:50.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 18:59:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 18:59:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:00:00.006 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546284607922900992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:00:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284607922900992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:00:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284607922900992[0;39m ==> Parameters: 
2025-02-16 19:00:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284607922900992[0;39m <==    Updates: 0
2025-02-16 19:00:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546284607922900992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:00:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546284628873449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:00:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284628873449472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:00:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284628873449472[0;39m ==> Parameters: 
2025-02-16 19:00:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284628873449472[0;39m <==    Updates: 2
2025-02-16 19:00:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546284628873449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:00:10.034 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:00:25.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:00:25.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:00:30.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:00:35.007 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546284754727735296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:00:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284754727735296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:00:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284754727735296[0;39m ==> Parameters: 
2025-02-16 19:00:35.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284754727735296[0;39m <==    Updates: 2
2025-02-16 19:00:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546284754727735296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 19:00:50.063 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:00:55.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:00:55.716 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:01:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546284859560169472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:01:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284859560169472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:01:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284859560169472[0;39m ==> Parameters: 
2025-02-16 19:01:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546284859560169472[0;39m <==    Updates: 0
2025-02-16 19:01:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546284859560169472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:01:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546284880527495168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:01:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284880527495168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:01:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284880527495168[0;39m ==> Parameters: 
2025-02-16 19:01:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546284880527495168[0;39m <==    Updates: 2
2025-02-16 19:01:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546284880527495168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:01:10.083 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:01:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:01:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:01:30.103 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:01:35.016 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546285006423724032[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:01:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285006423724032[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:01:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285006423724032[0;39m ==> Parameters: 
2025-02-16 19:01:35.050 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285006423724032[0;39m <==    Updates: 2
2025-02-16 19:01:35.050 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546285006423724032[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 19:01:50.112 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:01:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:01:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:02:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546285111218409472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:02:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285111218409472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:02:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285111218409472[0;39m ==> Parameters: 
2025-02-16 19:02:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285111218409472[0;39m <==    Updates: 0
2025-02-16 19:02:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546285111218409472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:02:05.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546285132240261120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:02:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285132240261120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:02:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285132240261120[0;39m ==> Parameters: 
2025-02-16 19:02:05.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285132240261120[0;39m <==    Updates: 2
2025-02-16 19:02:05.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546285132240261120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:02:10.122 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:02:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:02:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:02:30.143 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:02:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546285258019049472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:02:35.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285258019049472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:02:35.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285258019049472[0;39m ==> Parameters: 
2025-02-16 19:02:35.044 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285258019049472[0;39m <==    Updates: 2
2025-02-16 19:02:35.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546285258019049472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š43æ¯«ç§’
2025-02-16 19:02:50.166 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:02:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:02:55.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:03:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546285362876649472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:03:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285362876649472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:03:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285362876649472[0;39m ==> Parameters: 
2025-02-16 19:03:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285362876649472[0;39m <==    Updates: 0
2025-02-16 19:03:00.027 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546285362876649472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 19:03:05.010 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546285383885918208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:03:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285383885918208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:03:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285383885918208[0;39m ==> Parameters: 
2025-02-16 19:03:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285383885918208[0;39m <==    Updates: 2
2025-02-16 19:03:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546285383885918208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:03:10.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:03:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:03:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:03:30.190 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:03:35.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546285509710843904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:03:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285509710843904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:03:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285509710843904[0;39m ==> Parameters: 
2025-02-16 19:03:35.047 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285509710843904[0;39m <==    Updates: 2
2025-02-16 19:03:35.048 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546285509710843904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š39æ¯«ç§’
2025-02-16 19:03:50.211 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:03:55.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:03:55.727 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:04:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546285614530695168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:04:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285614530695168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:04:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285614530695168[0;39m ==> Parameters: 
2025-02-16 19:04:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285614530695168[0;39m <==    Updates: 0
2025-02-16 19:04:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546285614530695168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:04:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546285635510603776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:04:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285635510603776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:04:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285635510603776[0;39m ==> Parameters: 
2025-02-16 19:04:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285635510603776[0;39m <==    Updates: 2
2025-02-16 19:04:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546285635510603776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:04:10.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:04:25.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:04:25.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:04:30.231 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:04:35.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546285761381666816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:04:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285761381666816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:04:35.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285761381666816[0;39m ==> Parameters: 
2025-02-16 19:04:35.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285761381666816[0;39m <==    Updates: 2
2025-02-16 19:04:35.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546285761381666816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:04:50.243 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:04:55.689 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:04:55.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:05:00.006 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546285866214100992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:05:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285866214100992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:05:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285866214100992[0;39m ==> Parameters: 
2025-02-16 19:05:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546285866214100992[0;39m <==    Updates: 0
2025-02-16 19:05:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546285866214100992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:05:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546285887168843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:05:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285887168843776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:05:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285887168843776[0;39m ==> Parameters: 
2025-02-16 19:05:05.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546285887168843776[0;39m <==    Updates: 2
2025-02-16 19:05:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546285887168843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 19:05:10.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:05:25.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:05:25.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:05:30.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:05:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546286012997963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:05:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286012997963776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:05:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286012997963776[0;39m ==> Parameters: 
2025-02-16 19:05:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286012997963776[0;39m <==    Updates: 2
2025-02-16 19:05:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546286012997963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 19:05:50.293 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:05:55.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:05:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:06:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546286117851369472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:06:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286117851369472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:06:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286117851369472[0;39m ==> Parameters: 
2025-02-16 19:06:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286117851369472[0;39m <==    Updates: 0
2025-02-16 19:06:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546286117851369472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:06:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546286138818695168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:06:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286138818695168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:06:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286138818695168[0;39m ==> Parameters: 
2025-02-16 19:06:05.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286138818695168[0;39m <==    Updates: 2
2025-02-16 19:06:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546286138818695168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:06:10.315 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:06:25.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:06:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:06:30.325 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:06:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546286264652009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:06:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286264652009472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:06:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286264652009472[0;39m ==> Parameters: 
2025-02-16 19:06:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286264652009472[0;39m <==    Updates: 2
2025-02-16 19:06:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546286264652009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 19:06:50.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:06:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:06:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:07:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546286369509609472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:07:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286369509609472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:07:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286369509609472[0;39m ==> Parameters: 
2025-02-16 19:07:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286369509609472[0;39m <==    Updates: 0
2025-02-16 19:07:00.026 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546286369509609472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:07:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546286390481129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:07:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286390481129472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:07:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286390481129472[0;39m ==> Parameters: 
2025-02-16 19:07:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286390481129472[0;39m <==    Updates: 2
2025-02-16 19:07:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546286390481129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:07:10.371 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:07:25.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:07:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:07:30.390 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:07:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546286516310249472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:07:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286516310249472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:07:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286516310249472[0;39m ==> Parameters: 
2025-02-16 19:07:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286516310249472[0;39m <==    Updates: 2
2025-02-16 19:07:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546286516310249472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:07:50.408 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:07:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:07:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:08:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546286621163655168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:08:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286621163655168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:08:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286621163655168[0;39m ==> Parameters: 
2025-02-16 19:08:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286621163655168[0;39m <==    Updates: 0
2025-02-16 19:08:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546286621163655168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:08:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546286642143563776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:08:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286642143563776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:08:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286642143563776[0;39m ==> Parameters: 
2025-02-16 19:08:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286642143563776[0;39m <==    Updates: 2
2025-02-16 19:08:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546286642143563776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:08:10.434 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:08:25.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:08:25.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:08:30.445 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:08:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546286767976878080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:08:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286767976878080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:08:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286767976878080[0;39m ==> Parameters: 
2025-02-16 19:08:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286767976878080[0;39m <==    Updates: 2
2025-02-16 19:08:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546286767976878080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:08:50.458 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:08:55.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:08:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:09:00.007 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546286872851255296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:09:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286872851255296[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:09:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286872851255296[0;39m ==> Parameters: 
2025-02-16 19:09:00.042 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546286872851255296[0;39m <==    Updates: 0
2025-02-16 19:09:00.042 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546286872851255296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:09:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546286893797609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:09:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286893797609472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:09:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286893797609472[0;39m ==> Parameters: 
2025-02-16 19:09:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546286893797609472[0;39m <==    Updates: 2
2025-02-16 19:09:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546286893797609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:09:10.468 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:09:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:09:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:09:30.488 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:09:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546287019630923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:09:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287019630923776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:09:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287019630923776[0;39m ==> Parameters: 
2025-02-16 19:09:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287019630923776[0;39m <==    Updates: 2
2025-02-16 19:09:35.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546287019630923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:09:50.498 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:09:55.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:09:55.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:10:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546287124484329472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:10:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287124484329472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:10:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287124484329472[0;39m ==> Parameters: 
2025-02-16 19:10:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287124484329472[0;39m <==    Updates: 0
2025-02-16 19:10:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546287124484329472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 19:10:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546287145460043776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:10:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287145460043776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:10:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287145460043776[0;39m ==> Parameters: 
2025-02-16 19:10:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287145460043776[0;39m <==    Updates: 2
2025-02-16 19:10:05.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546287145460043776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:10:10.518 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:10:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:10:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:10:30.528 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:10:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546287271284969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:10:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287271284969472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:10:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287271284969472[0;39m ==> Parameters: 
2025-02-16 19:10:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287271284969472[0;39m <==    Updates: 2
2025-02-16 19:10:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546287271284969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:10:50.548 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:10:55.691 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:10:55.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:11:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546287376138375168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:11:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287376138375168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:11:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287376138375168[0;39m ==> Parameters: 
2025-02-16 19:11:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287376138375168[0;39m <==    Updates: 0
2025-02-16 19:11:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546287376138375168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:11:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546287397118283776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:11:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287397118283776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:11:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287397118283776[0;39m ==> Parameters: 
2025-02-16 19:11:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287397118283776[0;39m <==    Updates: 2
2025-02-16 19:11:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546287397118283776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:11:10.558 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:11:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:11:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:11:30.567 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:11:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546287522947403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:11:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287522947403776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:11:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287522947403776[0;39m ==> Parameters: 
2025-02-16 19:11:35.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287522947403776[0;39m <==    Updates: 2
2025-02-16 19:11:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546287522947403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:11:50.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:11:55.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:11:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:12:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546287627800809472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:12:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287627800809472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:12:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287627800809472[0;39m ==> Parameters: 
2025-02-16 19:12:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287627800809472[0;39m <==    Updates: 0
2025-02-16 19:12:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546287627800809472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:12:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546287648772329472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:12:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287648772329472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:12:05.044 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287648772329472[0;39m ==> Parameters: 
2025-02-16 19:12:05.072 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287648772329472[0;39m <==    Updates: 2
2025-02-16 19:12:05.072 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546287648772329472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š71æ¯«ç§’
2025-02-16 19:12:10.602 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:12:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:12:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:12:30.624 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:12:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546287774609838080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:12:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287774609838080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:12:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287774609838080[0;39m ==> Parameters: 
2025-02-16 19:12:35.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287774609838080[0;39m <==    Updates: 2
2025-02-16 19:12:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546287774609838080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š38æ¯«ç§’
2025-02-16 19:12:50.640 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:12:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:12:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:13:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546287879463243776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:13:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287879463243776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:13:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287879463243776[0;39m ==> Parameters: 
2025-02-16 19:13:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546287879463243776[0;39m <==    Updates: 0
2025-02-16 19:13:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546287879463243776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 19:13:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546287900430569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:13:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287900430569472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:13:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287900430569472[0;39m ==> Parameters: 
2025-02-16 19:13:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546287900430569472[0;39m <==    Updates: 2
2025-02-16 19:13:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546287900430569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:13:10.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:13:25.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:13:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:13:30.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:13:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546288026259689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:13:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288026259689472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:13:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288026259689472[0;39m ==> Parameters: 
2025-02-16 19:13:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288026259689472[0;39m <==    Updates: 2
2025-02-16 19:13:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546288026259689472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:13:50.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:13:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:13:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:14:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546288131121483776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:14:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288131121483776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:14:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288131121483776[0;39m ==> Parameters: 
2025-02-16 19:14:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288131121483776[0;39m <==    Updates: 0
2025-02-16 19:14:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546288131121483776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:14:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546288152088809472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:14:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288152088809472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:14:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288152088809472[0;39m ==> Parameters: 
2025-02-16 19:14:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288152088809472[0;39m <==    Updates: 2
2025-02-16 19:14:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546288152088809472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:14:10.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:14:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:14:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:14:30.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:14:35.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546288277913735168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:14:35.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288277913735168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:14:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288277913735168[0;39m ==> Parameters: 
2025-02-16 19:14:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288277913735168[0;39m <==    Updates: 2
2025-02-16 19:14:35.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546288277913735168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:14:50.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:14:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:14:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:15:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546288382771335168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:15:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288382771335168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:15:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288382771335168[0;39m ==> Parameters: 
2025-02-16 19:15:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288382771335168[0;39m <==    Updates: 0
2025-02-16 19:15:00.027 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546288382771335168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 19:15:05.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546288403793186816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:15:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288403793186816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:15:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288403793186816[0;39m ==> Parameters: 
2025-02-16 19:15:05.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288403793186816[0;39m <==    Updates: 2
2025-02-16 19:15:05.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546288403793186816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:15:10.754 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:15:25.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:15:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:15:30.774 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:15:35.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546288529618112512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:15:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288529618112512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:15:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288529618112512[0;39m ==> Parameters: 
2025-02-16 19:15:35.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288529618112512[0;39m <==    Updates: 2
2025-02-16 19:15:35.045 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546288529618112512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 19:15:50.787 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:15:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:15:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:16:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546288634433769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:16:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288634433769472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:16:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288634433769472[0;39m ==> Parameters: 
2025-02-16 19:16:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288634433769472[0;39m <==    Updates: 0
2025-02-16 19:16:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546288634433769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:16:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546288655409483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:16:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288655409483776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:16:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288655409483776[0;39m ==> Parameters: 
2025-02-16 19:16:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288655409483776[0;39m <==    Updates: 2
2025-02-16 19:16:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546288655409483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:16:10.799 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:16:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:16:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:16:30.810 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:16:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546288781238603776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:16:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288781238603776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:16:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288781238603776[0;39m ==> Parameters: 
2025-02-16 19:16:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288781238603776[0;39m <==    Updates: 2
2025-02-16 19:16:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546288781238603776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:16:50.823 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:16:55.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:16:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:17:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546288886092009472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:17:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288886092009472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:17:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288886092009472[0;39m ==> Parameters: 
2025-02-16 19:17:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546288886092009472[0;39m <==    Updates: 0
2025-02-16 19:17:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546288886092009472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 19:17:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546288907067723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:17:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288907067723776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:17:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288907067723776[0;39m ==> Parameters: 
2025-02-16 19:17:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546288907067723776[0;39m <==    Updates: 2
2025-02-16 19:17:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546288907067723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 19:17:10.865 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:17:25.692 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:17:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:17:30.884 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:17:35.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546289032934592512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:17:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289032934592512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:17:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289032934592512[0;39m ==> Parameters: 
2025-02-16 19:17:35.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289032934592512[0;39m <==    Updates: 2
2025-02-16 19:17:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546289032934592512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:17:50.896 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:17:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:17:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:18:00.003 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546289137758638080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:18:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289137758638080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:18:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289137758638080[0;39m ==> Parameters: 
2025-02-16 19:18:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289137758638080[0;39m <==    Updates: 0
2025-02-16 19:18:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546289137758638080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 19:18:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546289158717575168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:18:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289158717575168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:18:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289158717575168[0;39m ==> Parameters: 
2025-02-16 19:18:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289158717575168[0;39m <==    Updates: 2
2025-02-16 19:18:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546289158717575168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 19:18:10.905 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:18:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:18:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:18:30.930 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:18:35.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546289284580249600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:18:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289284580249600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:18:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289284580249600[0;39m ==> Parameters: 
2025-02-16 19:18:35.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289284580249600[0;39m <==    Updates: 2
2025-02-16 19:18:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546289284580249600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:18:50.943 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:18:55.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:18:55.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:19:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546289389412683776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:19:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289389412683776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:19:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289389412683776[0;39m ==> Parameters: 
2025-02-16 19:19:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289389412683776[0;39m <==    Updates: 0
2025-02-16 19:19:00.029 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546289389412683776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 19:19:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546289410380009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:19:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289410380009472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:19:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289410380009472[0;39m ==> Parameters: 
2025-02-16 19:19:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289410380009472[0;39m <==    Updates: 2
2025-02-16 19:19:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546289410380009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:19:10.966 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:19:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:19:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:19:30.989 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:19:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546289536213323776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:19:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289536213323776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:19:35.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289536213323776[0;39m ==> Parameters: 
2025-02-16 19:19:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289536213323776[0;39m <==    Updates: 2
2025-02-16 19:19:35.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546289536213323776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:19:51.004 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:19:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:19:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:20:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546289641066729472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:20:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289641066729472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:20:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289641066729472[0;39m ==> Parameters: 
2025-02-16 19:20:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289641066729472[0;39m <==    Updates: 0
2025-02-16 19:20:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546289641066729472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 19:20:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546289662042443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:20:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289662042443776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:20:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289662042443776[0;39m ==> Parameters: 
2025-02-16 19:20:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289662042443776[0;39m <==    Updates: 2
2025-02-16 19:20:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546289662042443776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:20:11.013 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:20:21.495 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546289731219099648[0;39m ------------- å¼€å§‹ -------------
2025-02-16 19:20:21.496 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546289731219099648[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2025-02-16 19:20:21.496 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546289731219099648[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.UserController.login
2025-02-16 19:20:21.496 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546289731219099648[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 19:20:21.496 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546289731219099648[0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2025-02-16 19:20:21.561 DEBUG c.juege.tech_doc.mapper.UserMapper.selectByExample:137  [32m546289731219099648[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-02-16 19:20:21.561 DEBUG c.juege.tech_doc.mapper.UserMapper.selectByExample:137  [32m546289731219099648[0;39m ==> Parameters: test(String)
2025-02-16 19:20:21.570 TRACE c.juege.tech_doc.mapper.UserMapper.selectByExample:143  [32m546289731219099648[0;39m <==    Columns: id, login_name, name, password
2025-02-16 19:20:21.571 TRACE c.juege.tech_doc.mapper.UserMapper.selectByExample:143  [32m546289731219099648[0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-02-16 19:20:21.571 DEBUG c.juege.tech_doc.mapper.UserMapper.selectByExample:137  [32m546289731219099648[0;39m <==      Total: 1
2025-02-16 19:20:21.588 INFO  com.juege.tech_doc.controller.UserController      :77   [32m546289731219099648[0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š546289731609169920ï¼Œå¹¶æ”¾å…¥redisä¸­
2025-02-16 19:20:21.853 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546289731219099648[0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"test","token":"546289731609169920"},"success":true}
2025-02-16 19:20:21.866 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546289731219099648[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š371 ms -------------
2025-02-16 19:20:25.681 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:20:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:20:31.022 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:20:35.015 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546289787926089728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:20:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289787926089728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:20:35.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289787926089728[0;39m ==> Parameters: 
2025-02-16 19:20:35.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289787926089728[0;39m <==    Updates: 2
2025-02-16 19:20:35.046 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546289787926089728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:20:39.231 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546269082245271554[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š9CHDsGU91qï¼Œsession idï¼š6ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 19:20:46.599 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m546269428535398401[0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š0pMMXlspCWï¼Œsession idï¼š8ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 19:20:46.732 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546289837070749696[0;39m ------------- å¼€å§‹ -------------
2025-02-16 19:20:46.732 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546289837070749698[0;39m ------------- å¼€å§‹ -------------
2025-02-16 19:20:46.732 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546289837070749697[0;39m ------------- å¼€å§‹ -------------
2025-02-16 19:20:46.732 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546289837070749696[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 19:20:46.732 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546289837070749697[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 19:20:46.732 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546289837070749698[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546289837070749696[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546289837070749697[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546289837070749698[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546289837070749696[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546289837070749697[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546289837070749696[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546289837070749698[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546289837070749697[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 19:20:46.733 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546289837070749698[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 19:20:46.745 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546289837070749697[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 19:20:46.745 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546289837070749697[0;39m ==> Parameters: 
2025-02-16 19:20:46.759 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546289837070749697[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 19:20:46.759 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546289837070749697[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 19:20:46.761 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546289837070749697[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 19:20:46.761 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546289837070749697[0;39m <==      Total: 2
2025-02-16 19:20:46.762 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546289837070749697[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 19:20:46.762 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546289837070749697[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š30 ms -------------
2025-02-16 19:20:51.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:20:52.748 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546289837070749698[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@1ad2c9e9 (Communications link failure

The last packet successfully received from the server was 6,316,133 milliseconds ago. The last packet sent successfully to the server was 6,316,140 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 19:20:52.748 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546289837070749696[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3570f8f1 (Communications link failure

The last packet successfully received from the server was 6,316,235 milliseconds ago. The last packet sent successfully to the server was 6,316,243 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 19:20:52.750 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546289837070749698[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at jdk.internal.reflect.GeneratedMethodAccessor172.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 6,316,133 milliseconds ago. The last packet sent successfully to the server was 6,316,140 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 104 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 6,316,133 milliseconds ago. The last packet sent successfully to the server was 6,316,140 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 107 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 113 common frames omitted
2025-02-16 19:20:52.763 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546289837070749698[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.]
2025-02-16 19:20:52.750 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546289837070749696[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.get30Statistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at jdk.internal.reflect.GeneratedMethodAccessor172.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 6,316,133 milliseconds ago. The last packet sent successfully to the server was 6,316,140 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at jdk.internal.reflect.GeneratedMethodAccessor172.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	... 50 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 6,316,133 milliseconds ago. The last packet sent successfully to the server was 6,316,140 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 107 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 113 common frames omitted
2025-02-16 19:20:52.774 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546289837070749696[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6015ms.]
2025-02-16 19:20:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:20:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:21:00.004 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546289892737552384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:21:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289892737552384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:21:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289892737552384[0;39m ==> Parameters: 
2025-02-16 19:21:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546289892737552384[0;39m <==    Updates: 0
2025-02-16 19:21:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546289892737552384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:21:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546289913700683776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:21:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289913700683776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:21:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289913700683776[0;39m ==> Parameters: 
2025-02-16 19:21:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546289913700683776[0;39m <==    Updates: 2
2025-02-16 19:21:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546289913700683776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:21:11.050 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:21:22.317 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546269428535398401[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š0pMMXlspCWï¼Œsession idï¼š8ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 19:21:23.047 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m546267647264821249[0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š3vP3xSNrWrï¼Œsession idï¼š9ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546289989630169088[0;39m ------------- å¼€å§‹ -------------
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546289989630169089[0;39m ------------- å¼€å§‹ -------------
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546289989630169090[0;39m ------------- å¼€å§‹ -------------
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546289989630169088[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546289989630169089[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546289989630169090[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546289989630169088[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546289989630169089[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546289989630169090[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546289989630169089[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546289989630169088[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546289989630169090[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546289989630169089[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 19:21:23.105 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546289989630169088[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 19:21:23.106 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546289989630169090[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 19:21:23.118 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546289989630169089[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 19:21:23.118 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546289989630169089[0;39m ==> Parameters: 
2025-02-16 19:21:23.134 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546289989630169089[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 19:21:23.134 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546289989630169089[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 19:21:23.134 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546289989630169089[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 19:21:23.135 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546289989630169089[0;39m <==      Total: 2
2025-02-16 19:21:23.135 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546289989630169089[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 19:21:23.135 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546289989630169089[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š30 ms -------------
2025-02-16 19:21:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:21:25.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:21:29.115 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546289989630169088[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@28e3d91d (Communications link failure

The last packet successfully received from the server was 6,352,404 milliseconds ago. The last packet sent successfully to the server was 6,352,411 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 19:21:29.131 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546289989630169090[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3f9c16e7 (Communications link failure

The last packet successfully received from the server was 6,352,327 milliseconds ago. The last packet sent successfully to the server was 6,352,334 milliseconds ago.). Possibly consider using a shorter maxLifetime value.
2025-02-16 19:21:29.117 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546289989630169088[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6009ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6009ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy157.get30Statistic(Unknown Source)
	at com.juege.tech_doc.service.EbookSnapshotService.get30Statistic(EbookSnapshotService.java:31)
	at com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic(EbookSnapshotController.java:30)
	at com.juege.tech_doc.controller.EbookSnapshotController$$FastClassBySpringCGLIB$$66398678.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at jdk.internal.reflect.GeneratedMethodAccessor172.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.EbookSnapshotController$$EnhancerBySpringCGLIB$$dcada871.get30Statistic(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6009ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6009ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6009ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6009ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 6,352,404 milliseconds ago. The last packet sent successfully to the server was 6,352,411 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 104 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 6,352,404 milliseconds ago. The last packet sent successfully to the server was 6,352,411 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 107 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 113 common frames omitted
2025-02-16 19:21:29.136 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546289989630169088[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6009ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\EbookSnapshotMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.EbookSnapshotMapperCust.get30Statistic
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6009ms.]
2025-02-16 19:21:29.132 ERROR c.j.tech_doc.controller.ControllerExceptionHandler:59   [32m546289989630169090[0;39m ç³»ç»Ÿå¼‚å¸¸ï¼š
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6025ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6025ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy6/jdk.proxy6.$Proxy150.selectByExample(Unknown Source)
	at com.juege.tech_doc.service.CategoryService.all(CategoryService.java:36)
	at com.juege.tech_doc.controller.CategoryController.all(CategoryController.java:25)
	at com.juege.tech_doc.controller.CategoryController$$FastClassBySpringCGLIB$$b31bb870.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.juege.tech_doc.aspect.LogAspect.doAround(LogAspect.java:84)
	at jdk.internal.reflect.GeneratedMethodAccessor172.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at com.juege.tech_doc.controller.CategoryController$$EnhancerBySpringCGLIB$$a4673959.all(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6025ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6025ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:149)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at jdk.internal.reflect.GeneratedMethodAccessor171.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 82 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6025ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:325)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy132.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	... 87 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6025ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 99 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 6,352,327 milliseconds ago. The last packet sent successfully to the server was 6,352,334 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:764)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:169)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 104 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 6,352,327 milliseconds ago. The last packet sent successfully to the server was 6,352,334 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:544)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:708)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:647)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:946)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:892)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:1073)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:724)
	... 107 common frames omitted
Caused by: java.net.SocketTimeoutException: Read timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)
	at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
	at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
	at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
	at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)
	at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)
	at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1460)
	at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1064)
	at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:64)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:538)
	... 113 common frames omitted
2025-02-16 19:21:29.147 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver   :207  [32m546289989630169090[0;39m Resolved [org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6025ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\CategoryMapper.xml]
### The error may involve com.juege.tech_doc.mapper.CategoryMapper.selectByExample
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 6025ms.]
2025-02-16 19:21:31.061 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:21:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546290039529803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:21:35.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290039529803776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:21:35.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290039529803776[0;39m ==> Parameters: 
2025-02-16 19:21:35.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290039529803776[0;39m <==    Updates: 2
2025-02-16 19:21:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546290039529803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š39æ¯«ç§’
2025-02-16 19:21:51.075 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:21:55.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:21:55.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:22:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546290144379015168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:22:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290144379015168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:22:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290144379015168[0;39m ==> Parameters: 
2025-02-16 19:22:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290144379015168[0;39m <==    Updates: 0
2025-02-16 19:22:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546290144379015168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š37æ¯«ç§’
2025-02-16 19:22:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546290165354729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:22:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290165354729472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:22:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290165354729472[0;39m ==> Parameters: 
2025-02-16 19:22:05.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290165354729472[0;39m <==    Updates: 2
2025-02-16 19:22:05.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546290165354729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:22:11.095 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:22:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:22:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:22:31.105 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:22:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546290291188043776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:22:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290291188043776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:22:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290291188043776[0;39m ==> Parameters: 
2025-02-16 19:22:35.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290291188043776[0;39m <==    Updates: 2
2025-02-16 19:22:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546290291188043776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:22:51.129 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:22:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:22:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:23:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546290396041449472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:23:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290396041449472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:23:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290396041449472[0;39m ==> Parameters: 
2025-02-16 19:23:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290396041449472[0;39m <==    Updates: 0
2025-02-16 19:23:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546290396041449472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:23:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546290417017163776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:23:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290417017163776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:23:05.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290417017163776[0;39m ==> Parameters: 
2025-02-16 19:23:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290417017163776[0;39m <==    Updates: 2
2025-02-16 19:23:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546290417017163776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:23:11.139 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:23:25.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:23:25.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:23:31.159 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:23:35.007 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546290542867255296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:23:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290542867255296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:23:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290542867255296[0;39m ==> Parameters: 
2025-02-16 19:23:35.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290542867255296[0;39m <==    Updates: 2
2025-02-16 19:23:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546290542867255296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:23:51.176 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:23:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:23:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:24:00.006 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546290647720660992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:24:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290647720660992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:24:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290647720660992[0;39m ==> Parameters: 
2025-02-16 19:24:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290647720660992[0;39m <==    Updates: 0
2025-02-16 19:24:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546290647720660992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:24:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546290668675403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:24:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290668675403776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:24:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290668675403776[0;39m ==> Parameters: 
2025-02-16 19:24:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290668675403776[0;39m <==    Updates: 2
2025-02-16 19:24:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546290668675403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:24:11.188 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:24:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:24:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:24:31.200 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:24:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546290794504523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:24:35.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290794504523776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:24:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290794504523776[0;39m ==> Parameters: 
2025-02-16 19:24:35.056 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290794504523776[0;39m <==    Updates: 2
2025-02-16 19:24:35.056 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546290794504523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š54æ¯«ç§’
2025-02-16 19:24:51.219 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:24:55.695 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:24:55.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:25:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546290899357929472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:25:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290899357929472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:25:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290899357929472[0;39m ==> Parameters: 
2025-02-16 19:25:00.034 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546290899357929472[0;39m <==    Updates: 0
2025-02-16 19:25:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546290899357929472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:25:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546290920329449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:25:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290920329449472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:25:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290920329449472[0;39m ==> Parameters: 
2025-02-16 19:25:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546290920329449472[0;39m <==    Updates: 2
2025-02-16 19:25:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546290920329449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:25:11.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:25:25.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:25:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:25:31.253 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:25:35.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546291046208901120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:25:35.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291046208901120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:25:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291046208901120[0;39m ==> Parameters: 
2025-02-16 19:25:35.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291046208901120[0;39m <==    Updates: 2
2025-02-16 19:25:35.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546291046208901120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:25:51.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:25:55.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:25:55.713 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:26:00.009 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546291151049723904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:26:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291151049723904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:26:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291151049723904[0;39m ==> Parameters: 
2025-02-16 19:26:00.034 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291151049723904[0;39m <==    Updates: 0
2025-02-16 19:26:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546291151049723904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:26:05.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546291172033826816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:26:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291172033826816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:26:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291172033826816[0;39m ==> Parameters: 
2025-02-16 19:26:05.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291172033826816[0;39m <==    Updates: 2
2025-02-16 19:26:05.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546291172033826816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:26:11.284 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:26:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:26:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:26:31.319 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:26:35.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546291297862946816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:26:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291297862946816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:26:35.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291297862946816[0;39m ==> Parameters: 
2025-02-16 19:26:35.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291297862946816[0;39m <==    Updates: 2
2025-02-16 19:26:35.045 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546291297862946816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:26:51.336 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:26:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:26:55.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:27:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546291402674409472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:27:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291402674409472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:27:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291402674409472[0;39m ==> Parameters: 
2025-02-16 19:27:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291402674409472[0;39m <==    Updates: 0
2025-02-16 19:27:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546291402674409472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:27:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546291423650123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:27:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291423650123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:27:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291423650123776[0;39m ==> Parameters: 
2025-02-16 19:27:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291423650123776[0;39m <==    Updates: 2
2025-02-16 19:27:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546291423650123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:27:11.350 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:27:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:27:25.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:27:31.363 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:27:35.004 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546291549487632384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:27:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291549487632384[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:27:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291549487632384[0;39m ==> Parameters: 
2025-02-16 19:27:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291549487632384[0;39m <==    Updates: 2
2025-02-16 19:27:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546291549487632384[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:27:51.375 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:27:55.689 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:27:55.704 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:28:00.005 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546291654349426688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:28:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291654349426688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:28:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291654349426688[0;39m ==> Parameters: 
2025-02-16 19:28:00.038 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291654349426688[0;39m <==    Updates: 0
2025-02-16 19:28:00.038 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546291654349426688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:28:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546291675304169472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:28:05.007 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291675304169472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:28:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291675304169472[0;39m ==> Parameters: 
2025-02-16 19:28:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291675304169472[0;39m <==    Updates: 2
2025-02-16 19:28:05.023 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546291675304169472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2025-02-16 19:28:11.394 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:28:25.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:28:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:28:31.404 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:28:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546291801137483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:28:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291801137483776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:28:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291801137483776[0;39m ==> Parameters: 
2025-02-16 19:28:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291801137483776[0;39m <==    Updates: 2
2025-02-16 19:28:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546291801137483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:28:51.417 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:28:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:28:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:29:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546291905990889472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:29:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291905990889472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:29:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291905990889472[0;39m ==> Parameters: 
2025-02-16 19:29:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546291905990889472[0;39m <==    Updates: 0
2025-02-16 19:29:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546291905990889472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:29:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546291926962409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:29:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291926962409472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:29:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291926962409472[0;39m ==> Parameters: 
2025-02-16 19:29:05.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546291926962409472[0;39m <==    Updates: 2
2025-02-16 19:29:05.045 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546291926962409472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š44æ¯«ç§’
2025-02-16 19:29:11.457 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:29:25.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:29:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:29:31.472 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:29:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546292052791529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:29:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292052791529472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:29:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292052791529472[0;39m ==> Parameters: 
2025-02-16 19:29:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292052791529472[0;39m <==    Updates: 2
2025-02-16 19:29:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546292052791529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:29:51.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:29:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:29:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:30:00.005 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546292157665906688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:30:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292157665906688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:30:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292157665906688[0;39m ==> Parameters: 
2025-02-16 19:30:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292157665906688[0;39m <==    Updates: 0
2025-02-16 19:30:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546292157665906688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 19:30:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546292178620649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:30:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292178620649472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:30:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292178620649472[0;39m ==> Parameters: 
2025-02-16 19:30:05.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292178620649472[0;39m <==    Updates: 2
2025-02-16 19:30:05.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546292178620649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š40æ¯«ç§’
2025-02-16 19:30:11.494 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:30:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:30:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:30:31.517 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:30:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546292304449769472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:30:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292304449769472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:30:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292304449769472[0;39m ==> Parameters: 
2025-02-16 19:30:35.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292304449769472[0;39m <==    Updates: 2
2025-02-16 19:30:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546292304449769472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:30:51.536 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:30:55.694 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:30:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:31:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546292409307369472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:31:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292409307369472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:31:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292409307369472[0;39m ==> Parameters: 
2025-02-16 19:31:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292409307369472[0;39m <==    Updates: 0
2025-02-16 19:31:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546292409307369472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:31:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546292430287278080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:31:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292430287278080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:31:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292430287278080[0;39m ==> Parameters: 
2025-02-16 19:31:05.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292430287278080[0;39m <==    Updates: 2
2025-02-16 19:31:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546292430287278080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:31:11.545 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:31:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:31:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:31:31.555 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:31:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546292556112203776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:31:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292556112203776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:31:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292556112203776[0;39m ==> Parameters: 
2025-02-16 19:31:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292556112203776[0;39m <==    Updates: 2
2025-02-16 19:31:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546292556112203776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:31:51.568 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:31:55.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:31:55.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:32:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546292660969803776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:32:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292660969803776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:32:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292660969803776[0;39m ==> Parameters: 
2025-02-16 19:32:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292660969803776[0;39m <==    Updates: 0
2025-02-16 19:32:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546292660969803776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:32:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546292681941323776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:32:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292681941323776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:32:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292681941323776[0;39m ==> Parameters: 
2025-02-16 19:32:05.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292681941323776[0;39m <==    Updates: 2
2025-02-16 19:32:05.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546292681941323776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š38æ¯«ç§’
2025-02-16 19:32:11.578 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:32:25.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:32:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:32:31.586 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:32:35.016 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546292807829164032[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:32:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292807829164032[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:32:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292807829164032[0;39m ==> Parameters: 
2025-02-16 19:32:35.049 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292807829164032[0;39m <==    Updates: 2
2025-02-16 19:32:35.049 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546292807829164032[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:32:51.622 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:32:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:32:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:33:00.010 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546292912661598208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:33:00.027 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292912661598208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:33:00.027 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292912661598208[0;39m ==> Parameters: 
2025-02-16 19:33:00.045 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546292912661598208[0;39m <==    Updates: 0
2025-02-16 19:33:00.045 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546292912661598208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:33:05.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546292933645701120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:33:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292933645701120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:33:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292933645701120[0;39m ==> Parameters: 
2025-02-16 19:33:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546292933645701120[0;39m <==    Updates: 2
2025-02-16 19:33:05.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546292933645701120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 19:33:11.645 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:33:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:33:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:33:31.664 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:33:35.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546293059432878080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:33:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293059432878080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:33:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293059432878080[0;39m ==> Parameters: 
2025-02-16 19:33:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293059432878080[0;39m <==    Updates: 2
2025-02-16 19:33:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546293059432878080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:33:51.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:33:55.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:33:55.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:34:00.005 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546293164298866688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:34:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293164298866688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:34:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293164298866688[0;39m ==> Parameters: 
2025-02-16 19:34:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293164298866688[0;39m <==    Updates: 0
2025-02-16 19:34:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546293164298866688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:34:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546293185253609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:34:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293185253609472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:34:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293185253609472[0;39m ==> Parameters: 
2025-02-16 19:34:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293185253609472[0;39m <==    Updates: 2
2025-02-16 19:34:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546293185253609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:34:11.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:34:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:34:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:34:31.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:34:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546293311086923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:34:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293311086923776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:34:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293311086923776[0;39m ==> Parameters: 
2025-02-16 19:34:35.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293311086923776[0;39m <==    Updates: 2
2025-02-16 19:34:35.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546293311086923776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š38æ¯«ç§’
2025-02-16 19:34:51.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:34:55.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:34:55.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:35:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546293415944523776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:35:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293415944523776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:35:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293415944523776[0;39m ==> Parameters: 
2025-02-16 19:35:00.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293415944523776[0;39m <==    Updates: 0
2025-02-16 19:35:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546293415944523776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:35:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546293436911849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:35:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293436911849472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:35:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293436911849472[0;39m ==> Parameters: 
2025-02-16 19:35:05.252 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293436911849472[0;39m <==    Updates: 2
2025-02-16 19:35:05.253 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546293436911849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š252æ¯«ç§’
2025-02-16 19:35:11.763 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:35:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:35:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:35:32.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:35:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546293562745163776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:35:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293562745163776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:35:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293562745163776[0;39m ==> Parameters: 
2025-02-16 19:35:35.253 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293562745163776[0;39m <==    Updates: 2
2025-02-16 19:35:35.253 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546293562745163776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š251æ¯«ç§’
2025-02-16 19:35:52.271 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:35:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:35:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:36:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546293667602763776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:36:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293667602763776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:36:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293667602763776[0;39m ==> Parameters: 
2025-02-16 19:36:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293667602763776[0;39m <==    Updates: 0
2025-02-16 19:36:00.026 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546293667602763776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:36:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546293688574283776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:36:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293688574283776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:36:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293688574283776[0;39m ==> Parameters: 
2025-02-16 19:36:05.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293688574283776[0;39m <==    Updates: 2
2025-02-16 19:36:05.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546293688574283776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 19:36:12.290 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:36:25.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:36:25.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:36:32.541 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:36:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546293814399209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:36:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293814399209472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:36:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293814399209472[0;39m ==> Parameters: 
2025-02-16 19:36:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293814399209472[0;39m <==    Updates: 2
2025-02-16 19:36:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546293814399209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:36:52.566 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:36:55.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:36:55.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:37:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546293919261003776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:37:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293919261003776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:37:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293919261003776[0;39m ==> Parameters: 
2025-02-16 19:37:00.034 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546293919261003776[0;39m <==    Updates: 0
2025-02-16 19:37:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546293919261003776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:37:05.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546293940274466816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:37:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293940274466816[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:37:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293940274466816[0;39m ==> Parameters: 
2025-02-16 19:37:05.046 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546293940274466816[0;39m <==    Updates: 2
2025-02-16 19:37:05.047 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546293940274466816[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:37:12.575 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:37:25.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:37:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:37:32.593 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:37:35.006 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546294066078420992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:37:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294066078420992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:37:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294066078420992[0;39m ==> Parameters: 
2025-02-16 19:37:35.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294066078420992[0;39m <==    Updates: 2
2025-02-16 19:37:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546294066078420992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:37:52.605 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:37:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:37:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:38:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546294170915049472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:38:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294170915049472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:38:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294170915049472[0;39m ==> Parameters: 
2025-02-16 19:38:00.043 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294170915049472[0;39m <==    Updates: 0
2025-02-16 19:38:00.044 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546294170915049472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š43æ¯«ç§’
2025-02-16 19:38:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546294191890763776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:38:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294191890763776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:38:05.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294191890763776[0;39m ==> Parameters: 
2025-02-16 19:38:05.057 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294191890763776[0;39m <==    Updates: 2
2025-02-16 19:38:05.057 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546294191890763776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š55æ¯«ç§’
2025-02-16 19:38:12.626 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:38:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:38:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:38:32.638 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:38:35.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546294317757632512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:38:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294317757632512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:38:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294317757632512[0;39m ==> Parameters: 
2025-02-16 19:38:35.046 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294317757632512[0;39m <==    Updates: 2
2025-02-16 19:38:35.046 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546294317757632512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:38:52.661 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:38:55.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:38:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:39:00.013 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546294422623621120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:39:00.024 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294422623621120[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:39:00.024 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294422623621120[0;39m ==> Parameters: 
2025-02-16 19:39:00.042 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294422623621120[0;39m <==    Updates: 0
2025-02-16 19:39:00.042 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546294422623621120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:39:05.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546294443561586688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:39:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294443561586688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:39:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294443561586688[0;39m ==> Parameters: 
2025-02-16 19:39:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294443561586688[0;39m <==    Updates: 2
2025-02-16 19:39:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546294443561586688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2025-02-16 19:39:12.674 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:39:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:39:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:39:32.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:39:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546294569378123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:39:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294569378123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:39:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294569378123776[0;39m ==> Parameters: 
2025-02-16 19:39:35.038 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294569378123776[0;39m <==    Updates: 2
2025-02-16 19:39:35.039 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546294569378123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š37æ¯«ç§’
2025-02-16 19:39:52.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:39:55.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:39:55.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:40:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546294674235723776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:40:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294674235723776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:40:00.020 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294674235723776[0;39m ==> Parameters: 
2025-02-16 19:40:00.039 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294674235723776[0;39m <==    Updates: 0
2025-02-16 19:40:00.039 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546294674235723776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š37æ¯«ç§’
2025-02-16 19:40:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546294695203049472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:40:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294695203049472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:40:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294695203049472[0;39m ==> Parameters: 
2025-02-16 19:40:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294695203049472[0;39m <==    Updates: 2
2025-02-16 19:40:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546294695203049472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:40:12.719 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:40:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:40:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:40:32.731 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:40:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546294821036363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:40:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294821036363776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:40:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294821036363776[0;39m ==> Parameters: 
2025-02-16 19:40:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294821036363776[0;39m <==    Updates: 2
2025-02-16 19:40:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546294821036363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:40:52.744 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:40:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:40:55.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:41:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546294925893963776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:41:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294925893963776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:41:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294925893963776[0;39m ==> Parameters: 
2025-02-16 19:41:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546294925893963776[0;39m <==    Updates: 0
2025-02-16 19:41:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546294925893963776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:41:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546294946865483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:41:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294946865483776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:41:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294946865483776[0;39m ==> Parameters: 
2025-02-16 19:41:05.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546294946865483776[0;39m <==    Updates: 2
2025-02-16 19:41:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546294946865483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 19:41:12.755 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:41:25.684 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:41:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:41:32.780 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:41:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546295072694603776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:41:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295072694603776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:41:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295072694603776[0;39m ==> Parameters: 
2025-02-16 19:41:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295072694603776[0;39m <==    Updates: 2
2025-02-16 19:41:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546295072694603776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:41:52.791 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:41:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:41:55.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:42:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546295177552203776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:42:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295177552203776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:42:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295177552203776[0;39m ==> Parameters: 
2025-02-16 19:42:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295177552203776[0;39m <==    Updates: 0
2025-02-16 19:42:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546295177552203776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:42:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546295198523723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:42:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295198523723776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:42:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295198523723776[0;39m ==> Parameters: 
2025-02-16 19:42:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295198523723776[0;39m <==    Updates: 2
2025-02-16 19:42:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546295198523723776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:42:12.802 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:42:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:42:25.700 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:42:32.814 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:42:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546295324352843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:42:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295324352843776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:42:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295324352843776[0;39m ==> Parameters: 
2025-02-16 19:42:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295324352843776[0;39m <==    Updates: 2
2025-02-16 19:42:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546295324352843776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:42:52.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:42:55.685 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:42:55.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:43:00.013 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546295429256581120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:43:00.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295429256581120[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:43:00.024 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295429256581120[0;39m ==> Parameters: 
2025-02-16 19:43:00.048 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295429256581120[0;39m <==    Updates: 0
2025-02-16 19:43:00.049 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546295429256581120[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 19:43:05.015 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546295450236489728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:43:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295450236489728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:43:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295450236489728[0;39m ==> Parameters: 
2025-02-16 19:43:05.048 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295450236489728[0;39m <==    Updates: 2
2025-02-16 19:43:05.049 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546295450236489728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 19:43:12.848 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:43:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:43:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:43:32.862 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:43:35.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546295576023666688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:43:35.016 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295576023666688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:43:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295576023666688[0;39m ==> Parameters: 
2025-02-16 19:43:35.038 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295576023666688[0;39m <==    Updates: 2
2025-02-16 19:43:35.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546295576023666688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:43:52.873 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:43:55.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:43:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:44:00.007 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546295680889655296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:44:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295680889655296[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:44:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295680889655296[0;39m ==> Parameters: 
2025-02-16 19:44:00.262 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295680889655296[0;39m <==    Updates: 0
2025-02-16 19:44:00.262 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546295680889655296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š255æ¯«ç§’
2025-02-16 19:44:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546295701844398080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:44:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295701844398080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:44:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295701844398080[0;39m ==> Parameters: 
2025-02-16 19:44:05.254 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295701844398080[0;39m <==    Updates: 2
2025-02-16 19:44:05.254 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546295701844398080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š251æ¯«ç§’
2025-02-16 19:44:12.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:44:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:44:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:44:32.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:44:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546295827665129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:44:35.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295827665129472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:44:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295827665129472[0;39m ==> Parameters: 
2025-02-16 19:44:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295827665129472[0;39m <==    Updates: 2
2025-02-16 19:44:35.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546295827665129472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 19:44:52.937 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:44:55.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:44:55.708 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:45:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546295932522729472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:45:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295932522729472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:45:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295932522729472[0;39m ==> Parameters: 
2025-02-16 19:45:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546295932522729472[0;39m <==    Updates: 0
2025-02-16 19:45:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546295932522729472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:45:05.015 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546295953552969728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:45:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295953552969728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:45:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295953552969728[0;39m ==> Parameters: 
2025-02-16 19:45:05.037 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546295953552969728[0;39m <==    Updates: 2
2025-02-16 19:45:05.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546295953552969728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2025-02-16 19:45:12.949 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:45:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:45:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:45:32.958 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:45:35.013 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546296079373701120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:45:35.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296079373701120[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:45:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296079373701120[0;39m ==> Parameters: 
2025-02-16 19:45:35.058 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296079373701120[0;39m <==    Updates: 2
2025-02-16 19:45:35.058 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546296079373701120[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š45æ¯«ç§’
2025-02-16 19:45:52.969 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:45:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:45:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:46:00.009 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546296184214523904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:46:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296184214523904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:46:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296184214523904[0;39m ==> Parameters: 
2025-02-16 19:46:00.041 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296184214523904[0;39m <==    Updates: 0
2025-02-16 19:46:00.041 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546296184214523904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:46:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546296205152489472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:46:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296205152489472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:46:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296205152489472[0;39m ==> Parameters: 
2025-02-16 19:46:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296205152489472[0;39m <==    Updates: 2
2025-02-16 19:46:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546296205152489472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:46:12.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:46:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:46:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:46:32.995 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:46:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546296330981609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:46:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296330981609472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:46:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296330981609472[0;39m ==> Parameters: 
2025-02-16 19:46:35.054 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296330981609472[0;39m <==    Updates: 2
2025-02-16 19:46:35.054 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546296330981609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š53æ¯«ç§’
2025-02-16 19:46:53.010 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:46:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:46:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:47:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546296435839209472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:47:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296435839209472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:47:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296435839209472[0;39m ==> Parameters: 
2025-02-16 19:47:00.037 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296435839209472[0;39m <==    Updates: 0
2025-02-16 19:47:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546296435839209472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 19:47:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546296456810729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:47:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296456810729472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:47:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296456810729472[0;39m ==> Parameters: 
2025-02-16 19:47:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296456810729472[0;39m <==    Updates: 2
2025-02-16 19:47:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546296456810729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:47:13.038 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:47:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:47:25.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:47:33.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:47:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546296582639849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:47:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296582639849472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:47:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296582639849472[0;39m ==> Parameters: 
2025-02-16 19:47:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296582639849472[0;39m <==    Updates: 2
2025-02-16 19:47:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546296582639849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:47:53.082 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:47:55.677 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:47:55.707 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:48:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546296687501643776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:48:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296687501643776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:48:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296687501643776[0;39m ==> Parameters: 
2025-02-16 19:48:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296687501643776[0;39m <==    Updates: 0
2025-02-16 19:48:00.026 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546296687501643776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:48:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546296708468969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:48:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296708468969472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:48:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296708468969472[0;39m ==> Parameters: 
2025-02-16 19:48:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296708468969472[0;39m <==    Updates: 2
2025-02-16 19:48:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546296708468969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:48:13.092 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:48:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:48:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:48:33.101 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:48:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546296834302283776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:48:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296834302283776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:48:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296834302283776[0;39m ==> Parameters: 
2025-02-16 19:48:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296834302283776[0;39m <==    Updates: 2
2025-02-16 19:48:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546296834302283776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:48:53.114 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:48:55.679 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:48:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:49:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546296939159883776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:49:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296939159883776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:49:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296939159883776[0;39m ==> Parameters: 
2025-02-16 19:49:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546296939159883776[0;39m <==    Updates: 0
2025-02-16 19:49:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546296939159883776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:49:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546296960131403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:49:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296960131403776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:49:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296960131403776[0;39m ==> Parameters: 
2025-02-16 19:49:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546296960131403776[0;39m <==    Updates: 2
2025-02-16 19:49:05.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546296960131403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 19:49:13.124 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:49:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:49:25.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:49:33.153 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:49:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546297085960523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:49:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297085960523776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:49:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297085960523776[0;39m ==> Parameters: 
2025-02-16 19:49:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297085960523776[0;39m <==    Updates: 2
2025-02-16 19:49:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546297085960523776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:49:53.170 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:49:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:49:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:50:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546297190818123776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:50:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297190818123776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:50:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297190818123776[0;39m ==> Parameters: 
2025-02-16 19:50:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297190818123776[0;39m <==    Updates: 0
2025-02-16 19:50:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546297190818123776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:50:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546297211789643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:50:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297211789643776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:50:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297211789643776[0;39m ==> Parameters: 
2025-02-16 19:50:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297211789643776[0;39m <==    Updates: 2
2025-02-16 19:50:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546297211789643776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 19:50:13.182 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:50:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:50:25.710 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:50:33.192 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:50:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546297337614569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:50:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297337614569472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:50:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297337614569472[0;39m ==> Parameters: 
2025-02-16 19:50:35.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297337614569472[0;39m <==    Updates: 2
2025-02-16 19:50:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546297337614569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:50:53.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:50:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:50:55.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:51:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546297442467975168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:51:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297442467975168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:51:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297442467975168[0;39m ==> Parameters: 
2025-02-16 19:51:00.058 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297442467975168[0;39m <==    Updates: 0
2025-02-16 19:51:00.059 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546297442467975168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š59æ¯«ç§’
2025-02-16 19:51:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546297463439495168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:51:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297463439495168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:51:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297463439495168[0;39m ==> Parameters: 
2025-02-16 19:51:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297463439495168[0;39m <==    Updates: 2
2025-02-16 19:51:05.024 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546297463439495168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:51:13.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:51:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:51:25.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:51:33.242 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:51:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546297589272809472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:51:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297589272809472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:51:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297589272809472[0;39m ==> Parameters: 
2025-02-16 19:51:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297589272809472[0;39m <==    Updates: 2
2025-02-16 19:51:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546297589272809472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 19:51:53.256 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:51:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:51:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:52:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546297694130409472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:52:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297694130409472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:52:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297694130409472[0;39m ==> Parameters: 
2025-02-16 19:52:00.029 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297694130409472[0;39m <==    Updates: 0
2025-02-16 19:52:00.030 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546297694130409472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:52:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546297715106123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:52:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297715106123776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:52:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297715106123776[0;39m ==> Parameters: 
2025-02-16 19:52:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297715106123776[0;39m <==    Updates: 2
2025-02-16 19:52:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546297715106123776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 19:52:13.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:52:25.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:52:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:52:33.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:52:35.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546297840926855168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:52:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297840926855168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:52:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297840926855168[0;39m ==> Parameters: 
2025-02-16 19:52:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297840926855168[0;39m <==    Updates: 2
2025-02-16 19:52:35.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546297840926855168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 19:52:53.294 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:52:55.672 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:52:55.702 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:53:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546297945792843776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:53:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297945792843776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:53:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297945792843776[0;39m ==> Parameters: 
2025-02-16 19:53:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546297945792843776[0;39m <==    Updates: 0
2025-02-16 19:53:00.031 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546297945792843776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:53:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546297966764363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:53:05.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297966764363776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:53:05.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297966764363776[0;39m ==> Parameters: 
2025-02-16 19:53:05.043 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546297966764363776[0;39m <==    Updates: 2
2025-02-16 19:53:05.043 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546297966764363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š41æ¯«ç§’
2025-02-16 19:53:13.305 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:53:25.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:53:25.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:53:33.318 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:53:35.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546298092606066688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:53:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298092606066688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:53:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298092606066688[0;39m ==> Parameters: 
2025-02-16 19:53:35.060 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298092606066688[0;39m <==    Updates: 2
2025-02-16 19:53:35.060 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546298092606066688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:53:53.331 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:53:55.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:53:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:54:00.007 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546298197472055296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:54:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298197472055296[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:54:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298197472055296[0;39m ==> Parameters: 
2025-02-16 19:54:00.041 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298197472055296[0;39m <==    Updates: 0
2025-02-16 19:54:00.041 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546298197472055296[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 19:54:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546298218422603776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:54:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298218422603776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:54:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298218422603776[0;39m ==> Parameters: 
2025-02-16 19:54:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298218422603776[0;39m <==    Updates: 2
2025-02-16 19:54:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546298218422603776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 19:54:13.345 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:54:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:54:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:54:33.356 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:54:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546298344247529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:54:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298344247529472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:54:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298344247529472[0;39m ==> Parameters: 
2025-02-16 19:54:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298344247529472[0;39m <==    Updates: 2
2025-02-16 19:54:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546298344247529472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 19:54:53.373 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:54:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:54:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:55:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546298449100935168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:55:00.008 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298449100935168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:55:00.008 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298449100935168[0;39m ==> Parameters: 
2025-02-16 19:55:00.024 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298449100935168[0;39m <==    Updates: 0
2025-02-16 19:55:00.025 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546298449100935168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:55:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546298470076649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:55:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298470076649472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:55:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298470076649472[0;39m ==> Parameters: 
2025-02-16 19:55:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298470076649472[0;39m <==    Updates: 2
2025-02-16 19:55:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546298470076649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:55:13.397 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:55:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:55:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:55:33.417 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:55:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546298595909963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:55:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298595909963776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:55:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298595909963776[0;39m ==> Parameters: 
2025-02-16 19:55:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298595909963776[0;39m <==    Updates: 2
2025-02-16 19:55:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546298595909963776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:55:53.430 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:55:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:55:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:56:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546298700759175168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:56:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298700759175168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:56:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298700759175168[0;39m ==> Parameters: 
2025-02-16 19:56:00.031 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298700759175168[0;39m <==    Updates: 0
2025-02-16 19:56:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546298700759175168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:56:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546298721734889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:56:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298721734889472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:56:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298721734889472[0;39m ==> Parameters: 
2025-02-16 19:56:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298721734889472[0;39m <==    Updates: 2
2025-02-16 19:56:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546298721734889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 19:56:13.439 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:56:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:56:25.703 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:56:33.448 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:56:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546298847564009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:56:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298847564009472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:56:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298847564009472[0;39m ==> Parameters: 
2025-02-16 19:56:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298847564009472[0;39m <==    Updates: 2
2025-02-16 19:56:35.034 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546298847564009472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 19:56:53.461 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:56:55.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:56:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:57:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546298952421609472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:57:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298952421609472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:57:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298952421609472[0;39m ==> Parameters: 
2025-02-16 19:57:00.041 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546298952421609472[0;39m <==    Updates: 0
2025-02-16 19:57:00.042 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546298952421609472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š41æ¯«ç§’
2025-02-16 19:57:05.005 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546298973409906688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:57:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298973409906688[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:57:05.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298973409906688[0;39m ==> Parameters: 
2025-02-16 19:57:05.049 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546298973409906688[0;39m <==    Updates: 2
2025-02-16 19:57:05.049 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546298973409906688[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š44æ¯«ç§’
2025-02-16 19:57:13.484 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:57:25.678 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:57:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:57:33.497 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:57:35.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546299099251609600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:57:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299099251609600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:57:35.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299099251609600[0;39m ==> Parameters: 
2025-02-16 19:57:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299099251609600[0;39m <==    Updates: 2
2025-02-16 19:57:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546299099251609600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 19:57:53.510 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:57:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:57:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:58:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546299204079849472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:58:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299204079849472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:58:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299204079849472[0;39m ==> Parameters: 
2025-02-16 19:58:00.042 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299204079849472[0;39m <==    Updates: 0
2025-02-16 19:58:00.043 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546299204079849472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š42æ¯«ç§’
2025-02-16 19:58:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546299225051369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:58:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299225051369472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:58:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299225051369472[0;39m ==> Parameters: 
2025-02-16 19:58:05.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299225051369472[0;39m <==    Updates: 2
2025-02-16 19:58:05.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546299225051369472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š38æ¯«ç§’
2025-02-16 19:58:13.533 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:58:25.673 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:58:25.715 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:58:33.549 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:58:35.010 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546299350918238208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:58:35.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299350918238208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:58:35.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299350918238208[0;39m ==> Parameters: 
2025-02-16 19:58:35.055 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299350918238208[0;39m <==    Updates: 2
2025-02-16 19:58:35.056 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546299350918238208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š41æ¯«ç§’
2025-02-16 19:58:53.562 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:58:55.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:58:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:59:00.004 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546299455750672384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 19:59:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299455750672384[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 19:59:00.021 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299455750672384[0;39m ==> Parameters: 
2025-02-16 19:59:00.044 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299455750672384[0;39m <==    Updates: 0
2025-02-16 19:59:00.045 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546299455750672384[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š41æ¯«ç§’
2025-02-16 19:59:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546299476709609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:59:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299476709609472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:59:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299476709609472[0;39m ==> Parameters: 
2025-02-16 19:59:05.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299476709609472[0;39m <==    Updates: 2
2025-02-16 19:59:05.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546299476709609472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 19:59:13.572 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:59:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:59:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:59:33.582 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:59:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546299602538729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 19:59:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299602538729472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 19:59:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299602538729472[0;39m ==> Parameters: 
2025-02-16 19:59:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299602538729472[0;39m <==    Updates: 2
2025-02-16 19:59:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546299602538729472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 19:59:53.618 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 19:59:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 19:59:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:00:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546299707396329472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:00:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299707396329472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:00:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299707396329472[0;39m ==> Parameters: 
2025-02-16 20:00:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299707396329472[0;39m <==    Updates: 0
2025-02-16 20:00:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546299707396329472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š31æ¯«ç§’
2025-02-16 20:00:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546299728363655168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:00:05.007 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299728363655168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:00:05.007 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299728363655168[0;39m ==> Parameters: 
2025-02-16 20:00:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299728363655168[0;39m <==    Updates: 2
2025-02-16 20:00:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546299728363655168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 20:00:13.633 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:00:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:00:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:00:33.653 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:00:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546299854196969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:00:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299854196969472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:00:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299854196969472[0;39m ==> Parameters: 
2025-02-16 20:00:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299854196969472[0;39m <==    Updates: 2
2025-02-16 20:00:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546299854196969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 20:00:53.667 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:00:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:00:55.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:01:00.003 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546299959062958080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:01:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299959062958080[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:01:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299959062958080[0;39m ==> Parameters: 
2025-02-16 20:01:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546299959062958080[0;39m <==    Updates: 0
2025-02-16 20:01:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546299959062958080[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 20:01:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546299980026089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:01:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299980026089472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:01:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299980026089472[0;39m ==> Parameters: 
2025-02-16 20:01:05.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546299980026089472[0;39m <==    Updates: 2
2025-02-16 20:01:05.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546299980026089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 20:01:13.675 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:01:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:01:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:01:33.687 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:01:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546300105859403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:01:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300105859403776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:01:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300105859403776[0;39m ==> Parameters: 
2025-02-16 20:01:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300105859403776[0;39m <==    Updates: 2
2025-02-16 20:01:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546300105859403776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 20:01:53.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:01:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:01:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:02:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546300210712809472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:02:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300210712809472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:02:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300210712809472[0;39m ==> Parameters: 
2025-02-16 20:02:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300210712809472[0;39m <==    Updates: 0
2025-02-16 20:02:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546300210712809472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 20:02:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546300231684329472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:02:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300231684329472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:02:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300231684329472[0;39m ==> Parameters: 
2025-02-16 20:02:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300231684329472[0;39m <==    Updates: 2
2025-02-16 20:02:05.024 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546300231684329472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š22æ¯«ç§’
2025-02-16 20:02:13.709 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:02:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:02:25.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:02:33.722 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:02:35.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546300357509255168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:02:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300357509255168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:02:35.018 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300357509255168[0;39m ==> Parameters: 
2025-02-16 20:02:35.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300357509255168[0;39m <==    Updates: 2
2025-02-16 20:02:35.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546300357509255168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 20:02:53.745 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:02:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:02:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:03:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546300462375243776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:03:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300462375243776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:03:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300462375243776[0;39m ==> Parameters: 
2025-02-16 20:03:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300462375243776[0;39m <==    Updates: 0
2025-02-16 20:03:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546300462375243776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 20:03:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546300483342569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:03:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300483342569472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:03:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300483342569472[0;39m ==> Parameters: 
2025-02-16 20:03:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300483342569472[0;39m <==    Updates: 2
2025-02-16 20:03:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546300483342569472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 20:03:13.759 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:03:25.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:03:25.705 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:03:33.770 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:03:35.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546300609213632512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:03:35.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300609213632512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:03:35.022 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300609213632512[0;39m ==> Parameters: 
2025-02-16 20:03:35.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300609213632512[0;39m <==    Updates: 2
2025-02-16 20:03:35.041 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546300609213632512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 20:03:53.782 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:03:55.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:03:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:04:00.005 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546300714046066688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:04:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300714046066688[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:04:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300714046066688[0;39m ==> Parameters: 
2025-02-16 20:04:00.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300714046066688[0;39m <==    Updates: 0
2025-02-16 20:04:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546300714046066688[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 20:04:05.008 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546300735030169600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:04:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300735030169600[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:04:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300735030169600[0;39m ==> Parameters: 
2025-02-16 20:04:05.040 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300735030169600[0;39m <==    Updates: 2
2025-02-16 20:04:05.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546300735030169600[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 20:04:13.798 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:04:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:04:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:04:33.808 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:04:35.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546300860825735168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:04:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300860825735168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:04:35.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300860825735168[0;39m ==> Parameters: 
2025-02-16 20:04:35.032 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300860825735168[0;39m <==    Updates: 2
2025-02-16 20:04:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546300860825735168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 20:04:53.827 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:04:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:04:55.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:05:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546300965691723776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:05:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300965691723776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:05:00.014 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300965691723776[0;39m ==> Parameters: 
2025-02-16 20:05:00.032 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546300965691723776[0;39m <==    Updates: 0
2025-02-16 20:05:00.032 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546300965691723776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 20:05:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546300986663243776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:05:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300986663243776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:05:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300986663243776[0;39m ==> Parameters: 
2025-02-16 20:05:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546300986663243776[0;39m <==    Updates: 2
2025-02-16 20:05:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546300986663243776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 20:05:13.851 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:05:25.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:05:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:05:33.878 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:05:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546301112492363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:05:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301112492363776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:05:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301112492363776[0;39m ==> Parameters: 
2025-02-16 20:05:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301112492363776[0;39m <==    Updates: 2
2025-02-16 20:05:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546301112492363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 20:05:53.891 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:05:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:05:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:06:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546301217345769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:06:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301217345769472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:06:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301217345769472[0;39m ==> Parameters: 
2025-02-16 20:06:00.033 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301217345769472[0;39m <==    Updates: 0
2025-02-16 20:06:00.033 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546301217345769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 20:06:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546301238321483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:06:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301238321483776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:06:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301238321483776[0;39m ==> Parameters: 
2025-02-16 20:06:05.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301238321483776[0;39m <==    Updates: 2
2025-02-16 20:06:05.032 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546301238321483776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 20:06:13.903 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:06:25.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:06:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:06:33.923 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:06:35.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546301364179963904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:06:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301364179963904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:06:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301364179963904[0;39m ==> Parameters: 
2025-02-16 20:06:35.042 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301364179963904[0;39m <==    Updates: 2
2025-02-16 20:06:35.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546301364179963904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 20:06:53.947 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:06:55.670 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:06:55.697 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:07:00.006 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546301469024980992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:07:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301469024980992[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:07:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301469024980992[0;39m ==> Parameters: 
2025-02-16 20:07:00.035 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301469024980992[0;39m <==    Updates: 0
2025-02-16 20:07:00.035 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546301469024980992[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š29æ¯«ç§’
2025-02-16 20:07:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546301489983918080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:07:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301489983918080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:07:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301489983918080[0;39m ==> Parameters: 
2025-02-16 20:07:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301489983918080[0;39m <==    Updates: 2
2025-02-16 20:07:05.027 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546301489983918080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 20:07:13.956 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:07:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:07:25.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:07:33.972 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:07:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546301615804649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:07:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301615804649472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:07:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301615804649472[0;39m ==> Parameters: 
2025-02-16 20:07:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301615804649472[0;39m <==    Updates: 2
2025-02-16 20:07:35.031 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546301615804649472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 20:07:49.637 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546269082245271554[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š3vP3xSNrWrï¼Œsession idï¼š9ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 20:07:53.995 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:07:55.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:07:55.706 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:08:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546301720662249472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:08:00.008 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301720662249472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:08:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301720662249472[0;39m ==> Parameters: 
2025-02-16 20:08:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301720662249472[0;39m <==    Updates: 0
2025-02-16 20:08:00.027 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546301720662249472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 20:08:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546301741629575168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:08:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301741629575168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:08:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301741629575168[0;39m ==> Parameters: 
2025-02-16 20:08:05.028 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301741629575168[0;39m <==    Updates: 2
2025-02-16 20:08:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546301741629575168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 20:08:14.009 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:08:25.671 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:08:25.701 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:08:34.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:08:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546301867462889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:08:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301867462889472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:08:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301867462889472[0;39m ==> Parameters: 
2025-02-16 20:08:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301867462889472[0;39m <==    Updates: 2
2025-02-16 20:08:35.029 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546301867462889472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 20:08:54.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:08:55.680 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:08:55.711 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:09:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546301972324683776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:09:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301972324683776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:09:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301972324683776[0;39m ==> Parameters: 
2025-02-16 20:09:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546301972324683776[0;39m <==    Updates: 0
2025-02-16 20:09:00.027 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546301972324683776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 20:09:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546301993300398080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:09:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301993300398080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:09:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301993300398080[0;39m ==> Parameters: 
2025-02-16 20:09:05.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546301993300398080[0;39m <==    Updates: 2
2025-02-16 20:09:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546301993300398080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 20:09:14.043 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:09:25.683 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:09:25.699 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:09:34.062 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:09:35.006 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546302119142100992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:09:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546302119142100992[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:09:35.017 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546302119142100992[0;39m ==> Parameters: 
2025-02-16 20:09:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546302119142100992[0;39m <==    Updates: 2
2025-02-16 20:09:35.036 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546302119142100992[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 20:09:54.078 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:09:55.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:09:55.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:10:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546302223978729472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:10:00.010 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546302223978729472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:10:00.011 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546302223978729472[0;39m ==> Parameters: 
2025-02-16 20:10:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546302223978729472[0;39m <==    Updates: 0
2025-02-16 20:10:00.026 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546302223978729472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 20:10:00.611 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-02-16 20:17:13.579 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.2.0.Final
2025-02-16 20:17:13.594 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 20356 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 20:17:13.595 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 20:17:13.646 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-16 20:17:13.646 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-16 20:17:15.158 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 20:17:15.161 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 20:17:15.214 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
2025-02-16 20:17:15.569 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$d6f7741b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.580 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.638 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.639 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$a8c12ac9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.639 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.644 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.648 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.648 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.651 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.654 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.655 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.657 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.657 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.659 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.661 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:15.679 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:16.023 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:16.025 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:17:16.809 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 20:17:16.832 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 20:17:16.832 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 20:17:16.832 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 20:17:16.959 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 20:17:16.960 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3313 ms
2025-02-16 20:17:16.985 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:17:17.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:17:19.023 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 20:17:19.155 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 20:17:19.155 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:17:19.155 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 20:17:19.164 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 20:17:19.167 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:17:19.191 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 20:17:19.205 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 6.156 seconds (JVM running for 7.254)
2025-02-16 20:17:19.206 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 20:17:19.218 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 20:17:19.218 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 20:17:19.218 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 20:17:35.012 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546304132391243776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:17:35.037 WARN  com.zaxxer.hikari.HikariConfig                    :1084 [32m546304132391243776[0;39m HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2025-02-16 20:17:35.037 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m546304132391243776[0;39m HikariPool-1 - Starting...
2025-02-16 20:17:35.669 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m546304132391243776[0;39m HikariPool-1 - Start completed.
2025-02-16 20:17:35.679 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304132391243776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:17:35.700 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304132391243776[0;39m ==> Parameters: 
2025-02-16 20:17:35.718 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304132391243776[0;39m <==    Updates: 2
2025-02-16 20:17:35.719 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546304132391243776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š706æ¯«ç§’
2025-02-16 20:17:39.196 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:17:46.980 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:17:47.027 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:17:59.213 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:18:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546304237244649472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:18:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546304237244649472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:18:00.015 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546304237244649472[0;39m ==> Parameters: 
2025-02-16 20:18:00.034 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546304237244649472[0;39m <==    Updates: 0
2025-02-16 20:18:00.034 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546304237244649472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 20:18:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546304258220363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:18:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304258220363776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:18:05.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304258220363776[0;39m ==> Parameters: 
2025-02-16 20:18:05.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304258220363776[0;39m <==    Updates: 2
2025-02-16 20:18:05.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546304258220363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 20:18:16.983 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:18:17.031 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:18:19.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:18:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546304384045289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:18:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304384045289472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:18:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304384045289472[0;39m ==> Parameters: 
2025-02-16 20:18:35.038 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304384045289472[0;39m <==    Updates: 2
2025-02-16 20:18:35.038 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546304384045289472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 20:18:38.248 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 20:18:38.250 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2025-02-16 20:18:38.252 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2025-02-16 20:18:38.408 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546304398326894592[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:18:38.408 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546304398326894593[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:18:38.408 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546304398326894594[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546304398326894594[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546304398326894593[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546304398326894592[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546304398326894593[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546304398326894594[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546304398326894593[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546304398326894594[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546304398326894592[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 20:18:38.409 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546304398326894592[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:18:38.419 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šM7Id3pxL5Mï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 20:18:38.427 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546304398326894594[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:18:38.427 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546304398326894592[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:18:38.427 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546304398326894593[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:18:38.451 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546304398326894592[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:18:38.450 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546304398326894593[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:18:38.497 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546304398326894592[0;39m ==> Parameters: 
2025-02-16 20:18:38.497 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546304398326894593[0;39m ==> Parameters: 
2025-02-16 20:18:38.528 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546304398326894593[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-02-16 20:18:38.528 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546304398326894592[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 20:18:38.529 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546304398326894593[0;39m <==        Row: 2025-02-15, 0, 0
2025-02-16 20:18:38.529 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546304398326894592[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 20:18:38.534 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546304398326894593[0;39m <==      Total: 1
2025-02-16 20:18:38.534 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546304398326894592[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 20:18:38.536 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546304398326894592[0;39m <==      Total: 2
2025-02-16 20:18:38.551 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546304398326894593[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2025-02-16 20:18:38.551 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546304398326894592[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 20:18:38.552 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546304398326894593[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š146 ms -------------
2025-02-16 20:18:38.552 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546304398326894592[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š146 ms -------------
2025-02-16 20:18:38.561 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546304398326894594[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-02-16 20:18:38.563 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546304398326894594[0;39m ==> Parameters: 
2025-02-16 20:18:38.571 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==    Columns: id, parent, name, sort
2025-02-16 20:18:38.572 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 543797670435753984, 0, nayiæ‰¾å·¥ä½œæƒ…å†µ, 90
2025-02-16 20:18:38.573 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 100, 0, å°±ä¸šè¾…å¯¼, 100
2025-02-16 20:18:38.573 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 101, 100, Vue, 101
2025-02-16 20:18:38.574 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-02-16 20:18:38.575 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 200, 0, å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„, 200
2025-02-16 20:18:38.576 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2025-02-16 20:18:38.576 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2025-02-16 20:18:38.577 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 300, 0, Python, 300
2025-02-16 20:18:38.578 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2025-02-16 20:18:38.578 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2025-02-16 20:18:38.578 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2025-02-16 20:18:38.579 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 401, 400, MySQL, 401
2025-02-16 20:18:38.579 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2025-02-16 20:18:38.580 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2025-02-16 20:18:38.581 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2025-02-16 20:18:38.582 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546304398326894594[0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2025-02-16 20:18:38.584 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546304398326894594[0;39m <==      Total: 16
2025-02-16 20:18:38.631 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546304398326894594[0;39m è¿”å›žç»“æžœ: {"content":[{"id":543797670435753984,"name":"nayiæ‰¾å·¥ä½œæƒ…å†µ","parent":0,"sort":90},{"id":100,"name":"å°±ä¸šè¾…å¯¼","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2025-02-16 20:18:38.631 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546304398326894594[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š225 ms -------------
2025-02-16 20:18:39.239 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:18:46.995 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:18:47.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:18:59.254 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:19:00.010 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546304488940638208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:19:00.018 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546304488940638208[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:19:00.019 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546304488940638208[0;39m ==> Parameters: 
2025-02-16 20:19:00.035 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546304488940638208[0;39m <==    Updates: 0
2025-02-16 20:19:00.036 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546304488940638208[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 20:19:05.011 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546304509916352512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:19:05.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304509916352512[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:19:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304509916352512[0;39m ==> Parameters: 
2025-02-16 20:19:05.045 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546304509916352512[0;39m <==    Updates: 2
2025-02-16 20:19:05.046 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546304509916352512[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 20:19:16.981 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:19:17.017 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:19:19.280 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:22:49.179 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.2.0.Final
2025-02-16 20:22:49.201 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 14180 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 20:22:49.202 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 20:22:49.261 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-16 20:22:49.262 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-16 20:22:50.707 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 20:22:50.711 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 20:22:50.754 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-02-16 20:22:51.286 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$a32fe4eb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.308 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.398 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.399 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$74f99b99] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.400 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.402 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.408 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.410 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.423 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.425 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.426 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.429 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.430 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.433 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.435 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.447 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.761 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:51.763 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:22:52.733 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 20:22:52.737 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:22:52.744 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 20:22:52.744 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 20:22:52.744 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 20:22:52.768 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:22:52.851 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 20:22:52.852 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 3590 ms
2025-02-16 20:22:55.396 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 20:22:55.524 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 20:22:55.524 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:22:55.524 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 20:22:55.540 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:22:55.543 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 20:22:55.566 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 20:22:55.584 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 7.093 seconds (JVM running for 8.549)
2025-02-16 20:22:55.586 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 20:22:55.589 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 20:22:55.589 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 20:22:55.589 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 20:23:00.010 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546305495540043776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:23:00.027 WARN  com.zaxxer.hikari.HikariConfig                    :1084 [32m546305495540043776[0;39m HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2025-02-16 20:23:00.028 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m546305495540043776[0;39m HikariPool-1 - Starting...
2025-02-16 20:23:00.530 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m546305495540043776[0;39m HikariPool-1 - Start completed.
2025-02-16 20:23:00.538 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305495540043776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:23:00.559 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305495540043776[0;39m ==> Parameters: 
2025-02-16 20:23:00.584 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305495540043776[0;39m <==    Updates: 0
2025-02-16 20:23:00.596 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546305495540043776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š585æ¯«ç§’
2025-02-16 20:23:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546305516511563776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:23:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305516511563776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:23:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305516511563776[0;39m ==> Parameters: 
2025-02-16 20:23:05.041 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305516511563776[0;39m <==    Updates: 2
2025-02-16 20:23:05.042 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546305516511563776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š40æ¯«ç§’
2025-02-16 20:23:15.551 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:23:22.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:23:22.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:23:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546305642340683776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:23:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305642340683776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:23:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305642340683776[0;39m ==> Parameters: 
2025-02-16 20:23:35.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305642340683776[0;39m <==    Updates: 2
2025-02-16 20:23:35.030 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546305642340683776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š28æ¯«ç§’
2025-02-16 20:23:35.565 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:23:52.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:23:52.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:23:55.578 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:24:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546305747194089472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:24:00.008 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305747194089472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:24:00.009 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305747194089472[0;39m ==> Parameters: 
2025-02-16 20:24:00.027 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305747194089472[0;39m <==    Updates: 0
2025-02-16 20:24:00.028 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546305747194089472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š27æ¯«ç§’
2025-02-16 20:24:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546305768169803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:24:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305768169803776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:24:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305768169803776[0;39m ==> Parameters: 
2025-02-16 20:24:05.035 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305768169803776[0;39m <==    Updates: 2
2025-02-16 20:24:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546305768169803776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 20:24:15.594 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:24:22.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:24:22.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:24:35.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546305894028283904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:24:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305894028283904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:24:35.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305894028283904[0;39m ==> Parameters: 
2025-02-16 20:24:35.044 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546305894028283904[0;39m <==    Updates: 2
2025-02-16 20:24:35.044 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546305894028283904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 20:24:35.616 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:24:52.733 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:24:52.763 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:24:55.634 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:25:00.009 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546305998885883904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:25:00.025 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305998885883904[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:25:00.025 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305998885883904[0;39m ==> Parameters: 
2025-02-16 20:25:00.049 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546305998885883904[0;39m <==    Updates: 0
2025-02-16 20:25:00.049 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546305998885883904[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š40æ¯«ç§’
2025-02-16 20:25:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546306019823849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:25:05.012 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306019823849472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:25:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306019823849472[0;39m ==> Parameters: 
2025-02-16 20:25:05.034 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306019823849472[0;39m <==    Updates: 2
2025-02-16 20:25:05.035 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546306019823849472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š34æ¯«ç§’
2025-02-16 20:25:15.652 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:25:22.720 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:25:22.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:25:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546306145652969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:25:35.079 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306145652969472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:25:35.080 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306145652969472[0;39m ==> Parameters: 
2025-02-16 20:25:35.099 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306145652969472[0;39m <==    Updates: 2
2025-02-16 20:25:35.100 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546306145652969472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š35æ¯«ç§’
2025-02-16 20:25:35.662 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:25:52.724 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:25:52.781 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:25:55.686 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:26:00.002 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546306250514763776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:26:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306250514763776[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:26:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306250514763776[0;39m ==> Parameters: 
2025-02-16 20:26:00.030 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306250514763776[0;39m <==    Updates: 0
2025-02-16 20:26:00.041 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546306250514763776[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š39æ¯«ç§’
2025-02-16 20:26:05.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546306271482089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:26:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306271482089472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:26:05.008 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306271482089472[0;39m ==> Parameters: 
2025-02-16 20:26:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306271482089472[0;39m <==    Updates: 2
2025-02-16 20:26:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546306271482089472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 20:26:15.698 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:26:22.721 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:22.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546306397311209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:26:35.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306397311209472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:26:35.015 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306397311209472[0;39m ==> Parameters: 
2025-02-16 20:26:35.036 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306397311209472[0;39m <==    Updates: 2
2025-02-16 20:26:35.037 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546306397311209472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š36æ¯«ç§’
2025-02-16 20:26:35.712 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:26:43.954 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-02-16 20:26:43.962 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:43.995 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 20:26:44.000 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-1 - Shutdown initiated...
2025-02-16 20:26:44.237 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-1 - Shutdown completed.
2025-02-16 20:26:44.255 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:44.257 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 20:26:44.259 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:44.260 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:44.261 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 20:26:44.547 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 14180 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 20:26:44.548 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 20:26:44.948 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 20:26:44.948 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 20:26:45.017 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 69 ms. Found 0 Redis repository interfaces.
2025-02-16 20:26:45.106 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$a32fe4eb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.112 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.156 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.157 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$74f99b99] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.158 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.159 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.162 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.162 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.164 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.164 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.165 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.168 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.168 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.169 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.169 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.174 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.262 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.262 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:26:45.376 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 20:26:45.377 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 20:26:45.378 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 20:26:45.378 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 20:26:45.408 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 20:26:45.408 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 854 ms
2025-02-16 20:26:46.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:46.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:46.539 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 20:26:46.621 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:26:46.621 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 20:26:46.621 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 20:26:46.624 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 20:26:46.631 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 20:26:46.636 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 2.3 seconds (JVM running for 239.602)
2025-02-16 20:26:46.636 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:26:46.637 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 20:26:46.640 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-02-16 20:26:46.640 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 20:26:46.640 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 20:26:46.640 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 20:27:00.015 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546306502227529728[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:27:00.016 WARN  com.zaxxer.hikari.HikariConfig                    :1084 [32m546306502227529728[0;39m HikariPool-2 - idleTimeout is close to or more than maxLifetime, disabling it.
2025-02-16 20:27:00.017 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m546306502227529728[0;39m HikariPool-2 - Starting...
2025-02-16 20:27:00.163 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m546306502227529728[0;39m HikariPool-2 - Start completed.
2025-02-16 20:27:00.163 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306502227529728[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:27:00.164 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306502227529728[0;39m ==> Parameters: 
2025-02-16 20:27:00.184 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306502227529728[0;39m <==    Updates: 0
2025-02-16 20:27:00.184 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546306502227529728[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š168æ¯«ç§’
2025-02-16 20:27:05.015 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546306523199049728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:27:05.029 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306523199049728[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:27:05.030 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306523199049728[0;39m ==> Parameters: 
2025-02-16 20:27:05.048 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306523199049728[0;39m <==    Updates: 2
2025-02-16 20:27:05.048 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546306523199049728[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š33æ¯«ç§’
2025-02-16 20:27:06.647 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:27:16.227 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:27:16.276 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:27:26.666 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:27:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546306648969449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:27:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306648969449472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:27:35.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306648969449472[0;39m ==> Parameters: 
2025-02-16 20:27:35.033 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306648969449472[0;39m <==    Updates: 2
2025-02-16 20:27:35.033 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546306648969449472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š32æ¯«ç§’
2025-02-16 20:27:46.232 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:27:46.265 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:27:46.676 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:28:00.000 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546306753822855168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:28:00.012 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306753822855168[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:28:00.013 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306753822855168[0;39m ==> Parameters: 
2025-02-16 20:28:00.036 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546306753822855168[0;39m <==    Updates: 0
2025-02-16 20:28:00.037 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546306753822855168[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š37æ¯«ç§’
2025-02-16 20:28:05.000 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546306774794375168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:28:05.006 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306774794375168[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:28:05.006 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306774794375168[0;39m ==> Parameters: 
2025-02-16 20:28:05.021 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546306774794375168[0;39m <==    Updates: 2
2025-02-16 20:28:05.076 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546306774794375168[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š76æ¯«ç§’
2025-02-16 20:28:06.689 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:28:16.225 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:28:16.272 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:28:23.405 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-16 20:28:23.406 INFO  org.springframework.web.servlet.DispatcherServlet :525  [32m                  [0;39m Initializing Servlet 'dispatcherServlet'
2025-02-16 20:28:23.407 INFO  org.springframework.web.servlet.DispatcherServlet :547  [32m                  [0;39m Completed initialization in 1 ms
2025-02-16 20:28:23.484 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šmPIpntdUU3ï¼Œsession idï¼š0ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 20:28:23.611 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546306852846178304[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:28:23.611 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546306852846178306[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:28:23.611 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546306852846178305[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:28:23.612 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546306852846178306[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 20:28:23.612 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546306852846178305[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 20:28:23.613 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546306852846178305[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 20:28:23.613 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546306852846178304[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 20:28:23.613 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546306852846178306[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 20:28:23.613 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546306852846178304[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 20:28:23.613 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546306852846178306[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:28:23.613 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546306852846178305[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:28:23.613 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546306852846178304[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:28:23.626 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546306852846178306[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:28:23.626 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546306852846178305[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:28:23.626 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546306852846178304[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:28:59.923 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546307005158133760[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:28:59.923 WARN  com.zaxxer.hikari.pool.HikariPool                 :788  [32m                  [0;39m HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=59s644ms251Âµs400ns).
2025-02-16 20:28:59.928 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m                  [0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼š6ps1w97eNpï¼Œsession idï¼š1ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š2
2025-02-16 20:28:59.927 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307005174910976[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:28:59.925 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307005166522368[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:28:59.926 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307005170716672[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:28:59.930 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307005170716672[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 20:28:59.929 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307005166522368[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 20:28:59.929 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307005174910976[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 20:28:59.932 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307005174910976[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 20:28:59.932 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307005166522368[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 20:28:59.933 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307005174910976[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:28:59.932 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307005170716672[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 20:28:59.933 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307005166522368[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:28:59.933 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307005174910976[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:28:59.933 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307005170716672[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:28:59.933 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307005170716672[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:28:59.933 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307005166522368[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:28:59.934 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307005158133760[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:29:03.007 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307005158133760[0;39m ==> Parameters: 
2025-02-16 20:29:03.008 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:29:03.011 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:29:03.022 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546306852846178305[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:29:03.022 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307005170716672[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:29:03.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546306852846178304[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:29:03.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307005166522368[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:29:03.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546306852846178304[0;39m ==> Parameters: 
2025-02-16 20:29:03.023 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546306852846178305[0;39m ==> Parameters: 
2025-02-16 20:29:03.023 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307005166522368[0;39m ==> Parameters: 
2025-02-16 20:29:03.023 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307005170716672[0;39m ==> Parameters: 
2025-02-16 20:29:03.026 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307005158133760[0;39m <==    Updates: 2
2025-02-16 20:29:03.026 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546307005158133760[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š3103æ¯«ç§’
2025-02-16 20:29:03.026 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546307018173059072[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:29:03.027 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307018173059072[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:29:03.028 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307018173059072[0;39m ==> Parameters: 
2025-02-16 20:29:03.033 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:29:03.049 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307018173059072[0;39m <==    Updates: 0
2025-02-16 20:29:03.049 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546307018173059072[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 20:29:03.051 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546306852846178305[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-02-16 20:29:03.051 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546307005170716672[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-02-16 20:29:03.051 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546306852846178304[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 20:29:03.051 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307005166522368[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 20:29:03.052 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546307005170716672[0;39m <==        Row: 2025-02-15, 0, 0
2025-02-16 20:29:03.052 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307005166522368[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 20:29:03.052 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546306852846178305[0;39m <==        Row: 2025-02-15, 0, 0
2025-02-16 20:29:03.052 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546306852846178304[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 20:29:03.055 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307005170716672[0;39m <==      Total: 1
2025-02-16 20:29:03.055 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546306852846178305[0;39m <==      Total: 1
2025-02-16 20:29:03.055 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307005166522368[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 20:29:03.055 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546306852846178304[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 20:29:03.056 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546306852846178304[0;39m <==      Total: 2
2025-02-16 20:29:03.056 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307005166522368[0;39m <==      Total: 2
2025-02-16 20:29:03.065 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546306852846178306[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-02-16 20:29:03.065 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307005174910976[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-02-16 20:29:03.065 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546306852846178306[0;39m ==> Parameters: 
2025-02-16 20:29:03.065 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307005174910976[0;39m ==> Parameters: 
2025-02-16 20:29:03.065 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307005170716672[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2025-02-16 20:29:03.065 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307005166522368[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 20:29:03.065 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546306852846178304[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 20:29:03.065 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546306852846178305[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2025-02-16 20:29:03.065 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307005170716672[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3139 ms -------------
2025-02-16 20:29:03.065 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307005166522368[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3140 ms -------------
2025-02-16 20:29:03.065 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546306852846178304[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š39456 ms -------------
2025-02-16 20:29:03.065 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546306852846178305[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š39456 ms -------------
2025-02-16 20:29:03.075 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==    Columns: id, parent, name, sort
2025-02-16 20:29:03.076 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 543797670435753984, 0, nayiæ‰¾å·¥ä½œæƒ…å†µ, 90
2025-02-16 20:29:03.076 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 100, 0, å°±ä¸šè¾…å¯¼, 100
2025-02-16 20:29:03.077 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 101, 100, Vue, 101
2025-02-16 20:29:03.077 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-02-16 20:29:03.077 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 200, 0, å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„, 200
2025-02-16 20:29:03.078 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2025-02-16 20:29:03.078 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2025-02-16 20:29:03.078 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==    Columns: id, parent, name, sort
2025-02-16 20:29:03.078 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 543797670435753984, 0, nayiæ‰¾å·¥ä½œæƒ…å†µ, 90
2025-02-16 20:29:03.079 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 300, 0, Python, 300
2025-02-16 20:29:03.079 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 100, 0, å°±ä¸šè¾…å¯¼, 100
2025-02-16 20:29:03.079 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 101, 100, Vue, 101
2025-02-16 20:29:03.079 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2025-02-16 20:29:03.080 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-02-16 20:29:03.080 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2025-02-16 20:29:03.080 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 200, 0, å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„, 200
2025-02-16 20:29:03.081 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2025-02-16 20:29:03.082 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2025-02-16 20:29:03.083 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 401, 400, MySQL, 401
2025-02-16 20:29:03.083 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2025-02-16 20:29:03.083 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2025-02-16 20:29:03.083 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 300, 0, Python, 300
2025-02-16 20:29:03.083 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2025-02-16 20:29:03.083 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2025-02-16 20:29:03.083 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2025-02-16 20:29:03.083 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2025-02-16 20:29:03.084 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2025-02-16 20:29:03.084 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546306852846178306[0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2025-02-16 20:29:03.084 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 401, 400, MySQL, 401
2025-02-16 20:29:03.084 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546306852846178306[0;39m <==      Total: 16
2025-02-16 20:29:03.084 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2025-02-16 20:29:03.085 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2025-02-16 20:29:03.085 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2025-02-16 20:29:03.085 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307005174910976[0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2025-02-16 20:29:03.085 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307005174910976[0;39m <==      Total: 16
2025-02-16 20:29:03.118 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546306852846178306[0;39m è¿”å›žç»“æžœ: {"content":[{"id":543797670435753984,"name":"nayiæ‰¾å·¥ä½œæƒ…å†µ","parent":0,"sort":90},{"id":100,"name":"å°±ä¸šè¾…å¯¼","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2025-02-16 20:29:03.118 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307005174910976[0;39m è¿”å›žç»“æžœ: {"content":[{"id":543797670435753984,"name":"nayiæ‰¾å·¥ä½œæƒ…å†µ","parent":0,"sort":90},{"id":100,"name":"å°±ä¸šè¾…å¯¼","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2025-02-16 20:29:03.119 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307005174910976[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š3192 ms -------------
2025-02-16 20:29:03.119 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546306852846178306[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š39510 ms -------------
2025-02-16 20:29:03.207 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307018932228096[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:03.208 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307018932228096[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/user/login POST
2025-02-16 20:29:03.208 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307018932228096[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.UserController.login
2025-02-16 20:29:03.208 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307018932228096[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:03.209 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307018932228096[0;39m è¯·æ±‚å‚æ•°: [{"loginName":"test"}]
2025-02-16 20:29:03.261 DEBUG c.juege.tech_doc.mapper.UserMapper.selectByExample:137  [32m546307018932228096[0;39m ==>  Preparing: select id, login_name, `name`, `password` from user WHERE ( login_name = ? )
2025-02-16 20:29:03.262 DEBUG c.juege.tech_doc.mapper.UserMapper.selectByExample:137  [32m546307018932228096[0;39m ==> Parameters: test(String)
2025-02-16 20:29:03.271 TRACE c.juege.tech_doc.mapper.UserMapper.selectByExample:143  [32m546307018932228096[0;39m <==    Columns: id, login_name, name, password
2025-02-16 20:29:03.272 TRACE c.juege.tech_doc.mapper.UserMapper.selectByExample:143  [32m546307018932228096[0;39m <==        Row: 1, test, test, e70e2222a9d67c4f2eae107533359aa4
2025-02-16 20:29:03.272 DEBUG c.juege.tech_doc.mapper.UserMapper.selectByExample:137  [32m546307018932228096[0;39m <==      Total: 1
2025-02-16 20:29:03.280 INFO  com.juege.tech_doc.controller.UserController      :77   [32m546307018932228096[0;39m ç”Ÿæˆå•ç‚¹ç™»å½•tokenï¼š546307019238412288ï¼Œå¹¶æ”¾å…¥redisä¸­
2025-02-16 20:29:03.582 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307018932228096[0;39m è¿”å›žç»“æžœ: {"content":{"id":1,"loginName":"test","name":"test","token":"546307019238412288"},"success":true}
2025-02-16 20:29:03.582 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307018932228096[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š375 ms -------------
2025-02-16 20:29:05.003 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546307026465198080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:29:05.013 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307026465198080[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:29:05.014 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307026465198080[0;39m ==> Parameters: 
2025-02-16 20:29:05.027 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307026465198080[0;39m <==    Updates: 2
2025-02-16 20:29:05.028 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546307026465198080[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š25æ¯«ç§’
2025-02-16 20:29:09.017 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šmPIpntdUU3ï¼Œsession idï¼š0ï¼å½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 20:29:16.220 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:29:16.275 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:29:21.566 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307095935455232[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:21.566 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307095935455232[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2025-02-16 20:29:21.566 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307095935455232[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookController.list
2025-02-16 20:29:21.566 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307095935455232[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:21.567 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307095935455232[0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":101,"page":1,"size":1000}]
2025-02-16 20:29:21.650 DEBUG c.j.t.mapper.EbookMapper.selectByExample_COUNT    :137  [32m546307095935455232[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-02-16 20:29:21.651 DEBUG c.j.t.mapper.EbookMapper.selectByExample_COUNT    :137  [32m546307095935455232[0;39m ==> Parameters: 101(Long)
2025-02-16 20:29:21.659 TRACE c.j.t.mapper.EbookMapper.selectByExample_COUNT    :143  [32m546307095935455232[0;39m <==    Columns: count(0)
2025-02-16 20:29:21.659 TRACE c.j.t.mapper.EbookMapper.selectByExample_COUNT    :143  [32m546307095935455232[0;39m <==        Row: 1
2025-02-16 20:29:21.660 DEBUG c.j.t.mapper.EbookMapper.selectByExample_COUNT    :137  [32m546307095935455232[0;39m <==      Total: 1
2025-02-16 20:29:21.662 DEBUG c.j.tech_doc.mapper.EbookMapper.selectByExample   :137  [32m546307095935455232[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2025-02-16 20:29:21.662 DEBUG c.j.tech_doc.mapper.EbookMapper.selectByExample   :137  [32m546307095935455232[0;39m ==> Parameters: 101(Long), 1000(Integer)
2025-02-16 20:29:21.671 TRACE c.j.tech_doc.mapper.EbookMapper.selectByExample   :143  [32m546307095935455232[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-02-16 20:29:21.671 TRACE c.j.tech_doc.mapper.EbookMapper.selectByExample   :143  [32m546307095935455232[0;39m <==        Row: 543797871477133312, 4æœˆæƒ…å†µ, 100, 101, 4æœˆæ‰¾å·¥ä½œæƒ…å†µ, null, 2, 23, 5
2025-02-16 20:29:21.671 DEBUG c.j.tech_doc.mapper.EbookMapper.selectByExample   :137  [32m546307095935455232[0;39m <==      Total: 1
2025-02-16 20:29:21.673 INFO  com.juege.tech_doc.service.EbookService           :48   [32m546307095935455232[0;39m æ€»è¡Œæ•°ï¼š1
2025-02-16 20:29:21.673 INFO  com.juege.tech_doc.service.EbookService           :49   [32m546307095935455232[0;39m æ€»é¡µæ•°ï¼š1
2025-02-16 20:29:21.688 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307095935455232[0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":100,"category2Id":101,"description":"4æœˆæ‰¾å·¥ä½œæƒ…å†µ","docCount":2,"id":543797871477133312,"name":"4æœˆæƒ…å†µ","viewCount":23,"voteCount":5}],"total":1},"success":true}
2025-02-16 20:29:21.688 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307095935455232[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š122 ms -------------
2025-02-16 20:29:22.940 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307101698428928[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:22.940 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307101698428928[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook/list GET
2025-02-16 20:29:22.940 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307101698428928[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookController.list
2025-02-16 20:29:22.941 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307101698428928[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:22.941 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307101698428928[0;39m è¯·æ±‚å‚æ•°: [{"categoryId2":202,"page":1,"size":1000}]
2025-02-16 20:29:22.948 DEBUG c.j.t.mapper.EbookMapper.selectByExample_COUNT    :137  [32m546307101698428928[0;39m ==>  Preparing: SELECT count(0) FROM ebook WHERE (category2_id = ?)
2025-02-16 20:29:22.948 DEBUG c.j.t.mapper.EbookMapper.selectByExample_COUNT    :137  [32m546307101698428928[0;39m ==> Parameters: 202(Long)
2025-02-16 20:29:22.956 TRACE c.j.t.mapper.EbookMapper.selectByExample_COUNT    :143  [32m546307101698428928[0;39m <==    Columns: count(0)
2025-02-16 20:29:22.957 TRACE c.j.t.mapper.EbookMapper.selectByExample_COUNT    :143  [32m546307101698428928[0;39m <==        Row: 1
2025-02-16 20:29:22.957 DEBUG c.j.t.mapper.EbookMapper.selectByExample_COUNT    :137  [32m546307101698428928[0;39m <==      Total: 1
2025-02-16 20:29:22.957 DEBUG c.j.tech_doc.mapper.EbookMapper.selectByExample   :137  [32m546307101698428928[0;39m ==>  Preparing: select id, `name`, category1_id, category2_id, description, cover, doc_count, view_count, vote_count from ebook WHERE ( category2_id = ? ) LIMIT ?
2025-02-16 20:29:22.957 DEBUG c.j.tech_doc.mapper.EbookMapper.selectByExample   :137  [32m546307101698428928[0;39m ==> Parameters: 202(Long), 1000(Integer)
2025-02-16 20:29:22.965 TRACE c.j.tech_doc.mapper.EbookMapper.selectByExample   :143  [32m546307101698428928[0;39m <==    Columns: id, name, category1_id, category2_id, description, cover, doc_count, view_count, vote_count
2025-02-16 20:29:22.966 TRACE c.j.tech_doc.mapper.EbookMapper.selectByExample   :143  [32m546307101698428928[0;39m <==        Row: 1, Spring Boot å…¥é—¨æ•™ç¨‹, 200, 202, é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶, null, 9, 92, 12
2025-02-16 20:29:22.966 DEBUG c.j.tech_doc.mapper.EbookMapper.selectByExample   :137  [32m546307101698428928[0;39m <==      Total: 1
2025-02-16 20:29:22.966 INFO  com.juege.tech_doc.service.EbookService           :48   [32m546307101698428928[0;39m æ€»è¡Œæ•°ï¼š1
2025-02-16 20:29:22.966 INFO  com.juege.tech_doc.service.EbookService           :49   [32m546307101698428928[0;39m æ€»é¡µæ•°ï¼š1
2025-02-16 20:29:22.967 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307101698428928[0;39m è¿”å›žç»“æžœ: {"content":{"list":[{"category1Id":200,"category2Id":202,"description":"é›¶åŸºç¡€å…¥é—¨ Java å¼€å‘ï¼Œä¼ä¸šçº§åº”ç”¨å¼€å‘æœ€ä½³é¦–é€‰æ¡†æž¶","docCount":9,"id":1,"name":"Spring Boot å…¥é—¨æ•™ç¨‹","viewCount":92,"voteCount":12}],"total":1},"success":true}
2025-02-16 20:29:22.967 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307101698428928[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2025-02-16 20:29:23.018 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:29:34.109 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307148544610304[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:34.109 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307148544610304[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/all/1 GET
2025-02-16 20:29:34.109 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307148544610304[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.all
2025-02-16 20:29:34.110 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307148544610304[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:34.110 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307148544610304[0;39m è¯·æ±‚å‚æ•°: [1]
2025-02-16 20:29:34.167 DEBUG c.juege.tech_doc.mapper.DocMapper.selectByExample :137  [32m546307148544610304[0;39m ==>  Preparing: select id, ebook_id, parent, `name`, sort, view_count, vote_count from doc WHERE ( ebook_id = ? ) order by sort asc
2025-02-16 20:29:34.167 DEBUG c.juege.tech_doc.mapper.DocMapper.selectByExample :137  [32m546307148544610304[0;39m ==> Parameters: 1(Long)
2025-02-16 20:29:34.177 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==    Columns: id, ebook_id, parent, name, sort, view_count, vote_count
2025-02-16 20:29:34.178 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 543700364189372416, 1, 1, test1, 0, 19, 2
2025-02-16 20:29:34.178 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 1, 1, 0, ç®€åŽ†è¾…å¯¼, 1, 10, 1
2025-02-16 20:29:34.179 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 2, 1, 1, æ–‡æ¡£1.1, 1, 23, 1
2025-02-16 20:29:34.179 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 4, 1, 3, æ–‡æ¡£2.1, 1, 7, 1
2025-02-16 20:29:34.179 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 6, 1, 5, æ–‡æ¡£2.2.1, 1, 7, 2
2025-02-16 20:29:34.180 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 543782301327298560, 1, 543700364189372416, tes22, 1, 5, 1
2025-02-16 20:29:34.180 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 3, 1, 0, æ–‡æ¡£2, 2, 4, 0
2025-02-16 20:29:34.180 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 5, 1, 3, æ–‡æ¡£2.2, 2, 5, 2
2025-02-16 20:29:34.180 TRACE c.juege.tech_doc.mapper.DocMapper.selectByExample :143  [32m546307148544610304[0;39m <==        Row: 543700410402213888, 1, 1, test1, 2, 12, 2
2025-02-16 20:29:34.181 DEBUG c.juege.tech_doc.mapper.DocMapper.selectByExample :137  [32m546307148544610304[0;39m <==      Total: 9
2025-02-16 20:29:34.203 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307148544610304[0;39m è¿”å›žç»“æžœ: {"content":[{"ebookId":1,"id":543700364189372416,"name":"test1","parent":1,"sort":0,"viewCount":19,"voteCount":2},{"ebookId":1,"id":1,"name":"ç®€åŽ†è¾…å¯¼","parent":0,"sort":1,"viewCount":10,"voteCount":1},{"ebookId":1,"id":2,"name":"æ–‡æ¡£1.1","parent":1,"sort":1,"viewCount":23,"voteCount":1},{"ebookId":1,"id":4,"name":"æ–‡æ¡£2.1","parent":3,"sort":1,"viewCount":7,"voteCount":1},{"ebookId":1,"id":6,"name":"æ–‡æ¡£2.2.1","parent":5,"sort":1,"viewCount":7,"voteCount":2},{"ebookId":1,"id":543782301327298560,"name":"tes22","parent":543700364189372416,"sort":1,"viewCount":5,"voteCount":1},{"ebookId":1,"id":3,"name":"æ–‡æ¡£2","parent":0,"sort":2,"viewCount":4,"voteCount":0},{"ebookId":1,"id":5,"name":"æ–‡æ¡£2.2","parent":3,"sort":2,"viewCount":5,"voteCount":2},{"ebookId":1,"id":543700410402213888,"name":"test1","parent":1,"sort":2,"viewCount":12,"voteCount":2}],"success":true}
2025-02-16 20:29:34.203 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307148544610304[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š94 ms -------------
2025-02-16 20:29:35.001 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546307152285929472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:29:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307152285929472[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:29:35.011 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307152285929472[0;39m ==> Parameters: 
2025-02-16 20:29:35.025 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307152285929472[0;39m <==    Updates: 2
2025-02-16 20:29:35.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546307152285929472[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š24æ¯«ç§’
2025-02-16 20:29:35.683 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307155146444800[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:35.683 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307155146444800[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/543782301327298560 GET
2025-02-16 20:29:35.683 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307155146444800[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:35.684 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307155146444800[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:35.684 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307155146444800[0;39m è¯·æ±‚å‚æ•°: [543782301327298560]
2025-02-16 20:29:35.694 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307155146444800[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:35.695 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307155146444800[0;39m ==> Parameters: 543782301327298560(Long)
2025-02-16 20:29:35.705 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307155146444800[0;39m <==    Columns: id, content
2025-02-16 20:29:35.706 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307155146444800[0;39m <==        Row: 543782301327298560, <<BLOB>>
2025-02-16 20:29:35.706 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307155146444800[0;39m <==      Total: 1
2025-02-16 20:29:35.707 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307155146444800[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:35.708 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307155146444800[0;39m ==> Parameters: 543782301327298560(Long)
2025-02-16 20:29:35.725 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307155146444800[0;39m <==    Updates: 1
2025-02-16 20:29:35.726 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307155146444800[0;39m è¿”å›žç»“æžœ: {"content":"<p>asdad</p>","success":true}
2025-02-16 20:29:35.726 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307155146444800[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š43 ms -------------
2025-02-16 20:29:36.030 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307156601868288[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:36.031 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307156601868288[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/543700364189372416 GET
2025-02-16 20:29:36.031 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307156601868288[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:36.031 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307156601868288[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:36.031 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307156601868288[0;39m è¯·æ±‚å‚æ•°: [543700364189372416]
2025-02-16 20:29:36.043 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307156601868288[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:36.044 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307156601868288[0;39m ==> Parameters: 543700364189372416(Long)
2025-02-16 20:29:36.052 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307156601868288[0;39m <==    Columns: id, content
2025-02-16 20:29:36.052 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307156601868288[0;39m <==        Row: 543700364189372416, <<BLOB>>
2025-02-16 20:29:36.052 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307156601868288[0;39m <==      Total: 1
2025-02-16 20:29:36.053 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307156601868288[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:36.053 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307156601868288[0;39m ==> Parameters: 543700364189372416(Long)
2025-02-16 20:29:36.070 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307156601868288[0;39m <==    Updates: 1
2025-02-16 20:29:36.071 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307156601868288[0;39m è¿”å›žç»“æžœ: {"content":"<h3>Microsoft å°Šé‡æ‚¨çš„éšç§</h3><p>Microsoft åŠç¬¬ä¸‰æ–¹ä¾›åº”å•†å°†é€šè¿‡æµè§ˆå™¨å­˜å‚¨ã€è®¿é—®æ‚¨çš„è´¦å·ä¿¡æ¯ï¼Œä»¥ä¾¿æŒç»­ä¸ºæ‚¨æä¾›è‰¯å¥½æœåŠ¡ã€ç»´æŠ¤å¯¹åº”å¹¿å‘Šä¿¡æ¯ã€‚å¦‚æžœæ‚¨åŒæ„ï¼Œæˆ‘ä»¬å°†ä¸ªæ€§åŒ–æ‚¨çœ‹åˆ°çš„å†…å®¹åŠå¹¿å‘Šã€‚æ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»é€‰æ‹©â€œæˆ‘æŽ¥å—â€ä»¥ç¤ºåŒæ„ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»â€œç®¡ç†è®¾ç½®â€æŸ¥çœ‹æ‚¨çš„é€‰æ‹©ï¼Œå¹¶é€šè¿‡â€œç®¡ç†è®¾ç½®â€ä¿®æ­£æ‚¨çš„é€‰æ‹©ã€‚<a href=\"https://privacy.microsoft.com/zh-cn/privacystatement\" target=\"_blank\">éšç§å£°æ˜Ž</a></p><h3>æˆ‘ä»¬å’Œåˆä½œä¼™ä¼´å°†å¤„ç†æ•°æ®ï¼Œä»¥å®žçŽ°ï¼š</h3><p>Microsoft åŠä¾›åº”å•†å°†å¯¹æ•°æ®åŠ ä»¥ç»´æŠ¤ï¼Œä»¥ç¡®ä¿å®šä½å‡†ç¡®åŠç²¾å‡†è¯†åˆ«è®¾å¤‡å‚æ•°ï¼šä»Žè€Œé¡ºåˆ©å­˜å‚¨ã€è®¿é—®ç›¸åº”ä¿¡æ¯ï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›ä¸ªæ€§åŒ–å’Œé«˜å“è´¨çš„å†…å®¹ã€äº§å“æˆ–å¹¿å‘Šç­‰æœåŠ¡ã€‚<button>ä¾›åº”å•†åˆ—è¡¨</button></p><p><button>æˆ‘æŽ¥å—</button><button>ç®¡ç†è®¾ç½®</button></p><p><nurturing-banner></nurturing-banner></p><p><nurturing-coach-mark></nurturing-coach-mark></p><p><common-search-box-edgenext><cs-common-search-box></cs-common-search-box></common-search-box-edgenext></p><p><slot></slot><input/><slot></slot><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></p><slot></slot><slot></slot><p><waffle-wc><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></waffle-wc></p><p><welcome-greeting-light></welcome-greeting-light></p><p><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/weather/forecast/in-%E4%B8%8A%E6%B5%B7%E5%B8%82?loc=eyJsIjoi5LiK5rW35biCIiwiciI6IuS4iua1t%2BW4giIsImMiOiLkuK3ljY7kurrmsJHlhbHlkozlm70iLCJpIjoiQ04iLCJnIjoiemgtY24iLCJ4IjoxMjEuNTU0NzcxNDIzMzM5ODQsInkiOjMxLjI0ODgwMDI3NzcwOTk2fQ%3D%3D&amp;weadegreetype=C&amp;ocid=msedgntp&amp;cvid=db2284f5e9794a4a868f70ceacbe2d32\"></a></p><p><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/weather/forecast/in-%E4%B8%8A%E6%B5%B7%E5%B8%82?loc=eyJsIjoi5LiK5rW35biCIiwiciI6IuS4iua1t%2BW4giIsImMiOiLkuK3ljY7kurrmsJHlhbHlkozlm70iLCJpIjoiQ04iLCJnIjoiemgtY24iLCJ4IjoxMjEuNTU0NzcxNDIzMzM5ODQsInkiOjMxLjI0ODgwMDI3NzcwOTk2fQ%3D%3D&amp;weadegreetype=C&amp;ocid=msedgntp&amp;cvid=db2284f5e9794a4a868f70ceacbe2d32\"><img src=\"https://assets.msn.cn/weathermapdata/1/static/weather/Icons/taskbar_v10/Condition_Card/SunnyDayV3.svg\" alt=\"æ™´æœ—\"/></a></p><p><path></path></p><p><fluent-button><button><slot></slot><slot></slot><slot></slot></button></fluent-button></p><p><recommended-sites></recommended-sites></p><ul><li><a target=\"_blank\" href=\"https://cn.bing.com/?form=000047\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AAZLoGU?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>å¿…åº”æœç´¢</a></li><li><a target=\"_blank\" href=\"https://aka.ms/AnaheimRW/ad6-douyin-cid116-pid2/sept24\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA1oqalU?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>æŠ–éŸ³</a></li><li><a target=\"_blank\" href=\"https://aka.ms/AnaheimRW/ad2-jingdong-cid117-pid3/sept24\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA13c1OB?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>äº¬ä¸œ</a></li><li><a target=\"_blank\" href=\"https://ntp.msn.cn/edge/ntp?locale=zh-CN&amp;title=%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE%E9%A1%B5&amp;dsp=1&amp;sp=%E5%BF%85%E5%BA%94&amp;PC=U531&amp;prerender=1#\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA1iK5tR?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>æ›´å¤š</a></li></ul><p><fluent-design-system-provider><slot><edge-chromium-page><cs-header-core><common-settings-edgenext><cs-common-settings-dialog></cs-common-settings-dialog></common-settings-edgenext><slot></slot></cs-header-core>å¹¿å‘Š<fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></edge-chromium-page></slot></fluent-design-system-provider></p><p><label></label><fluent-select></fluent-select></p><p><slot></slot><slot></slot></p><p><slot></slot></p><p><slot><path></path></slot></p><p><background-image></background-image></p><p><img src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1msOP7.img\"/></p><p><super-nav></super-nav></p><p><cs-super-nav-horizontal><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/feed\"></a></cs-super-nav-horizontal></p><ul><li><a href=\"https://www.msn.cn/zh-cn/feed\">å‘çŽ°</a></li><li><a href=\"https://www.msn.cn/zh-cn/feed/interest/following\">å…³æ³¨</a></li></ul><ul><li><a href=\"https://www.msn.cn/zh-cn/gaming\">æ¸¸æˆ</a></li><li><a href=\"https://www.msn.cn/zh-cn/channel/topic/%E8%A6%81%E9%97%BB/tp-Y_77f04c37-b63e-46b4-a990-e926f7d129ff\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/sports\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/play?cgfrom=cg_ntp_pivot\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/money\"></a></li><li><a href=\"https://ntp.msn.cn/edge/ntp?locale=zh-CN&amp;title=%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE%E9%A1%B5&amp;dsp=1&amp;sp=%E5%BF%85%E5%BA%94&amp;PC=U531&amp;prerender=1\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/weather\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/shopping\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/health\"></a></li><li><a href=\"https://www.bing.com/maps/traffic?setlang=zh-cn&amp;FORM=ntpmap\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/gaming/ai\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/lifestyle/calendar\"></a></li></ul><p><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></p><p><super-breaking-news></super-breaking-news><waterfall-view-feed></waterfall-view-feed></p><p><pill-wc></pill-wc></p><p><cs-super-container><cs-responsive-feed-layout><cs-infopane-card-28><cs-card><slot><cs-responsive-infopane></cs-responsive-infopane></slot></cs-card></cs-infopane-card-28></cs-responsive-feed-layout></cs-super-container></p><p><img alt=\"å‡‰æ‹Œèœä¸­çš„â€œé£Ÿææ­å­â€\" src=\"https://ts4.cn.mm.bing.net/th?id=ORMS.ee0397015014c17999b371519ff032db&amp;pid=Wdp&amp;w=300&amp;h=304&amp;qlt=90&amp;c=1&amp;rs=1&amp;dpr=3.75&amp;p=0\"/></p><p><fluent-design-system-provider><slot><edge-chromium-page></edge-chromium-page></slot><slot></slot><slot><card-flipper><slot><path></path></slot></card-flipper></slot><slot><card-flipper><slot><path></path></slot></card-flipper></slot><cs-responsive-card></cs-responsive-card></fluent-design-system-provider></p><p><img alt=\"çˆ±äº«ç¾Žé£Ÿå®¶\" src=\"https://img-s.msn.cn/tenant/amp/entityid/BB1qwQvF?w=16&amp;h=16&amp;q=100&amp;m=6&amp;f=png&amp;u=t\"/>çˆ±äº«</p>","success":true}
2025-02-16 20:29:36.071 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307156601868288[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š41 ms -------------
2025-02-16 20:29:36.454 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307158380253184[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:36.454 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307158380253184[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2025-02-16 20:29:36.454 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307158380253184[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:36.454 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307158380253184[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:36.455 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307158380253184[0;39m è¯·æ±‚å‚æ•°: [2]
2025-02-16 20:29:36.462 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307158380253184[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:36.462 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307158380253184[0;39m ==> Parameters: 2(Long)
2025-02-16 20:29:36.470 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307158380253184[0;39m <==      Total: 0
2025-02-16 20:29:36.470 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307158380253184[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:36.470 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307158380253184[0;39m ==> Parameters: 2(Long)
2025-02-16 20:29:36.488 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307158380253184[0;39m <==    Updates: 1
2025-02-16 20:29:36.489 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307158380253184[0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2025-02-16 20:29:36.489 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307158380253184[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š35 ms -------------
2025-02-16 20:29:36.776 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307159730819072[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:36.776 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307159730819072[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/543700410402213888 GET
2025-02-16 20:29:36.776 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307159730819072[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:36.776 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307159730819072[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:36.776 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307159730819072[0;39m è¯·æ±‚å‚æ•°: [543700410402213888]
2025-02-16 20:29:36.777 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307159730819072[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:36.777 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307159730819072[0;39m ==> Parameters: 543700410402213888(Long)
2025-02-16 20:29:36.786 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307159730819072[0;39m <==    Columns: id, content
2025-02-16 20:29:36.786 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307159730819072[0;39m <==        Row: 543700410402213888, <<BLOB>>
2025-02-16 20:29:36.786 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307159730819072[0;39m <==      Total: 1
2025-02-16 20:29:36.787 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307159730819072[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:36.787 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307159730819072[0;39m ==> Parameters: 543700410402213888(Long)
2025-02-16 20:29:36.803 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307159730819072[0;39m <==    Updates: 1
2025-02-16 20:29:36.803 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307159730819072[0;39m è¿”å›žç»“æžœ: {"content":"<h3>Microsoft å°Šé‡æ‚¨çš„éšç§</h3><p>Microsoft åŠç¬¬ä¸‰æ–¹ä¾›åº”å•†å°†é€šè¿‡æµè§ˆå™¨å­˜å‚¨ã€è®¿é—®æ‚¨çš„è´¦å·ä¿¡æ¯ï¼Œä»¥ä¾¿æŒç»­ä¸ºæ‚¨æä¾›è‰¯å¥½æœåŠ¡ã€ç»´æŠ¤å¯¹åº”å¹¿å‘Šä¿¡æ¯ã€‚å¦‚æžœæ‚¨åŒæ„ï¼Œæˆ‘ä»¬å°†ä¸ªæ€§åŒ–æ‚¨çœ‹åˆ°çš„å†…å®¹åŠå¹¿å‘Šã€‚æ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»é€‰æ‹©â€œæˆ‘æŽ¥å—â€ä»¥ç¤ºåŒæ„ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»â€œç®¡ç†è®¾ç½®â€æŸ¥çœ‹æ‚¨çš„é€‰æ‹©ï¼Œå¹¶é€šè¿‡â€œç®¡ç†è®¾ç½®â€ä¿®æ­£æ‚¨çš„é€‰æ‹©ã€‚<a href=\"https://privacy.microsoft.com/zh-cn/privacystatement\" target=\"_blank\">éšç§å£°æ˜Ž</a></p><h3>æˆ‘ä»¬å’Œåˆä½œä¼™ä¼´å°†å¤„ç†æ•°æ®ï¼Œä»¥å®žçŽ°ï¼š</h3><p>Microsoft åŠä¾›åº”å•†å°†å¯¹æ•°æ®åŠ ä»¥ç»´æŠ¤ï¼Œä»¥ç¡®ä¿å®šä½å‡†ç¡®åŠç²¾å‡†è¯†åˆ«è®¾å¤‡å‚æ•°ï¼šä»Žè€Œé¡ºåˆ©å­˜å‚¨ã€è®¿é—®ç›¸åº”ä¿¡æ¯ï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›ä¸ªæ€§åŒ–å’Œé«˜å“è´¨çš„å†…å®¹ã€äº§å“æˆ–å¹¿å‘Šç­‰æœåŠ¡ã€‚<button>ä¾›åº”å•†åˆ—è¡¨</button></p><p><button>æˆ‘æŽ¥å—</button><button>ç®¡ç†è®¾ç½®</button></p><p><nurturing-banner></nurturing-banner></p><p><nurturing-coach-mark></nurturing-coach-mark></p><p><common-search-box-edgenext><cs-common-search-box></cs-common-search-box></common-search-box-edgenext></p><form><p><slot></slot><input/><slot></slot><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></p><slot></slot><slot></slot></form><p><waffle-wc><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></waffle-wc></p><p><welcome-greeting-light></welcome-greeting-light></p><p><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/weather/forecast/in-%E4%B8%8A%E6%B5%B7%E5%B8%82?loc=eyJsIjoi5LiK5rW35biCIiwiciI6IuS4iua1t%2BW4giIsImMiOiLkuK3ljY7kurrmsJHlhbHlkozlm70iLCJpIjoiQ04iLCJnIjoiemgtY24iLCJ4IjoxMjEuNTU0NzcxNDIzMzM5ODQsInkiOjMxLjI0ODgwMDI3NzcwOTk2fQ%3D%3D&amp;weadegreetype=C&amp;ocid=msedgntp&amp;cvid=db2284f5e9794a4a868f70ceacbe2d32\"></a></p><p><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/weather/forecast/in-%E4%B8%8A%E6%B5%B7%E5%B8%82?loc=eyJsIjoi5LiK5rW35biCIiwiciI6IuS4iua1t%2BW4giIsImMiOiLkuK3ljY7kurrmsJHlhbHlkozlm70iLCJpIjoiQ04iLCJnIjoiemgtY24iLCJ4IjoxMjEuNTU0NzcxNDIzMzM5ODQsInkiOjMxLjI0ODgwMDI3NzcwOTk2fQ%3D%3D&amp;weadegreetype=C&amp;ocid=msedgntp&amp;cvid=db2284f5e9794a4a868f70ceacbe2d32\"><img src=\"https://assets.msn.cn/weathermapdata/1/static/weather/Icons/taskbar_v10/Condition_Card/SunnyDayV3.svg\" alt=\"æ™´æœ—\"/></a></p><p><path></path></p><p><fluent-button><button><slot></slot><slot></slot><slot></slot></button></fluent-button></p><p><recommended-sites></recommended-sites></p><ul><li><a target=\"_blank\" href=\"https://cn.bing.com/?form=000047\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AAZLoGU?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>å¿…åº”æœç´¢</a></li><li><a target=\"_blank\" href=\"https://aka.ms/AnaheimRW/ad6-douyin-cid116-pid2/sept24\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA1oqalU?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>æŠ–éŸ³</a></li><li><a target=\"_blank\" href=\"https://aka.ms/AnaheimRW/ad2-jingdong-cid117-pid3/sept24\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA13c1OB?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>äº¬ä¸œ</a></li><li><a target=\"_blank\" href=\"https://ntp.msn.cn/edge/ntp?locale=zh-CN&amp;title=%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE%E9%A1%B5&amp;dsp=1&amp;sp=%E5%BF%85%E5%BA%94&amp;PC=U531&amp;prerender=1#\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA1iK5tR?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>æ›´å¤š</a></li></ul><p><fluent-design-system-provider><slot><edge-chromium-page><cs-header-core><common-settings-edgenext><cs-common-settings-dialog></cs-common-settings-dialog></common-settings-edgenext><slot></slot></cs-header-core>å¹¿å‘Š<fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></edge-chromium-page></slot></fluent-design-system-provider></p><p><label></label><fluent-select></fluent-select></p><p><slot></slot><slot></slot></p><p><slot></slot></p><p><slot><path></path></slot></p><p><background-image></background-image></p><p><img src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1msOP7.img\"/></p><p><super-nav></super-nav></p><p><cs-super-nav-horizontal><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/feed\"></a></cs-super-nav-horizontal></p><ul><li><a href=\"https://www.msn.cn/zh-cn/feed\">å‘çŽ°</a></li><li><a href=\"https://www.msn.cn/zh-cn/feed/interest/following\">å…³æ³¨</a></li></ul><ul><li><a href=\"https://www.msn.cn/zh-cn/gaming\">æ¸¸æˆ</a></li><li><a href=\"https://www.msn.cn/zh-cn/channel/topic/%E8%A6%81%E9%97%BB/tp-Y_77f04c37-b63e-46b4-a990-e926f7d129ff\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/sports\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/play?cgfrom=cg_ntp_pivot\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/money\"></a></li><li><a href=\"https://ntp.msn.cn/edge/ntp?locale=zh-CN&amp;title=%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE%E9%A1%B5&amp;dsp=1&amp;sp=%E5%BF%85%E5%BA%94&amp;PC=U531&amp;prerender=1\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/weather\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/shopping\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/health\"></a></li><li><a href=\"https://www.bing.com/maps/traffic?setlang=zh-cn&amp;FORM=ntpmap\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/gaming/ai\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/lifestyle/calendar\"></a></li></ul><p><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></p><p><super-breaking-news></super-breaking-news><waterfall-view-feed></waterfall-view-feed></p><p><pill-wc></pill-wc></p><p><cs-super-container><cs-responsive-feed-layout><cs-infopane-card-28><cs-card><slot><cs-responsive-infopane></cs-responsive-infopane></slot></cs-card></cs-infopane-card-28></cs-responsive-feed-layout></cs-super-container></p><p><img alt=\"å‡‰æ‹Œèœä¸­çš„â€œé£Ÿææ­å­â€\" src=\"https://ts4.cn.mm.bing.net/th?id=ORMS.ee0397015014c17999b371519ff032db&amp;pid=Wdp&amp;w=300&amp;h=304&amp;qlt=90&amp;c=1&amp;rs=1&amp;dpr=3.75&amp;p=0\"/></p><p><fluent-design-system-provider><slot><edge-chromium-page></edge-chromium-page></slot><slot></slot><slot><card-flipper><slot><path></path></slot></card-flipper></slot><slot><card-flipper><slot><path></path></slot></card-flipper></slot><cs-responsive-card></cs-responsive-card></fluent-design-system-provider></p><p><img alt=\"çˆ±äº«ç¾Žé£Ÿå®¶\" src=\"https://img-s.msn.cn/tenant/amp/entityid/BB1qwQvF?w=16&amp;h=16&amp;q=100&amp;m=6&amp;f=png&amp;u=t\"/>çˆ±äº«</p>","success":true}
2025-02-16 20:29:36.803 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307159730819072[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š27 ms -------------
2025-02-16 20:29:37.350 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307162138349568[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:37.350 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307162138349568[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/2 GET
2025-02-16 20:29:37.351 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307162138349568[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:37.351 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307162138349568[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:37.351 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307162138349568[0;39m è¯·æ±‚å‚æ•°: [2]
2025-02-16 20:29:37.357 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307162138349568[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:37.357 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307162138349568[0;39m ==> Parameters: 2(Long)
2025-02-16 20:29:37.365 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307162138349568[0;39m <==      Total: 0
2025-02-16 20:29:37.366 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307162138349568[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:37.367 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307162138349568[0;39m ==> Parameters: 2(Long)
2025-02-16 20:29:37.381 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307162138349568[0;39m <==    Updates: 1
2025-02-16 20:29:37.381 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307162138349568[0;39m è¿”å›žç»“æžœ: {"content":"","success":true}
2025-02-16 20:29:37.382 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307162138349568[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š32 ms -------------
2025-02-16 20:29:37.996 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307164847869952[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:37.996 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307164847869952[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/543782301327298560 GET
2025-02-16 20:29:37.996 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307164847869952[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:37.996 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307164847869952[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:37.997 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307164847869952[0;39m è¯·æ±‚å‚æ•°: [543782301327298560]
2025-02-16 20:29:38.004 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307164847869952[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:38.005 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307164847869952[0;39m ==> Parameters: 543782301327298560(Long)
2025-02-16 20:29:38.015 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307164847869952[0;39m <==    Columns: id, content
2025-02-16 20:29:38.015 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307164847869952[0;39m <==        Row: 543782301327298560, <<BLOB>>
2025-02-16 20:29:38.015 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307164847869952[0;39m <==      Total: 1
2025-02-16 20:29:38.016 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307164847869952[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:38.016 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307164847869952[0;39m ==> Parameters: 543782301327298560(Long)
2025-02-16 20:29:38.034 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307164847869952[0;39m <==    Updates: 1
2025-02-16 20:29:38.034 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307164847869952[0;39m è¿”å›žç»“æžœ: {"content":"<p>asdad</p>","success":true}
2025-02-16 20:29:38.034 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307164847869952[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š38 ms -------------
2025-02-16 20:29:38.398 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307166533980160[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:38.398 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307166533980160[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/543700364189372416 GET
2025-02-16 20:29:38.398 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307166533980160[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:38.398 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307166533980160[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:38.399 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307166533980160[0;39m è¯·æ±‚å‚æ•°: [543700364189372416]
2025-02-16 20:29:38.410 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307166533980160[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:38.411 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307166533980160[0;39m ==> Parameters: 543700364189372416(Long)
2025-02-16 20:29:38.421 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307166533980160[0;39m <==    Columns: id, content
2025-02-16 20:29:38.422 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307166533980160[0;39m <==        Row: 543700364189372416, <<BLOB>>
2025-02-16 20:29:38.422 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307166533980160[0;39m <==      Total: 1
2025-02-16 20:29:38.423 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307166533980160[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:38.423 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307166533980160[0;39m ==> Parameters: 543700364189372416(Long)
2025-02-16 20:29:38.439 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307166533980160[0;39m <==    Updates: 1
2025-02-16 20:29:38.440 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307166533980160[0;39m è¿”å›žç»“æžœ: {"content":"<h3>Microsoft å°Šé‡æ‚¨çš„éšç§</h3><p>Microsoft åŠç¬¬ä¸‰æ–¹ä¾›åº”å•†å°†é€šè¿‡æµè§ˆå™¨å­˜å‚¨ã€è®¿é—®æ‚¨çš„è´¦å·ä¿¡æ¯ï¼Œä»¥ä¾¿æŒç»­ä¸ºæ‚¨æä¾›è‰¯å¥½æœåŠ¡ã€ç»´æŠ¤å¯¹åº”å¹¿å‘Šä¿¡æ¯ã€‚å¦‚æžœæ‚¨åŒæ„ï¼Œæˆ‘ä»¬å°†ä¸ªæ€§åŒ–æ‚¨çœ‹åˆ°çš„å†…å®¹åŠå¹¿å‘Šã€‚æ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»é€‰æ‹©â€œæˆ‘æŽ¥å—â€ä»¥ç¤ºåŒæ„ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»â€œç®¡ç†è®¾ç½®â€æŸ¥çœ‹æ‚¨çš„é€‰æ‹©ï¼Œå¹¶é€šè¿‡â€œç®¡ç†è®¾ç½®â€ä¿®æ­£æ‚¨çš„é€‰æ‹©ã€‚<a href=\"https://privacy.microsoft.com/zh-cn/privacystatement\" target=\"_blank\">éšç§å£°æ˜Ž</a></p><h3>æˆ‘ä»¬å’Œåˆä½œä¼™ä¼´å°†å¤„ç†æ•°æ®ï¼Œä»¥å®žçŽ°ï¼š</h3><p>Microsoft åŠä¾›åº”å•†å°†å¯¹æ•°æ®åŠ ä»¥ç»´æŠ¤ï¼Œä»¥ç¡®ä¿å®šä½å‡†ç¡®åŠç²¾å‡†è¯†åˆ«è®¾å¤‡å‚æ•°ï¼šä»Žè€Œé¡ºåˆ©å­˜å‚¨ã€è®¿é—®ç›¸åº”ä¿¡æ¯ï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›ä¸ªæ€§åŒ–å’Œé«˜å“è´¨çš„å†…å®¹ã€äº§å“æˆ–å¹¿å‘Šç­‰æœåŠ¡ã€‚<button>ä¾›åº”å•†åˆ—è¡¨</button></p><p><button>æˆ‘æŽ¥å—</button><button>ç®¡ç†è®¾ç½®</button></p><p><nurturing-banner></nurturing-banner></p><p><nurturing-coach-mark></nurturing-coach-mark></p><p><common-search-box-edgenext><cs-common-search-box></cs-common-search-box></common-search-box-edgenext></p><p><slot></slot><input/><slot></slot><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></p><slot></slot><slot></slot><p><waffle-wc><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></waffle-wc></p><p><welcome-greeting-light></welcome-greeting-light></p><p><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/weather/forecast/in-%E4%B8%8A%E6%B5%B7%E5%B8%82?loc=eyJsIjoi5LiK5rW35biCIiwiciI6IuS4iua1t%2BW4giIsImMiOiLkuK3ljY7kurrmsJHlhbHlkozlm70iLCJpIjoiQ04iLCJnIjoiemgtY24iLCJ4IjoxMjEuNTU0NzcxNDIzMzM5ODQsInkiOjMxLjI0ODgwMDI3NzcwOTk2fQ%3D%3D&amp;weadegreetype=C&amp;ocid=msedgntp&amp;cvid=db2284f5e9794a4a868f70ceacbe2d32\"></a></p><p><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/weather/forecast/in-%E4%B8%8A%E6%B5%B7%E5%B8%82?loc=eyJsIjoi5LiK5rW35biCIiwiciI6IuS4iua1t%2BW4giIsImMiOiLkuK3ljY7kurrmsJHlhbHlkozlm70iLCJpIjoiQ04iLCJnIjoiemgtY24iLCJ4IjoxMjEuNTU0NzcxNDIzMzM5ODQsInkiOjMxLjI0ODgwMDI3NzcwOTk2fQ%3D%3D&amp;weadegreetype=C&amp;ocid=msedgntp&amp;cvid=db2284f5e9794a4a868f70ceacbe2d32\"><img src=\"https://assets.msn.cn/weathermapdata/1/static/weather/Icons/taskbar_v10/Condition_Card/SunnyDayV3.svg\" alt=\"æ™´æœ—\"/></a></p><p><path></path></p><p><fluent-button><button><slot></slot><slot></slot><slot></slot></button></fluent-button></p><p><recommended-sites></recommended-sites></p><ul><li><a target=\"_blank\" href=\"https://cn.bing.com/?form=000047\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AAZLoGU?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>å¿…åº”æœç´¢</a></li><li><a target=\"_blank\" href=\"https://aka.ms/AnaheimRW/ad6-douyin-cid116-pid2/sept24\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA1oqalU?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>æŠ–éŸ³</a></li><li><a target=\"_blank\" href=\"https://aka.ms/AnaheimRW/ad2-jingdong-cid117-pid3/sept24\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA13c1OB?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>äº¬ä¸œ</a></li><li><a target=\"_blank\" href=\"https://ntp.msn.cn/edge/ntp?locale=zh-CN&amp;title=%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE%E9%A1%B5&amp;dsp=1&amp;sp=%E5%BF%85%E5%BA%94&amp;PC=U531&amp;prerender=1#\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA1iK5tR?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>æ›´å¤š</a></li></ul><p><fluent-design-system-provider><slot><edge-chromium-page><cs-header-core><common-settings-edgenext><cs-common-settings-dialog></cs-common-settings-dialog></common-settings-edgenext><slot></slot></cs-header-core>å¹¿å‘Š<fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></edge-chromium-page></slot></fluent-design-system-provider></p><p><label></label><fluent-select></fluent-select></p><p><slot></slot><slot></slot></p><p><slot></slot></p><p><slot><path></path></slot></p><p><background-image></background-image></p><p><img src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1msOP7.img\"/></p><p><super-nav></super-nav></p><p><cs-super-nav-horizontal><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/feed\"></a></cs-super-nav-horizontal></p><ul><li><a href=\"https://www.msn.cn/zh-cn/feed\">å‘çŽ°</a></li><li><a href=\"https://www.msn.cn/zh-cn/feed/interest/following\">å…³æ³¨</a></li></ul><ul><li><a href=\"https://www.msn.cn/zh-cn/gaming\">æ¸¸æˆ</a></li><li><a href=\"https://www.msn.cn/zh-cn/channel/topic/%E8%A6%81%E9%97%BB/tp-Y_77f04c37-b63e-46b4-a990-e926f7d129ff\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/sports\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/play?cgfrom=cg_ntp_pivot\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/money\"></a></li><li><a href=\"https://ntp.msn.cn/edge/ntp?locale=zh-CN&amp;title=%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE%E9%A1%B5&amp;dsp=1&amp;sp=%E5%BF%85%E5%BA%94&amp;PC=U531&amp;prerender=1\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/weather\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/shopping\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/health\"></a></li><li><a href=\"https://www.bing.com/maps/traffic?setlang=zh-cn&amp;FORM=ntpmap\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/gaming/ai\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/lifestyle/calendar\"></a></li></ul><p><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></p><p><super-breaking-news></super-breaking-news><waterfall-view-feed></waterfall-view-feed></p><p><pill-wc></pill-wc></p><p><cs-super-container><cs-responsive-feed-layout><cs-infopane-card-28><cs-card><slot><cs-responsive-infopane></cs-responsive-infopane></slot></cs-card></cs-infopane-card-28></cs-responsive-feed-layout></cs-super-container></p><p><img alt=\"å‡‰æ‹Œèœä¸­çš„â€œé£Ÿææ­å­â€\" src=\"https://ts4.cn.mm.bing.net/th?id=ORMS.ee0397015014c17999b371519ff032db&amp;pid=Wdp&amp;w=300&amp;h=304&amp;qlt=90&amp;c=1&amp;rs=1&amp;dpr=3.75&amp;p=0\"/></p><p><fluent-design-system-provider><slot><edge-chromium-page></edge-chromium-page></slot><slot></slot><slot><card-flipper><slot><path></path></slot></card-flipper></slot><slot><card-flipper><slot><path></path></slot></card-flipper></slot><cs-responsive-card></cs-responsive-card></fluent-design-system-provider></p><p><img alt=\"çˆ±äº«ç¾Žé£Ÿå®¶\" src=\"https://img-s.msn.cn/tenant/amp/entityid/BB1qwQvF?w=16&amp;h=16&amp;q=100&amp;m=6&amp;f=png&amp;u=t\"/>çˆ±äº«</p>","success":true}
2025-02-16 20:29:38.440 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307166533980160[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š42 ms -------------
2025-02-16 20:29:39.380 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307170652786688[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:39.380 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307170652786688[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/543782301327298560 GET
2025-02-16 20:29:39.381 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307170652786688[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:39.381 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307170652786688[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:39.381 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307170652786688[0;39m è¯·æ±‚å‚æ•°: [543782301327298560]
2025-02-16 20:29:39.390 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307170652786688[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:39.390 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307170652786688[0;39m ==> Parameters: 543782301327298560(Long)
2025-02-16 20:29:39.399 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307170652786688[0;39m <==    Columns: id, content
2025-02-16 20:29:39.399 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307170652786688[0;39m <==        Row: 543782301327298560, <<BLOB>>
2025-02-16 20:29:39.400 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307170652786688[0;39m <==      Total: 1
2025-02-16 20:29:39.400 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307170652786688[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:39.400 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307170652786688[0;39m ==> Parameters: 543782301327298560(Long)
2025-02-16 20:29:39.420 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307170652786688[0;39m <==    Updates: 1
2025-02-16 20:29:39.420 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307170652786688[0;39m è¿”å›žç»“æžœ: {"content":"<p>asdad</p>","success":true}
2025-02-16 20:29:39.420 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307170652786688[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š40 ms -------------
2025-02-16 20:29:40.452 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307175149080576[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:29:40.452 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307175149080576[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/doc/find-content/543700364189372416 GET
2025-02-16 20:29:40.452 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307175149080576[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.DocController.findContent
2025-02-16 20:29:40.452 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307175149080576[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:29:40.453 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307175149080576[0;39m è¯·æ±‚å‚æ•°: [543700364189372416]
2025-02-16 20:29:40.465 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307175149080576[0;39m ==>  Preparing: select id , content from content where id = ?
2025-02-16 20:29:40.466 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307175149080576[0;39m ==> Parameters: 543700364189372416(Long)
2025-02-16 20:29:40.475 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307175149080576[0;39m <==    Columns: id, content
2025-02-16 20:29:40.475 TRACE c.j.t.mapper.ContentMapper.selectByPrimaryKey     :143  [32m546307175149080576[0;39m <==        Row: 543700364189372416, <<BLOB>>
2025-02-16 20:29:40.475 DEBUG c.j.t.mapper.ContentMapper.selectByPrimaryKey     :137  [32m546307175149080576[0;39m <==      Total: 1
2025-02-16 20:29:40.476 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307175149080576[0;39m ==>  Preparing: update doc set view_count = view_count + 1 where id = ?
2025-02-16 20:29:40.476 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307175149080576[0;39m ==> Parameters: 543700364189372416(Long)
2025-02-16 20:29:40.492 DEBUG c.j.t.mapper.DocMapperCust.increaseViewCount      :137  [32m546307175149080576[0;39m <==    Updates: 1
2025-02-16 20:29:40.493 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307175149080576[0;39m è¿”å›žç»“æžœ: {"content":"<h3>Microsoft å°Šé‡æ‚¨çš„éšç§</h3><p>Microsoft åŠç¬¬ä¸‰æ–¹ä¾›åº”å•†å°†é€šè¿‡æµè§ˆå™¨å­˜å‚¨ã€è®¿é—®æ‚¨çš„è´¦å·ä¿¡æ¯ï¼Œä»¥ä¾¿æŒç»­ä¸ºæ‚¨æä¾›è‰¯å¥½æœåŠ¡ã€ç»´æŠ¤å¯¹åº”å¹¿å‘Šä¿¡æ¯ã€‚å¦‚æžœæ‚¨åŒæ„ï¼Œæˆ‘ä»¬å°†ä¸ªæ€§åŒ–æ‚¨çœ‹åˆ°çš„å†…å®¹åŠå¹¿å‘Šã€‚æ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»é€‰æ‹©â€œæˆ‘æŽ¥å—â€ä»¥ç¤ºåŒæ„ï¼Œæ‚¨å¯ä»¥é€šè¿‡ç‚¹å‡»â€œç®¡ç†è®¾ç½®â€æŸ¥çœ‹æ‚¨çš„é€‰æ‹©ï¼Œå¹¶é€šè¿‡â€œç®¡ç†è®¾ç½®â€ä¿®æ­£æ‚¨çš„é€‰æ‹©ã€‚<a href=\"https://privacy.microsoft.com/zh-cn/privacystatement\" target=\"_blank\">éšç§å£°æ˜Ž</a></p><h3>æˆ‘ä»¬å’Œåˆä½œä¼™ä¼´å°†å¤„ç†æ•°æ®ï¼Œä»¥å®žçŽ°ï¼š</h3><p>Microsoft åŠä¾›åº”å•†å°†å¯¹æ•°æ®åŠ ä»¥ç»´æŠ¤ï¼Œä»¥ç¡®ä¿å®šä½å‡†ç¡®åŠç²¾å‡†è¯†åˆ«è®¾å¤‡å‚æ•°ï¼šä»Žè€Œé¡ºåˆ©å­˜å‚¨ã€è®¿é—®ç›¸åº”ä¿¡æ¯ï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›ä¸ªæ€§åŒ–å’Œé«˜å“è´¨çš„å†…å®¹ã€äº§å“æˆ–å¹¿å‘Šç­‰æœåŠ¡ã€‚<button>ä¾›åº”å•†åˆ—è¡¨</button></p><p><button>æˆ‘æŽ¥å—</button><button>ç®¡ç†è®¾ç½®</button></p><p><nurturing-banner></nurturing-banner></p><p><nurturing-coach-mark></nurturing-coach-mark></p><p><common-search-box-edgenext><cs-common-search-box></cs-common-search-box></common-search-box-edgenext></p><p><slot></slot><input/><slot></slot><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></p><slot></slot><slot></slot><p><waffle-wc><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></waffle-wc></p><p><welcome-greeting-light></welcome-greeting-light></p><p><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/weather/forecast/in-%E4%B8%8A%E6%B5%B7%E5%B8%82?loc=eyJsIjoi5LiK5rW35biCIiwiciI6IuS4iua1t%2BW4giIsImMiOiLkuK3ljY7kurrmsJHlhbHlkozlm70iLCJpIjoiQ04iLCJnIjoiemgtY24iLCJ4IjoxMjEuNTU0NzcxNDIzMzM5ODQsInkiOjMxLjI0ODgwMDI3NzcwOTk2fQ%3D%3D&amp;weadegreetype=C&amp;ocid=msedgntp&amp;cvid=db2284f5e9794a4a868f70ceacbe2d32\"></a></p><p><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/weather/forecast/in-%E4%B8%8A%E6%B5%B7%E5%B8%82?loc=eyJsIjoi5LiK5rW35biCIiwiciI6IuS4iua1t%2BW4giIsImMiOiLkuK3ljY7kurrmsJHlhbHlkozlm70iLCJpIjoiQ04iLCJnIjoiemgtY24iLCJ4IjoxMjEuNTU0NzcxNDIzMzM5ODQsInkiOjMxLjI0ODgwMDI3NzcwOTk2fQ%3D%3D&amp;weadegreetype=C&amp;ocid=msedgntp&amp;cvid=db2284f5e9794a4a868f70ceacbe2d32\"><img src=\"https://assets.msn.cn/weathermapdata/1/static/weather/Icons/taskbar_v10/Condition_Card/SunnyDayV3.svg\" alt=\"æ™´æœ—\"/></a></p><p><path></path></p><p><fluent-button><button><slot></slot><slot></slot><slot></slot></button></fluent-button></p><p><recommended-sites></recommended-sites></p><ul><li><a target=\"_blank\" href=\"https://cn.bing.com/?form=000047\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AAZLoGU?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>å¿…åº”æœç´¢</a></li><li><a target=\"_blank\" href=\"https://aka.ms/AnaheimRW/ad6-douyin-cid116-pid2/sept24\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA1oqalU?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>æŠ–éŸ³</a></li><li><a target=\"_blank\" href=\"https://aka.ms/AnaheimRW/ad2-jingdong-cid117-pid3/sept24\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA13c1OB?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>äº¬ä¸œ</a></li><li><a target=\"_blank\" href=\"https://ntp.msn.cn/edge/ntp?locale=zh-CN&amp;title=%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE%E9%A1%B5&amp;dsp=1&amp;sp=%E5%BF%85%E5%BA%94&amp;PC=U531&amp;prerender=1#\"><img alt=\"\" src=\"https://img-s.msn.cn/tenant/amp/entityid/AA1iK5tR?w=20&amp;h=0&amp;q=90&amp;m=6&amp;f=png&amp;u=t\"/>æ›´å¤š</a></li></ul><p><fluent-design-system-provider><slot><edge-chromium-page><cs-header-core><common-settings-edgenext><cs-common-settings-dialog></cs-common-settings-dialog></common-settings-edgenext><slot></slot></cs-header-core>å¹¿å‘Š<fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></edge-chromium-page></slot></fluent-design-system-provider></p><p><label></label><fluent-select></fluent-select></p><p><slot></slot><slot></slot></p><p><slot></slot></p><p><slot><path></path></slot></p><p><background-image></background-image></p><p><img src=\"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1msOP7.img\"/></p><p><super-nav></super-nav></p><p><cs-super-nav-horizontal><a target=\"_blank\" href=\"https://www.msn.cn/zh-cn/feed\"></a></cs-super-nav-horizontal></p><ul><li><a href=\"https://www.msn.cn/zh-cn/feed\">å‘çŽ°</a></li><li><a href=\"https://www.msn.cn/zh-cn/feed/interest/following\">å…³æ³¨</a></li></ul><ul><li><a href=\"https://www.msn.cn/zh-cn/gaming\">æ¸¸æˆ</a></li><li><a href=\"https://www.msn.cn/zh-cn/channel/topic/%E8%A6%81%E9%97%BB/tp-Y_77f04c37-b63e-46b4-a990-e926f7d129ff\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/sports\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/play?cgfrom=cg_ntp_pivot\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/money\"></a></li><li><a href=\"https://ntp.msn.cn/edge/ntp?locale=zh-CN&amp;title=%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE%E9%A1%B5&amp;dsp=1&amp;sp=%E5%BF%85%E5%BA%94&amp;PC=U531&amp;prerender=1\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/weather\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/shopping\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/health\"></a></li><li><a href=\"https://www.bing.com/maps/traffic?setlang=zh-cn&amp;FORM=ntpmap\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/gaming/ai\"></a></li><li><a href=\"https://www.msn.cn/zh-cn/lifestyle/calendar\"></a></li></ul><p><fluent-button><button><slot></slot><slot><path></path></slot><slot></slot></button></fluent-button></p><p><super-breaking-news></super-breaking-news><waterfall-view-feed></waterfall-view-feed></p><p><pill-wc></pill-wc></p><p><cs-super-container><cs-responsive-feed-layout><cs-infopane-card-28><cs-card><slot><cs-responsive-infopane></cs-responsive-infopane></slot></cs-card></cs-infopane-card-28></cs-responsive-feed-layout></cs-super-container></p><p><img alt=\"å‡‰æ‹Œèœä¸­çš„â€œé£Ÿææ­å­â€\" src=\"https://ts4.cn.mm.bing.net/th?id=ORMS.ee0397015014c17999b371519ff032db&amp;pid=Wdp&amp;w=300&amp;h=304&amp;qlt=90&amp;c=1&amp;rs=1&amp;dpr=3.75&amp;p=0\"/></p><p><fluent-design-system-provider><slot><edge-chromium-page></edge-chromium-page></slot><slot></slot><slot><card-flipper><slot><path></path></slot></card-flipper></slot><slot><card-flipper><slot><path></path></slot></card-flipper></slot><cs-responsive-card></cs-responsive-card></fluent-design-system-provider></p><p><img alt=\"çˆ±äº«ç¾Žé£Ÿå®¶\" src=\"https://img-s.msn.cn/tenant/amp/entityid/BB1qwQvF?w=16&amp;h=16&amp;q=100&amp;m=6&amp;f=png&amp;u=t\"/>çˆ±äº«</p>","success":true}
2025-02-16 20:29:40.493 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307175149080576[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š41 ms -------------
2025-02-16 20:29:43.037 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:29:46.221 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:29:46.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:30:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546307257143529472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:30:00.008 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307257143529472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:30:00.008 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307257143529472[0;39m ==> Parameters: 
2025-02-16 20:30:00.026 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307257143529472[0;39m <==    Updates: 0
2025-02-16 20:30:00.027 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546307257143529472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š26æ¯«ç§’
2025-02-16 20:30:03.047 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:30:05.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546307278119243776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:30:05.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307278119243776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:30:05.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307278119243776[0;39m ==> Parameters: 
2025-02-16 20:30:05.024 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307278119243776[0;39m <==    Updates: 2
2025-02-16 20:30:05.025 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546307278119243776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š23æ¯«ç§’
2025-02-16 20:30:16.228 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:30:16.285 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:30:19.735 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307339913924610[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:30:19.735 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307339913924609[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:30:19.735 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307339913924608[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307339913924610[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307339913924609[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307339913924608[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307339913924610[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307339913924609[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307339913924608[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307339913924610[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307339913924610[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307339913924609[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307339913924608[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307339913924609[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:30:19.736 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307339913924608[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:30:29.606 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546307166533980160[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼š6ps1w97eNpï¼Œsession idï¼š1ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 20:30:29.607 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307381320093696[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:30:29.607 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307381320093698[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:30:29.607 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307381320093697[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:30:29.607 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307381320093696[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307381320093697[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307381320093696[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307381320093698[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307381320093697[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307381320093696[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307381320093697[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m546307170652786688[0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šeeUrWoPLmbï¼Œsession idï¼š2ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307381320093698[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307381320093697[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307381320093698[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307381320093698[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:30:29.608 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307381320093696[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:30:29.617 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307339913924608[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:30:29.617 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307339913924608[0;39m ==> Parameters: 
2025-02-16 20:30:29.618 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307339913924610[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-02-16 20:30:29.619 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307339913924610[0;39m ==> Parameters: 
2025-02-16 20:30:29.620 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:30:29.622 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307339913924609[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:30:29.622 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307381320093697[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:30:29.622 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307381320093697[0;39m ==> Parameters: 
2025-02-16 20:30:29.622 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307339913924609[0;39m ==> Parameters: 
2025-02-16 20:30:29.626 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546307339913924608[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-02-16 20:30:29.626 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307381320093698[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-02-16 20:30:29.626 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307381320093696[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:30:29.626 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546307339913924608[0;39m <==        Row: 2025-02-15, 0, 0
2025-02-16 20:30:29.626 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307381320093698[0;39m ==> Parameters: 
2025-02-16 20:30:29.626 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307381320093696[0;39m ==> Parameters: 
2025-02-16 20:30:29.626 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307339913924608[0;39m <==      Total: 1
2025-02-16 20:30:29.627 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307339913924608[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2025-02-16 20:30:29.627 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==    Columns: id, parent, name, sort
2025-02-16 20:30:29.627 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307339913924608[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9892 ms -------------
2025-02-16 20:30:29.627 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 543797670435753984, 0, nayiæ‰¾å·¥ä½œæƒ…å†µ, 90
2025-02-16 20:30:29.628 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 100, 0, å°±ä¸šè¾…å¯¼, 100
2025-02-16 20:30:29.628 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 101, 100, Vue, 101
2025-02-16 20:30:29.628 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-02-16 20:30:29.628 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 200, 0, å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„, 200
2025-02-16 20:30:29.628 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2025-02-16 20:30:29.629 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2025-02-16 20:30:29.629 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 300, 0, Python, 300
2025-02-16 20:30:29.629 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2025-02-16 20:30:29.629 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2025-02-16 20:30:29.629 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2025-02-16 20:30:29.629 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 401, 400, MySQL, 401
2025-02-16 20:30:29.630 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2025-02-16 20:30:29.630 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2025-02-16 20:30:29.630 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2025-02-16 20:30:29.630 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307339913924610[0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2025-02-16 20:30:29.630 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307339913924610[0;39m <==      Total: 16
2025-02-16 20:30:29.631 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307339913924610[0;39m è¿”å›žç»“æžœ: {"content":[{"id":543797670435753984,"name":"nayiæ‰¾å·¥ä½œæƒ…å†µ","parent":0,"sort":90},{"id":100,"name":"å°±ä¸šè¾…å¯¼","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2025-02-16 20:30:29.631 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307339913924610[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9896 ms -------------
2025-02-16 20:30:29.631 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546307381320093697[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-02-16 20:30:29.632 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546307381320093697[0;39m <==        Row: 2025-02-15, 0, 0
2025-02-16 20:30:29.632 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307381320093697[0;39m <==      Total: 1
2025-02-16 20:30:29.633 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307381320093697[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2025-02-16 20:30:29.633 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307381320093697[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š26 ms -------------
2025-02-16 20:30:29.633 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307339913924609[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 20:30:29.635 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==    Columns: id, parent, name, sort
2025-02-16 20:30:29.640 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307381320093696[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 20:30:29.645 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 543797670435753984, 0, nayiæ‰¾å·¥ä½œæƒ…å†µ, 90
2025-02-16 20:30:29.646 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307381320093696[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 20:30:29.646 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307339913924609[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 20:30:29.646 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 100, 0, å°±ä¸šè¾…å¯¼, 100
2025-02-16 20:30:29.646 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307381320093696[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 20:30:29.646 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307339913924609[0;39m <==        Row: 2025-02-16, 118, 19, 118, 19
2025-02-16 20:30:29.646 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 101, 100, Vue, 101
2025-02-16 20:30:29.646 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307381320093696[0;39m <==      Total: 2
2025-02-16 20:30:29.646 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307339913924609[0;39m <==      Total: 2
2025-02-16 20:30:29.646 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-02-16 20:30:29.647 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 200, 0, å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„, 200
2025-02-16 20:30:29.647 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307339913924609[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 20:30:29.647 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307381320093696[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":118,"viewIncrease":118,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 20:30:29.647 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2025-02-16 20:30:29.647 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307339913924609[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š9912 ms -------------
2025-02-16 20:30:29.647 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307381320093696[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š40 ms -------------
2025-02-16 20:30:29.647 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2025-02-16 20:30:29.647 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 300, 0, Python, 300
2025-02-16 20:30:29.648 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2025-02-16 20:30:29.648 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2025-02-16 20:30:29.648 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2025-02-16 20:30:29.649 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 401, 400, MySQL, 401
2025-02-16 20:30:29.649 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2025-02-16 20:30:29.649 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2025-02-16 20:30:29.649 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2025-02-16 20:30:29.649 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307381320093698[0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2025-02-16 20:30:29.650 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307381320093698[0;39m <==      Total: 16
2025-02-16 20:30:29.651 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307381320093698[0;39m è¿”å›žç»“æžœ: {"content":[{"id":543797670435753984,"name":"nayiæ‰¾å·¥ä½œæƒ…å†µ","parent":0,"sort":90},{"id":100,"name":"å°±ä¸šè¾…å¯¼","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2025-02-16 20:30:29.651 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307381320093698[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š44 ms -------------
2025-02-16 20:30:35.002 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546307403948363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:30:35.009 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307403948363776[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:30:35.010 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307403948363776[0;39m ==> Parameters: 
2025-02-16 20:30:35.023 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307403948363776[0;39m <==    Updates: 2
2025-02-16 20:30:35.023 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546307403948363776[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š21æ¯«ç§’
2025-02-16 20:30:46.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:30:46.279 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:30:49.635 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:31:00.001 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546307508801769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:31:00.016 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307508801769472[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:31:00.017 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307508801769472[0;39m ==> Parameters: 
2025-02-16 20:31:00.038 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307508801769472[0;39m <==    Updates: 0
2025-02-16 20:31:00.038 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546307508801769472[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š37æ¯«ç§’
2025-02-16 20:31:05.010 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546307529811038208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:31:05.019 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307529811038208[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:31:05.020 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307529811038208[0;39m ==> Parameters: 
2025-02-16 20:31:05.039 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307529811038208[0;39m <==    Updates: 2
2025-02-16 20:31:05.040 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546307529811038208[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š30æ¯«ç§’
2025-02-16 20:31:09.648 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:31:16.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:31:16.264 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:31:29.659 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:31:35.009 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546307655635963904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:31:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307655635963904[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:31:35.031 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307655635963904[0;39m ==> Parameters: 
2025-02-16 20:31:35.048 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546307655635963904[0;39m <==    Updates: 2
2025-02-16 20:31:35.048 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546307655635963904[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š39æ¯«ç§’
2025-02-16 20:31:46.236 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:31:46.266 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:31:49.669 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:31:52.911 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m546307170652786688[0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šeeUrWoPLmbï¼Œsession idï¼š2ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 20:31:53.505 INFO  com.juege.tech_doc.websocket.WebSocketServer      :32   [32m546307339913924608[0;39m æœ‰æ–°è¿žæŽ¥ï¼štokenï¼šnzSAKszbg7ï¼Œsession idï¼š3ï¼Œå½“å‰è¿žæŽ¥æ•°ï¼š1
2025-02-16 20:31:53.569 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307733482246144[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:31:53.569 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307733482246144[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-statistic GET
2025-02-16 20:31:53.569 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307733482246145[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307733482246145[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/ebook-snapshot/get-30-statistic GET
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307733482246144[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.getStatistic
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :53   [32m546307733486440448[0;39m ------------- å¼€å§‹ -------------
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307733482246145[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.EbookSnapshotController.get30Statistic
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307733482246144[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :54   [32m546307733486440448[0;39m è¯·æ±‚åœ°å€: http://127.0.0.1:8880/category/all GET
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307733482246145[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307733482246144[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :55   [32m546307733486440448[0;39m ç±»åæ–¹æ³•: com.juege.tech_doc.controller.CategoryController.all
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307733482246145[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :56   [32m546307733486440448[0;39m è¿œç¨‹åœ°å€: 127.0.0.1
2025-02-16 20:31:53.570 INFO  com.juege.tech_doc.aspect.LogAspect               :78   [32m546307733486440448[0;39m è¯·æ±‚å‚æ•°: []
2025-02-16 20:31:59.623 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307733482246145[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` between date_sub(curdate(), interval 30 day) and date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:31:59.623 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307733486440448[0;39m ==>  Preparing: select id, parent, `name`, sort from category order by sort asc
2025-02-16 20:31:59.625 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307733482246145[0;39m ==> Parameters: 
2025-02-16 20:31:59.625 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307733486440448[0;39m ==> Parameters: 
2025-02-16 20:32:02.537 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :32   [32m546307771096764416[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§å¼€å§‹
2025-02-16 20:32:02.537 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546307733482246145[0;39m <==    Columns: date, viewIncrease, voteIncrease
2025-02-16 20:32:02.537 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==    Columns: id, parent, name, sort
2025-02-16 20:32:02.537 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 543797670435753984, 0, nayiæ‰¾å·¥ä½œæƒ…å†µ, 90
2025-02-16 20:32:02.537 TRACE c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :143  [32m546307733482246145[0;39m <==        Row: 2025-02-15, 0, 0
2025-02-16 20:32:02.538 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 100, 0, å°±ä¸šè¾…å¯¼, 100
2025-02-16 20:32:02.538 DEBUG c.j.t.m.EbookSnapshotMapperCust.get30Statistic    :137  [32m546307733482246145[0;39m <==      Total: 1
2025-02-16 20:32:02.538 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 101, 100, Vue, 101
2025-02-16 20:32:02.538 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 102, 100, HTML & CSS, 102
2025-02-16 20:32:02.539 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307733482246145[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0}],"success":true}
2025-02-16 20:32:02.539 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307733482246145[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8970 ms -------------
2025-02-16 20:32:02.539 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 200, 0, å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„, 200
2025-02-16 20:32:02.539 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 201, 200, åŸºç¡€åº”ç”¨, 201
2025-02-16 20:32:02.540 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 202, 200, æ¡†æž¶åº”ç”¨, 202
2025-02-16 20:32:02.540 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 300, 0, Python, 300
2025-02-16 20:32:02.541 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 301, 300, åŸºç¡€åº”ç”¨, 301
2025-02-16 20:32:02.541 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 302, 300, è¿›é˜¶æ–¹å‘åº”ç”¨, 302
2025-02-16 20:32:02.541 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 400, 0, æ•°æ®åº“, 400
2025-02-16 20:32:02.541 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 401, 400, MySQL, 401
2025-02-16 20:32:02.542 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 500, 0, å…¶å®ƒ, 500
2025-02-16 20:32:02.542 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 501, 500, æœåŠ¡å™¨, 501
2025-02-16 20:32:02.542 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 502, 500, å¼€å‘å·¥å…·, 502
2025-02-16 20:32:02.542 TRACE c.j.tech_doc.mapper.CategoryMapper.selectByExample:143  [32m546307733486440448[0;39m <==        Row: 503, 500, çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€, 503
2025-02-16 20:32:02.543 DEBUG c.j.tech_doc.mapper.CategoryMapper.selectByExample:137  [32m546307733486440448[0;39m <==      Total: 16
2025-02-16 20:32:02.544 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307733486440448[0;39m è¿”å›žç»“æžœ: {"content":[{"id":543797670435753984,"name":"nayiæ‰¾å·¥ä½œæƒ…å†µ","parent":0,"sort":90},{"id":100,"name":"å°±ä¸šè¾…å¯¼","parent":0,"sort":100},{"id":101,"name":"Vue","parent":100,"sort":101},{"id":102,"name":"HTML & CSS","parent":100,"sort":102},{"id":200,"name":"å°±ä¸šæ–¹å‘/æ™‹å‡è·¯å¾„","parent":0,"sort":200},{"id":201,"name":"åŸºç¡€åº”ç”¨","parent":200,"sort":201},{"id":202,"name":"æ¡†æž¶åº”ç”¨","parent":200,"sort":202},{"id":300,"name":"Python","parent":0,"sort":300},{"id":301,"name":"åŸºç¡€åº”ç”¨","parent":300,"sort":301},{"id":302,"name":"è¿›é˜¶æ–¹å‘åº”ç”¨","parent":300,"sort":302},{"id":400,"name":"æ•°æ®åº“","parent":0,"sort":400},{"id":401,"name":"MySQL","parent":400,"sort":401},{"id":500,"name":"å…¶å®ƒ","parent":0,"sort":500},{"id":501,"name":"æœåŠ¡å™¨","parent":500,"sort":501},{"id":502,"name":"å¼€å‘å·¥å…·","parent":500,"sort":502},{"id":503,"name":"çƒ­é—¨æœåŠ¡ç«¯è¯­è¨€","parent":500,"sort":503}],"success":true}
2025-02-16 20:32:02.544 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307733486440448[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š8974 ms -------------
2025-02-16 20:32:02.554 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307771096764416[0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2025-02-16 20:32:02.555 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307771096764416[0;39m ==> Parameters: 
2025-02-16 20:32:02.556 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307733482246144[0;39m ==>  Preparing: select t1.`date` as `date`, sum(t1.view_count) as viewCount, sum(t1.vote_count) as voteCount, sum(t1.view_increase) as viewIncrease, sum(t1.vote_increase) as voteIncrease from ebook_snapshot t1 where t1.`date` >= date_sub(curdate(), interval 1 day) group by t1.`date` order by t1.`date` asc;
2025-02-16 20:32:02.557 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307733482246144[0;39m ==> Parameters: 
2025-02-16 20:32:02.572 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307733482246144[0;39m <==    Columns: date, viewCount, voteCount, viewIncrease, voteIncrease
2025-02-16 20:32:02.574 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307733482246144[0;39m <==        Row: 2025-02-15, 0, 0, 0, 0
2025-02-16 20:32:02.578 TRACE c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :143  [32m546307733482246144[0;39m <==        Row: 2025-02-16, 127, 19, 127, 19
2025-02-16 20:32:02.579 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m546307771096764416[0;39m <==    Updates: 0
2025-02-16 20:32:02.579 INFO  com.juege.tech_doc.job.EbookSnapshotJob           :35   [32m546307771096764416[0;39m ç”Ÿæˆä»Šæ—¥ç”µå­ä¹¦å¿«ç…§ç»“æŸï¼Œè€—æ—¶ï¼š42æ¯«ç§’
2025-02-16 20:32:02.580 DEBUG c.j.t.mapper.EbookSnapshotMapperCust.getStatistic :137  [32m546307733482246144[0;39m <==      Total: 2
2025-02-16 20:36:09.930 WARN  com.zaxxer.hikari.pool.HikariPool                 :788  [32m                  [0;39m HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=4m7s393ms517Âµs700ns).
2025-02-16 20:36:09.930 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546308808738213888[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:36:11.902 INFO  com.juege.tech_doc.aspect.LogAspect               :90   [32m546307733482246144[0;39m è¿”å›žç»“æžœ: {"content":[{"date":1739548800000,"viewCount":0,"viewIncrease":0,"voteCount":0,"voteIncrease":0},{"date":1739635200000,"viewCount":127,"viewIncrease":127,"voteCount":19,"voteIncrease":19}],"success":true}
2025-02-16 20:36:11.903 INFO  com.juege.tech_doc.aspect.LogAspect               :91   [32m546307733482246144[0;39m ------------- ç»“æŸ è€—æ—¶ï¼š258334 ms -------------
2025-02-16 20:36:11.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 20:36:11.910 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 20:36:11.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 20:36:11.911 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 20:36:11.912 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:11.935 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:11.945 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:11.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:11.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:36:11.955 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:11.967 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:11.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:11.986 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:11.990 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.002 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.019 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.048 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.079 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.121 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.152 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.184 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.835 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-02-16 20:36:12.837 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:12.857 INFO  com.juege.tech_doc.websocket.WebSocketServer      :41   [32m                  [0;39m è¿žæŽ¥å…³é—­ï¼Œtokenï¼šnzSAKszbg7ï¼Œsession idï¼š3ï¼å½“å‰è¿žæŽ¥æ•°ï¼š0
2025-02-16 20:36:12.862 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :216  [32m                  [0;39m container destroyed, DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 20:36:12.863 INFO  com.zaxxer.hikari.HikariDataSource                :350  [32m                  [0;39m HikariPool-2 - Shutdown initiated...
2025-02-16 20:36:15.872 WARN  com.zaxxer.hikari.pool.PoolBase                   :184  [32m546308808738213888[0;39m HikariPool-2 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@43bc9333 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-02-16 20:36:15.875 ERROR o.s.s.support.TaskUtils$LoggingErrorHandler       :95   [32m546308808738213888[0;39m Unexpected error occurred in scheduled task
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 5938ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 5938ms.
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at jdk.proxy2/jdk.proxy2.$Proxy92.update(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:287)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:67)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:152)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:85)
	at jdk.proxy5/jdk.proxy5.$Proxy141.updateEbookInfo(Unknown Source)
	at com.juege.tech_doc.service.DocService.updateEbookInfo(DocService.java:171)
	at com.juege.tech_doc.service.DocService$$FastClassBySpringCGLIB$$5a3e0052.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.juege.tech_doc.service.DocService$$EnhancerBySpringCGLIB$$642c9c69.updateEbookInfo(<generated>)
	at com.juege.tech_doc.job.DocJob.cron(DocJob.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error updating database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 5938ms.
### The error may exist in file [F:\code\tech_doc\target\classes\mapper\DocMapperCust.xml]
### The error may involve com.juege.tech_doc.mapper.DocMapperCust.updateEbookInfo
### The error occurred while executing an update
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 5938ms.
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor88.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 26 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 5938ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:337)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:86)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at jdk.internal.reflect.GeneratedMethodAccessor89.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at jdk.proxy2/jdk.proxy2.$Proxy132.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	... 30 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 5938ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 43 common frames omitted
Caused by: java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:110)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:73)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2498)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:566)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:173)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:186)
	... 48 common frames omitted
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:1171)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:576)
	at com.mysql.cj.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:2494)
	... 51 common frames omitted
2025-02-16 20:36:16.222 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:16.268 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:17.967 INFO  com.zaxxer.hikari.util.ConcurrentBag              :205  [32m                  [0;39m ConcurrentBag has been closed, ignoring add()
2025-02-16 20:36:25.867 INFO  com.zaxxer.hikari.HikariDataSource                :352  [32m                  [0;39m HikariPool-2 - Shutdown completed.
2025-02-16 20:36:25.975 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:25.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:25.976 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 20:36:25.977 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:25.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:25.978 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[106.75.209.170:9876] result: true
2025-02-16 20:36:26.186 INFO  com.juege.tech_doc.TechDocApplication             :55   [32m                  [0;39m Starting TechDocApplication using Java 17.0.5 on DESKTOP-2QUSS0R with PID 14180 (F:\code\tech_doc\target\classes started by admin in F:\code\tech_doc)
2025-02-16 20:36:26.186 INFO  com.juege.tech_doc.TechDocApplication             :663  [32m                  [0;39m No active profile set, falling back to default profiles: default
2025-02-16 20:36:26.604 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :262  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2025-02-16 20:36:26.604 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :132  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-16 20:36:26.627 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :201  [32m                  [0;39m Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-02-16 20:36:26.682 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQAutoConfiguration$$EnhancerBySpringCGLIB$$a32fe4eb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.686 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.713 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'defaultMQProducer' of type [org.apache.rocketmq.client.producer.DefaultMQProducer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.714 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonConfig' of type [com.juege.tech_doc.config.JacksonConfig$$EnhancerBySpringCGLIB$$74f99b99] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.715 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.715 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.717 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.717 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.718 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.718 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.719 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.720 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.720 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.721 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.721 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.725 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.791 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'rocketMQTemplate' of type [org.apache.rocketmq.spring.core.RocketMQTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.791 INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:376  [32m                  [0;39m Bean 'transactionHandlerRegistry' of type [org.apache.rocketmq.spring.config.TransactionHandlerRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2025-02-16 20:36:26.871 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2025-02-16 20:36:26.871 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2025-02-16 20:36:26.871 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2025-02-16 20:36:26.871 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.46]
2025-02-16 20:36:26.891 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2025-02-16 20:36:26.891 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :290  [32m                  [0;39m Root WebApplicationContext: initialization completed in 702 ms
2025-02-16 20:36:27.601 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2025-02-16 20:36:27.660 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:27.660 INFO  o.a.r.s.support.DefaultRocketMQListenerContainer  :243  [32m                  [0;39m running container: DefaultRocketMQListenerContainer{consumerGroup='default', nameServer='106.75.209.170:9876', topic='VOTE_TOPIC', consumeMode=CONCURRENTLY, selectorType=TAG, selectorExpression='*', messageModel=CLUSTERING}
2025-02-16 20:36:27.661 INFO  o.a.r.s.a.ListenerContainerConfiguration          :107  [32m                  [0;39m Register the listener to container, listenerBeanName:voteTopicConsumer, containerBeanName:org.apache.rocketmq.spring.support.DefaultRocketMQListenerContainer_1
2025-02-16 20:36:27.663 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2025-02-16 20:36:27.668 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2025-02-16 20:36:27.668 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:36:27.672 INFO  com.juege.tech_doc.TechDocApplication             :61   [32m                  [0;39m Started TechDocApplication in 1.626 seconds (JVM running for 820.637)
2025-02-16 20:36:27.672 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state LivenessState changed to CORRECT
2025-02-16 20:36:27.673 INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener :63   [32m                  [0;39m Condition evaluation unchanged
2025-02-16 20:36:27.673 INFO  o.s.boot.availability.ApplicationAvailabilityBean :75   [32m                  [0;39m Application availability state ReadinessState changed to ACCEPTING_TRAFFIC
2025-02-16 20:36:27.673 INFO  com.juege.tech_doc.TechDocApplication             :25   [32m                  [0;39m å¯åŠ¨æˆåŠŸï¼ï¼
2025-02-16 20:36:27.673 INFO  com.juege.tech_doc.TechDocApplication             :26   [32m                  [0;39m åœ°å€: 	http://127.0.0.1:8880
2025-02-16 20:36:27.758 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:27.804 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:35.007 INFO  com.juege.tech_doc.job.DocJob                     :31   [32m546308913918775296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®å¼€å§‹
2025-02-16 20:36:35.010 WARN  com.zaxxer.hikari.HikariConfig                    :1084 [32m546308913918775296[0;39m HikariPool-3 - idleTimeout is close to or more than maxLifetime, disabling it.
2025-02-16 20:36:35.010 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m546308913918775296[0;39m HikariPool-3 - Starting...
2025-02-16 20:36:35.143 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m546308913918775296[0;39m HikariPool-3 - Start completed.
2025-02-16 20:36:35.144 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546308913918775296[0;39m ==>  Preparing: update ebook t1, (select ebook_id, count(1) doc_count, sum(view_count) view_count, sum(vote_count) vote_count from doc group by ebook_id) t2 set t1.doc_count = t2.doc_count, t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.id = t2.ebook_id
2025-02-16 20:36:35.144 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546308913918775296[0;39m ==> Parameters: 
2025-02-16 20:36:35.162 DEBUG c.j.tech_doc.mapper.DocMapperCust.updateEbookInfo :137  [32m546308913918775296[0;39m <==    Updates: 2
2025-02-16 20:36:35.162 INFO  com.juege.tech_doc.job.DocJob                     :34   [32m546308913918775296[0;39m æ›´æ–°ç”µå­ä¹¦ä¸‹çš„æ–‡æ¡£æ•°æ®ç»“æŸï¼Œè€—æ—¶ï¼š155æ¯«ç§’
2025-02-16 20:36:47.682 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10909] result: true
2025-02-16 20:36:57.756 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
2025-02-16 20:36:57.793 INFO  RocketmqRemoting                                  :95   [32m                  [0;39m closeChannel: close the connection to remote address[127.0.0.1:10911] result: true
